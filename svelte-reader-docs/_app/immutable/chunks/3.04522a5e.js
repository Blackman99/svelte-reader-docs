import{u as Ns,T as P9,U as z9,s as de,D as bn,f as R,a as P,g as I,h as Y,c as z,d as B,j as x,k as Ts,B as Ke,i as q,r as F,F as be,G as Bn,H as _n,I as wn,P as Wo,V as pp,t as M9,l as te,m as ne,n as Ye,J as Ta,Q as U9,R as H9,p as rr,q as Zo,e as Je,W as cp,w as Te,x as Se,S as bc,o as V9,X as ss,z as Zr,A as up,C as ir,Y as j9,M as yp,K as W9,L as Z9}from"./scheduler.0543d4e7.js";import{n as G9,l as Y9,h as X9,j as K9,S as fe,i as he,g as Ft,c as kt,a as ps,t as fs,k as J9,o as Q9,b as Bs,d as ks,m as _s,e as ws}from"./index.e5411902.js";import{P as su}from"./CopyCode.svelte_svelte_type_style_lang.b2cef5a1.js";import{c as eu,b as tu,d as Bc,E as it,L as Ir}from"./Link.f52f8ba1.js";import{e as ct,u as dp,p as nu,q as au,g as lu,a as ou}from"./Link.svelte_svelte_type_style_lang.59f875cc.js";import{w as fp,e as mt}from"./singletons.3f476902.js";import{_ as ru}from"./preload-helper.a6e8ca2b.js";function iu(l,s,e,t){if(!s)return Ns;const n=l.getBoundingClientRect();if(s.left===n.left&&s.right===n.right&&s.top===n.top&&s.bottom===n.bottom)return Ns;const{delay:a=0,duration:o=300,easing:r=P9,start:i=G9()+a,end:p=i+o,tick:c=Ns,css:u}=e(l,{from:s,to:n},t);let f=!0,h=!1,g;function m(){u&&(g=X9(l,0,1,o,a,r,u)),a||(h=!0)}function d(){u&&K9(l,g),f=!1}return Y9(v=>{if(!h&&v>=i&&(h=!0),h&&v>=p&&(c(1,0),d()),!f)return!1;if(h){const A=v-i,C=0+1*r(A/o);c(C,1-C)}return!0}),m(),c(0,1),d}function pu(l){const s=getComputedStyle(l);if(s.position!=="absolute"&&s.position!=="fixed"){const{width:e,height:t}=s,n=l.getBoundingClientRect();l.style.position="absolute",l.style.width=e,l.style.height=t,_c(l,n)}}function _c(l,s){const e=l.getBoundingClientRect();if(s.left!==e.left||s.top!==e.top){const t=getComputedStyle(l),n=t.transform==="none"?"":t.transform;l.style.transform=`${n} translate(${s.left-e.left}px, ${s.top-e.top}px)`}}function cu(l,{from:s,to:e},t={}){const n=getComputedStyle(l),a=n.transform==="none"?"":n.transform,[o,r]=n.transformOrigin.split(" ").map(parseFloat),i=s.left+s.width*o/e.width-(e.left+o),p=s.top+s.height*r/e.height-(e.top+r),{delay:c=0,duration:u=h=>Math.sqrt(h)*120,easing:f=eu}=t;return{delay:c,duration:z9(u)?u(Math.sqrt(i*i+p*p)):u,easing:f,css:(h,g)=>{const m=g*i,d=g*p,v=h+g*s.width/e.width,A=h+g*s.height/e.height;return`transform: ${a} translate(${m}px, ${d}px) scale(${v}, ${A});`}}}function hp(l,s,e){const t=l.slice();return t[18]=s[e].width,t[19]=s[e].left,t[21]=e,t}function vp(l,s,e){const t=l.slice();t[22]=s[e].name,t[23]=s[e].activeIcon,t[24]=s[e].inactiveIcon;const n=t[4]===t[22];return t[25]=n,t}function uu(l){let s,e,t;var n=l[24];function a(o){return{}}return n&&(s=Zo(n,a())),{c(){s&&Bs(s.$$.fragment),e=Je()},l(o){s&&ks(s.$$.fragment,o),e=Je()},m(o,r){s&&_s(s,o,r),q(o,e,r),t=!0},p(o,r){if(r&2&&n!==(n=o[24])){if(s){Ft();const i=s;fs(i.$$.fragment,1,0,()=>{ws(i,1)}),kt()}n?(s=Zo(n,a()),Bs(s.$$.fragment),ps(s.$$.fragment,1),_s(s,e.parentNode,e)):s=null}},i(o){t||(s&&ps(s.$$.fragment,o),t=!0)},o(o){s&&fs(s.$$.fragment,o),t=!1},d(o){o&&B(e),s&&ws(s,o)}}}function yu(l){let s,e,t=l[23]&&Ep(l);return{c(){t&&t.c(),s=Je()},l(n){t&&t.l(n),s=Je()},m(n,a){t&&t.m(n,a),q(n,s,a),e=!0},p(n,a){n[23]?t?(t.p(n,a),a&2&&ps(t,1)):(t=Ep(n),t.c(),ps(t,1),t.m(s.parentNode,s)):t&&(Ft(),fs(t,1,1,()=>{t=null}),kt())},i(n){e||(ps(t),e=!0)},o(n){fs(t),e=!1},d(n){n&&B(s),t&&t.d(n)}}}function Ep(l){let s,e,t;var n=l[23];function a(o){return{}}return n&&(s=Zo(n,a())),{c(){s&&Bs(s.$$.fragment),e=Je()},l(o){s&&ks(s.$$.fragment,o),e=Je()},m(o,r){s&&_s(s,o,r),q(o,e,r),t=!0},p(o,r){if(r&2&&n!==(n=o[23])){if(s){Ft();const i=s;fs(i.$$.fragment,1,0,()=>{ws(i,1)}),kt()}n?(s=Zo(n,a()),Bs(s.$$.fragment),ps(s.$$.fragment,1),_s(s,e.parentNode,e)):s=null}},i(o){t||(s&&ps(s.$$.fragment,o),t=!0)},o(o){s&&fs(s.$$.fragment,o),t=!1},d(o){o&&B(e),s&&ws(s,o)}}}function Ap(l,s){let e,t,n,a,o,r=s[22]+"",i,p,c,u,f;const h=[yu,uu],g=[];function m(A,C){return A[25]?0:A[24]?1:-1}~(t=m(s))&&(n=g[t]=h[t](s));function d(){return s[14](s[22])}function v(){return s[15](s[22])}return{key:l,first:null,c(){e=R("div"),n&&n.c(),a=P(),o=R("div"),i=te(r),this.h()},l(A){e=I(A,"DIV",{class:!0,"data-tab-name":!0,role:!0,tabindex:!0});var C=Y(e);n&&n.l(C),a=z(C),o=I(C,"DIV",{class:!0});var b=Y(o);i=ne(b,r),b.forEach(B),C.forEach(B),this.h()},h(){x(o,"class","svelte-azcy50"),Ke(o,"name",s[25]&&s[23]||!s[25]&&s[24]),x(e,"class","tab-header-item svelte-azcy50"),x(e,"data-tab-name",p=s[22]),x(e,"role","tab"),x(e,"tabindex","0"),Ke(e,"active",s[25]),this.first=e},m(A,C){q(A,e,C),~t&&g[t].m(e,null),F(e,a),F(e,o),F(o,i),c=!0,u||(f=[be(e,"click",d),be(e,"keypress",v)],u=!0)},p(A,C){s=A;let b=t;t=m(s),t===b?~t&&g[t].p(s,C):(n&&(Ft(),fs(g[b],1,1,()=>{g[b]=null}),kt()),~t?(n=g[t],n?n.p(s,C):(n=g[t]=h[t](s),n.c()),ps(n,1),n.m(e,a)):n=null),(!c||C&2)&&r!==(r=s[22]+"")&&Ye(i,r),(!c||C&18)&&Ke(o,"name",s[25]&&s[23]||!s[25]&&s[24]),(!c||C&2&&p!==(p=s[22]))&&x(e,"data-tab-name",p),(!c||C&18)&&Ke(e,"active",s[25])},i(A){c||(ps(n),c=!0)},o(A){fs(n),c=!1},d(A){A&&B(e),~t&&g[t].d(),u=!1,Ta(f)}}}function Dp(l,s){let e,t,n,a,o,r=Ns,i;return{key:l,first:null,c(){e=R("div"),this.h()},l(p){e=I(p,"DIV",{class:!0,style:!0}),Y(e).forEach(B),this.h()},h(){x(e,"class","active-bar svelte-azcy50"),x(e,"style",t=`--bar-width: ${s[18]}px;--bar-left: ${s[19]}px;`),this.first=e},m(p,c){q(p,e,c),i=!0},p(p,c){s=p,(!i||c&24&&t!==(t=`--bar-width: ${s[18]}px;--bar-left: ${s[19]}px;`))&&x(e,"style",t)},r(){o=e.getBoundingClientRect()},f(){pu(e),r(),_c(e,o)},a(){r(),r=iu(e,o,cu,{duration:200,easing:Bc})},i(p){i||(p&&U9(()=>{i&&(a&&a.end(1),n=J9(e,s[9],{key:s[21]}),n.start())}),i=!0)},o(p){n&&n.invalidate(),p&&(a=Q9(e,s[8],{key:s[21]})),i=!1},d(p){p&&B(e),p&&a&&a.end()}}}function du(l){let s,e,t=[],n=new Map,a,o=[],r=new Map,i,p,c,u,f,h,g=ct(l[1]);const m=b=>b[22];for(let b=0;b<g.length;b+=1){let E=vp(l,g,b),D=m(E);n.set(D,t[b]=Ap(D,E))}let d=ct(l[3].filter(l[16]));const v=b=>b[21];for(let b=0;b<d.length;b+=1){let E=hp(l,d,b),D=v(E);r.set(D,o[b]=Dp(D,E))}const A=l[13].default,C=bn(A,l,l[12],null);return{c(){s=R("div"),e=R("div");for(let b=0;b<t.length;b+=1)t[b].c();a=P();for(let b=0;b<o.length;b+=1)o[b].c();i=P(),p=R("div"),c=R("div"),C&&C.c(),this.h()},l(b){s=I(b,"DIV",{class:!0});var E=Y(s);e=I(E,"DIV",{class:!0,style:!0});var D=Y(e);for(let U=0;U<t.length;U+=1)t[U].l(D);a=z(D);for(let U=0;U<o.length;U+=1)o[U].l(D);D.forEach(B),i=z(E),p=I(E,"DIV",{class:!0});var N=Y(p);c=I(N,"DIV",{class:!0});var O=Y(c);C&&C.l(O),O.forEach(B),N.forEach(B),E.forEach(B),this.h()},h(){x(e,"class","tab-header svelte-azcy50"),Ts(e,"--bar-op","0"),x(c,"class","tab-body svelte-azcy50"),x(p,"class","svelte-azcy50"),Ke(p,"padding",l[0]),x(s,"class","svp-tab svelte-azcy50")},m(b,E){q(b,s,E),F(s,e);for(let D=0;D<t.length;D+=1)t[D]&&t[D].m(e,null);F(e,a);for(let D=0;D<o.length;D+=1)o[D]&&o[D].m(e,null);F(s,i),F(s,p),F(p,c),C&&C.m(c,null),l[17](s),u=!0,f||(h=be(window,"resize",l[10]),f=!0)},p(b,[E]){if(E&146&&(g=ct(b[1]),Ft(),t=dp(t,E,m,1,b,g,n,e,nu,Ap,a,vp),kt()),E&24){d=ct(b[3].filter(b[16])),Ft();for(let D=0;D<o.length;D+=1)o[D].r();o=dp(o,E,v,1,b,d,r,e,au,Dp,null,hp);for(let D=0;D<o.length;D+=1)o[D].a();kt()}C&&C.p&&(!u||E&4096)&&Bn(C,A,b,b[12],u?wn(A,b[12],E,null):_n(b[12]),null),(!u||E&1)&&Ke(p,"padding",b[0])},i(b){if(!u){for(let E=0;E<g.length;E+=1)ps(t[E]);for(let E=0;E<d.length;E+=1)ps(o[E]);ps(C,b),u=!0}},o(b){for(let E=0;E<t.length;E+=1)fs(t[E]);for(let E=0;E<o.length;E+=1)fs(o[E]);fs(C,b),u=!1},d(b){b&&B(s);for(let E=0;E<t.length;E+=1)t[E].d();for(let E=0;E<o.length;E+=1)o[E].d();C&&C.d(b),l[17](null),f=!1,h()}}}const wc=Symbol("activeTab"),Fc=Symbol("items");function fu(l,s,e){let t,n,{$$slots:a={},$$scope:o}=s,{activeName:r}=s;const i=fp([]);Wo(l,i,E=>e(1,t=E));let p,c=[],{bodyPadding:u=!0}=s;const f=fp(r);Wo(l,f,E=>e(4,n=E)),pp(wc,f),pp(Fc,i);function h(E){H9(f,n=E,n)}const[g,m]=tu({fallback(E){const D=getComputedStyle(E),N=D.transform==="none"?"":D.transform;return{duration:500,easing:Bc,css:O=>`
          transform: ${N};
          opacity: ${O};
        `}}});function d(){p&&e(3,c=[...p.querySelectorAll(".tab-header-item")].map(E=>({left:E.offsetLeft,width:E.offsetWidth,name:E.dataset.tabName})))}const v=E=>h(E),A=E=>h(E),C=E=>E.name===n;function b(E){rr[E?"unshift":"push"](()=>{p=E,e(2,p)})}return l.$$set=E=>{"activeName"in E&&e(11,r=E.activeName),"bodyPadding"in E&&e(0,u=E.bodyPadding),"$$scope"in E&&e(12,o=E.$$scope)},l.$$.update=()=>{l.$$.dirty&2&&M9().then(d)},[u,t,p,c,n,i,f,h,g,m,d,r,o,a,v,A,C,b]}class hu extends fe{constructor(s){super(),he(this,s,fu,du,de,{activeName:11,bodyPadding:0})}}function mp(l){let s,e;const t=l[7].default,n=bn(t,l,l[6],null);return{c(){s=R("div"),n&&n.c(),this.h()},l(a){s=I(a,"DIV",{class:!0});var o=Y(s);n&&n.l(o),o.forEach(B),this.h()},h(){x(s,"class","tab-panel svelte-150jkri")},m(a,o){q(a,s,o),n&&n.m(s,null),e=!0},p(a,o){n&&n.p&&(!e||o&64)&&Bn(n,t,a,a[6],e?wn(t,a[6],o,null):_n(a[6]),null)},i(a){e||(ps(n,a),e=!0)},o(a){fs(n,a),e=!1},d(a){a&&B(s),n&&n.d(a)}}}function vu(l){let s,e,t=l[0]===l[1]&&mp(l);return{c(){t&&t.c(),s=Je()},l(n){t&&t.l(n),s=Je()},m(n,a){t&&t.m(n,a),q(n,s,a),e=!0},p(n,[a]){n[0]===n[1]?t?(t.p(n,a),a&3&&ps(t,1)):(t=mp(n),t.c(),ps(t,1),t.m(s.parentNode,s)):t&&(Ft(),fs(t,1,1,()=>{t=null}),kt())},i(n){e||(ps(t),e=!0)},o(n){fs(t),e=!1},d(n){n&&B(s),t&&t.d(n)}}}function Eu(l,s,e){let t,n,{$$slots:a={},$$scope:o}=s,{name:r}=s,{activeIcon:i=""}=s,{inactiveIcon:p=""}=s;const c=cp(wc);Wo(l,c,f=>e(1,n=f));const u=cp(Fc);return Wo(l,u,f=>e(8,t=f)),t.push({name:r,activeIcon:i,inactiveIcon:p}),u.set(t),l.$$set=f=>{"name"in f&&e(0,r=f.name),"activeIcon"in f&&e(4,i=f.activeIcon),"inactiveIcon"in f&&e(5,p=f.inactiveIcon),"$$scope"in f&&e(6,o=f.$$scope)},[r,n,c,u,i,p,o,a]}class Lr extends fe{constructor(s){super(),he(this,s,Eu,vu,de,{name:0,activeIcon:4,inactiveIcon:5})}}function Au(l){let s,e;return{c(){s=Te("svg"),e=Te("path"),this.h()},l(t){s=Se(t,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var n=Y(s);e=Se(n,"path",{fill:!0,d:!0}),Y(e).forEach(B),n.forEach(B),this.h()},h(){x(e,"fill","currentColor"),x(e,"d","M1.763 0C.786 0 0 .786 0 1.763v20.474C0 23.214.786 24 1.763 24h20.474c.977 0 1.763-.786 1.763-1.763V1.763C24 .786 23.214 0 22.237 0zM5.13 5.323l13.837.019l-.009 13.836h-3.464l.01-10.382h-3.456L12.04 19.17H5.113z"),x(s,"xmlns","http://www.w3.org/2000/svg"),x(s,"width","1em"),x(s,"height","1em"),x(s,"viewBox","0 0 24 24")},m(t,n){q(t,s,n),F(s,e)},p:Ns,i:Ns,o:Ns,d(t){t&&B(s)}}}class Du extends fe{constructor(s){super(),he(this,s,null,Au,de,{})}}function mu(l){let s,e,t;return{c(){s=Te("svg"),e=Te("path"),t=Te("path"),this.h()},l(n){s=Se(n,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var a=Y(s);e=Se(a,"path",{fill:!0,d:!0}),Y(e).forEach(B),t=Se(a,"path",{fill:!0,d:!0}),Y(t).forEach(B),a.forEach(B),this.h()},h(){x(e,"fill","#C12127"),x(e,"d","M0 256V0h256v256z"),x(t,"fill","#FFF"),x(t,"d","M48 48h160v160h-32V80h-48v128H48z"),x(s,"xmlns","http://www.w3.org/2000/svg"),x(s,"width","1em"),x(s,"height","1em"),x(s,"viewBox","0 0 256 256")},m(n,a){q(n,s,a),F(s,e),F(s,t)},p:Ns,i:Ns,o:Ns,d(n){n&&B(s)}}}class gu extends fe{constructor(s){super(),he(this,s,null,mu,de,{})}}function Cu(l){let s,e;return{c(){s=Te("svg"),e=Te("path"),this.h()},l(t){s=Se(t,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var n=Y(s);e=Se(n,"path",{fill:!0,d:!0}),Y(e).forEach(B),n.forEach(B),this.h()},h(){x(e,"fill","currentColor"),x(e,"d","M502 10v140H362V10h140m-176 0v140H186V10h140m-176 0v140H10V10h140m352 176v140H362V186h140M512 0H352v160h160V0zM336 0H176v160h160V0zM160 0H0v160h160V0zm352 176H352v160h160V176zM336 336H176V176h160v160zm0 16H176v160h160V352zm176 0H352v160h160V352zm-352 0H0v160h160V352z"),x(s,"xmlns","http://www.w3.org/2000/svg"),x(s,"width","1em"),x(s,"height","1em"),x(s,"viewBox","0 0 512 512")},m(t,n){q(t,s,n),F(s,e)},p:Ns,i:Ns,o:Ns,d(t){t&&B(s)}}}class bu extends fe{constructor(s){super(),he(this,s,null,Cu,de,{})}}function Bu(l){let s,e,t;return{c(){s=Te("svg"),e=Te("path"),t=Te("path"),this.h()},l(n){s=Se(n,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var a=Y(s);e=Se(a,"path",{fill:!0,d:!0}),Y(e).forEach(B),t=Se(a,"path",{fill:!0,d:!0}),Y(t).forEach(B),a.forEach(B),this.h()},h(){x(e,"fill","#f9ad00"),x(e,"d","M30 10.75h-8.749V2H30Zm-9.626 0h-8.75V2h8.75Zm-9.625 0H2V2h8.749ZM30 20.375h-8.749v-8.75H30Z"),x(t,"fill","#4e4e4e"),x(t,"d","M20.374 20.375h-8.75v-8.75h8.75Zm0 9.625h-8.75v-8.75h8.75ZM30 30h-8.749v-8.75H30Zm-19.251 0H2v-8.75h8.749Z"),x(s,"xmlns","http://www.w3.org/2000/svg"),x(s,"width","1em"),x(s,"height","1em"),x(s,"viewBox","0 0 32 32")},m(n,a){q(n,s,a),F(s,e),F(s,t)},p:Ns,i:Ns,o:Ns,d(n){n&&B(s)}}}class _u extends fe{constructor(s){super(),he(this,s,null,Bu,de,{})}}function wu(l){let s,e;return{c(){s=Te("svg"),e=Te("path"),this.h()},l(t){s=Se(t,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var n=Y(s);e=Se(n,"path",{fill:!0,d:!0}),Y(e).forEach(B),n.forEach(B),this.h()},h(){x(e,"fill","currentColor"),x(e,"d","M12 0C5.375 0 0 5.375 0 12s5.375 12 12 12s12-5.375 12-12S18.625 0 12 0zm.768 4.105c.183 0 .363.053.525.157c.125.083.287.185.755 1.154c.31-.088.468-.042.551-.019c.204.056.366.19.463.375c.477.917.542 2.553.334 3.605c-.241 1.232-.755 2.029-1.131 2.576c.324.329.778.899 1.117 1.825c.278.774.31 1.478.273 2.015a5.51 5.51 0 0 0 .602-.329c.593-.366 1.487-.917 2.553-.931c.714-.009 1.269.445 1.353 1.103a1.23 1.23 0 0 1-.945 1.362c-.649.158-.95.278-1.821.843c-1.232.797-2.539 1.242-3.012 1.39a1.686 1.686 0 0 1-.704.343c-.737.181-3.266.315-3.466.315h-.046c-.783 0-1.214-.241-1.45-.491c-.658.329-1.51.19-2.122-.134a1.078 1.078 0 0 1-.58-1.153a1.243 1.243 0 0 1-.153-.195c-.162-.25-.528-.936-.454-1.946c.056-.723.556-1.367.88-1.71a5.522 5.522 0 0 1 .408-2.256c.306-.727.885-1.348 1.32-1.737c-.32-.537-.644-1.367-.329-2.21c.227-.602.412-.936.82-1.08h-.005c.199-.074.389-.153.486-.259a3.418 3.418 0 0 1 2.298-1.103c.037-.093.079-.185.125-.283c.31-.658.639-1.029 1.024-1.168a.94.94 0 0 1 .328-.06zm.006.7c-.507.016-1.001 1.519-1.001 1.519s-1.27-.204-2.266.871c-.199.218-.468.334-.746.44c-.079.028-.176.023-.417.672c-.371.991.625 2.094.625 2.094s-1.186.839-1.626 1.881c-.486 1.144-.338 2.261-.338 2.261s-.843.732-.899 1.487c-.051.663.139 1.2.343 1.515c.227.343.51.176.51.176s-.561.653-.037.931c.477.25 1.283.394 1.71-.037c.31-.31.371-1.001.486-1.283c.028-.065.12.111.209.199c.097.093.264.195.264.195s-.755.324-.445 1.066c.102.246.468.403 1.066.398c.222-.005 2.664-.139 3.313-.296c.375-.088.505-.283.505-.283s1.566-.431 2.998-1.357c.917-.598 1.293-.76 2.034-.936c.612-.148.57-1.098-.241-1.084c-.839.009-1.575.44-2.196.825c-1.163.718-1.742.672-1.742.672l-.018-.032c-.079-.13.371-1.293-.134-2.678c-.547-1.515-1.413-1.881-1.344-1.997c.297-.5 1.038-1.297 1.334-2.78c.176-.899.13-2.377-.269-3.151c-.074-.144-.732.241-.732.241s-.616-1.371-.788-1.483a.271.271 0 0 0-.157-.046z"),x(s,"xmlns","http://www.w3.org/2000/svg"),x(s,"width","1em"),x(s,"height","1em"),x(s,"viewBox","0 0 24 24")},m(t,n){q(t,s,n),F(s,e)},p:Ns,i:Ns,o:Ns,d(t){t&&B(s)}}}class Fu extends fe{constructor(s){super(),he(this,s,null,wu,de,{})}}function ku(l){let s,e,t;return{c(){s=Te("svg"),e=Te("path"),t=Te("path"),this.h()},l(n){s=Se(n,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var a=Y(s);e=Se(a,"path",{fill:!0,d:!0}),Y(e).forEach(B),t=Se(a,"path",{fill:!0,d:!0}),Y(t).forEach(B),a.forEach(B),this.h()},h(){x(e,"fill","#368FB9"),x(e,"d","M128 0C57.328 0 0 57.328 0 128s57.328 128 128 128s128-57.328 128-128S198.672 0 128 0"),x(t,"fill","#FFF"),x(t,"d","M203.317 174.06c-7.907 1.878-11.91 3.608-21.695 9.983c-15.271 9.884-31.976 14.48-31.976 14.48s-1.383 2.076-5.387 3.015c-6.918 1.68-32.963 3.114-35.335 3.163c-6.376.05-10.28-1.63-11.367-4.25c-3.311-7.907 4.744-11.367 4.744-11.367s-1.779-1.087-2.817-2.076c-.939-.939-1.927-2.816-2.224-2.125c-1.235 3.015-1.878 10.379-5.189 13.69c-4.547 4.596-13.146 3.064-18.236.395c-5.585-2.965.395-9.933.395-9.933s-3.015 1.779-5.436-1.878c-2.175-3.36-4.2-9.094-3.657-16.16c.593-8.056 9.587-15.865 9.587-15.865s-1.581-11.91 3.608-24.117c4.695-11.12 17.347-20.065 17.347-20.065s-10.626-11.762-6.672-22.338c2.57-6.92 3.608-6.87 4.448-7.166c2.965-1.137 5.831-2.373 7.957-4.695c10.625-11.466 24.166-9.292 24.166-9.292s6.425-19.52 12.356-15.715c1.828 1.186 8.401 15.814 8.401 15.814s7.018-4.102 7.809-2.57c4.25 8.254 4.744 24.019 2.866 33.607c-3.163 15.814-11.07 24.315-14.233 29.652c-.741 1.236 8.5 5.14 14.332 21.3c5.387 14.777.593 27.182 1.433 28.566c.148.247.198.346.198.346s6.177.494 18.582-7.166c6.622-4.102 14.48-8.698 23.425-8.797c8.65-.149 9.094 9.983 2.57 11.564Zm11.763-7.265c-.89-7.017-6.82-11.86-14.431-11.762c-11.367.148-20.905 6.03-27.231 9.934c-2.471 1.532-4.596 2.669-6.425 3.509c.395-5.733.05-13.245-2.916-21.498c-3.608-9.885-8.45-15.963-11.91-19.472c4.003-5.832 9.489-14.332 12.058-27.478c2.224-11.219 1.533-28.664-3.558-38.45c-1.038-1.976-2.767-3.41-4.942-4.003c-.89-.247-2.57-.741-5.881.198c-4.991-10.329-6.721-11.416-8.056-12.306c-2.767-1.779-6.029-2.174-9.093-1.038c-4.102 1.483-7.61 5.437-10.922 12.454a51.47 51.47 0 0 0-1.334 3.015c-6.277.445-16.161 2.718-24.513 11.762c-1.038 1.137-3.064 1.977-5.19 2.768h.05c-4.349 1.532-6.326 5.09-8.747 11.515c-3.361 8.994.098 17.84 3.508 23.574c-4.645 4.151-10.823 10.773-14.084 18.532c-4.053 9.588-4.498 18.978-4.35 24.068c-3.459 3.658-8.796 10.527-9.39 18.237c-.79 10.773 3.114 18.088 4.844 20.756c.494.791 1.038 1.434 1.63 2.076c-.197 1.334-.246 2.768.05 4.25c.643 3.46 2.817 6.277 6.128 8.056c6.524 3.46 15.617 4.942 22.635 1.433c2.52 2.669 7.117 5.239 15.469 5.239h.494c2.125 0 29.109-1.433 36.967-3.36c3.509-.841 5.93-2.324 7.512-3.658c5.04-1.582 18.977-6.326 32.123-14.826c9.291-6.03 12.504-7.315 19.423-8.995c6.72-1.63 10.922-7.759 10.082-14.53Z"),x(s,"xmlns","http://www.w3.org/2000/svg"),x(s,"width","1em"),x(s,"height","1em"),x(s,"viewBox","0 0 256 256")},m(n,a){q(n,s,a),F(s,e),F(s,t)},p:Ns,i:Ns,o:Ns,d(n){n&&B(s)}}}class xu extends fe{constructor(s){super(),he(this,s,null,ku,de,{})}}const Tu=l=>({}),gp=l=>({}),Su=l=>({}),Cp=l=>({}),Ru=l=>({}),bp=l=>({});function Iu(l){let s;const e=l[0].npm,t=bn(e,l,l[1],bp);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,a){t&&t.m(n,a),s=!0},p(n,a){t&&t.p&&(!s||a&2)&&Bn(t,e,n,n[1],s?wn(e,n[1],a,Ru):_n(n[1]),bp)},i(n){s||(ps(t,n),s=!0)},o(n){fs(t,n),s=!1},d(n){t&&t.d(n)}}}function Lu(l){let s;const e=l[0].yarn,t=bn(e,l,l[1],Cp);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,a){t&&t.m(n,a),s=!0},p(n,a){t&&t.p&&(!s||a&2)&&Bn(t,e,n,n[1],s?wn(e,n[1],a,Su):_n(n[1]),Cp)},i(n){s||(ps(t,n),s=!0)},o(n){fs(t,n),s=!1},d(n){t&&t.d(n)}}}function Nu(l){let s;const e=l[0].pnpm,t=bn(e,l,l[1],gp);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,a){t&&t.m(n,a),s=!0},p(n,a){t&&t.p&&(!s||a&2)&&Bn(t,e,n,n[1],s?wn(e,n[1],a,Tu):_n(n[1]),gp)},i(n){s||(ps(t,n),s=!0)},o(n){fs(t,n),s=!1},d(n){t&&t.d(n)}}}function Ou(l){let s,e,t,n,a,o;return s=new Lr({props:{name:"NPM",activeIcon:gu,inactiveIcon:Du,$$slots:{default:[Iu]},$$scope:{ctx:l}}}),t=new Lr({props:{name:"YARN",activeIcon:xu,inactiveIcon:Fu,$$slots:{default:[Lu]},$$scope:{ctx:l}}}),a=new Lr({props:{name:"PNPM",activeIcon:_u,inactiveIcon:bu,$$slots:{default:[Nu]},$$scope:{ctx:l}}}),{c(){Bs(s.$$.fragment),e=P(),Bs(t.$$.fragment),n=P(),Bs(a.$$.fragment)},l(r){ks(s.$$.fragment,r),e=z(r),ks(t.$$.fragment,r),n=z(r),ks(a.$$.fragment,r)},m(r,i){_s(s,r,i),q(r,e,i),_s(t,r,i),q(r,n,i),_s(a,r,i),o=!0},p(r,i){const p={};i&2&&(p.$$scope={dirty:i,ctx:r}),s.$set(p);const c={};i&2&&(c.$$scope={dirty:i,ctx:r}),t.$set(c);const u={};i&2&&(u.$$scope={dirty:i,ctx:r}),a.$set(u)},i(r){o||(ps(s.$$.fragment,r),ps(t.$$.fragment,r),ps(a.$$.fragment,r),o=!0)},o(r){fs(s.$$.fragment,r),fs(t.$$.fragment,r),fs(a.$$.fragment,r),o=!1},d(r){r&&(B(e),B(n)),ws(s,r),ws(t,r),ws(a,r)}}}function qu(l){let s,e;return s=new hu({props:{activeName:"NPM",bodyPadding:!1,$$slots:{default:[Ou]},$$scope:{ctx:l}}}),{c(){Bs(s.$$.fragment)},l(t){ks(s.$$.fragment,t)},m(t,n){_s(s,t,n),e=!0},p(t,[n]){const a={};n&2&&(a.$$scope={dirty:n,ctx:t}),s.$set(a)},i(t){e||(ps(s.$$.fragment,t),e=!0)},o(t){fs(s.$$.fragment,t),e=!1},d(t){ws(s,t)}}}function $u(l,s,e){let{$$slots:t={},$$scope:n}=s;return l.$$set=a=>{"$$scope"in a&&e(1,n=a.$$scope)},[t,n]}class Pu extends fe{constructor(s){super(),he(this,s,$u,qu,de,{})}}function zu(l){let s,e,t;return{c(){s=Te("svg"),e=Te("path"),t=Te("path"),this.h()},l(n){s=Se(n,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var a=Y(s);e=Se(a,"path",{fill:!0,d:!0}),Y(e).forEach(B),t=Se(a,"path",{fill:!0,d:!0}),Y(t).forEach(B),a.forEach(B),this.h()},h(){x(e,"fill","currentColor"),x(e,"d","M7.024 3.75c0-.966.784-1.75 1.75-1.75H20.25c.966 0 1.75.784 1.75 1.75v11.498a1.75 1.75 0 0 1-1.75 1.75H8.774a1.75 1.75 0 0 1-1.75-1.75Zm1.75-.25a.25.25 0 0 0-.25.25v11.498c0 .139.112.25.25.25H20.25a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"),x(t,"fill","currentColor"),x(t,"d","M1.995 10.749a1.75 1.75 0 0 1 1.75-1.751H5.25a.75.75 0 1 1 0 1.5H3.745a.25.25 0 0 0-.25.25L3.5 20.25c0 .138.111.25.25.25h9.5a.25.25 0 0 0 .25-.25v-1.51a.75.75 0 1 1 1.5 0v1.51A1.75 1.75 0 0 1 13.25 22h-9.5A1.75 1.75 0 0 1 2 20.25l-.005-9.501Z"),x(s,"xmlns","http://www.w3.org/2000/svg"),x(s,"width","1em"),x(s,"height","1em"),x(s,"viewBox","0 0 24 24")},m(n,a){q(n,s,a),F(s,e),F(s,t)},p:Ns,i:Ns,o:Ns,d(n){n&&B(s)}}}class Mu extends fe{constructor(s){super(),he(this,s,null,zu,de,{})}}function Uu(l){let s,e;return{c(){s=Te("svg"),e=Te("path"),this.h()},l(t){s=Se(t,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var n=Y(s);e=Se(n,"path",{fill:!0,d:!0}),Y(e).forEach(B),n.forEach(B),this.h()},h(){x(e,"fill","currentColor"),x(e,"d","M9 16.2L4.8 12l-1.4 1.4L9 19L21 7l-1.4-1.4L9 16.2z"),x(s,"xmlns","http://www.w3.org/2000/svg"),x(s,"width","1em"),x(s,"height","1em"),x(s,"viewBox","0 0 24 24")},m(t,n){q(t,s,n),F(s,e)},p:Ns,i:Ns,o:Ns,d(t){t&&B(s)}}}class Hu extends fe{constructor(s){super(),he(this,s,null,Uu,de,{})}}function Vu(l){let s,e,t,n,a;return e=new Mu({}),{c(){s=R("div"),Bs(e.$$.fragment),this.h()},l(o){s=I(o,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var r=Y(s);ks(e.$$.fragment,r),r.forEach(B),this.h()},h(){x(s,"class","svp-code-bock--copy-code"),x(s,"role","button"),x(s,"tabindex","0"),x(s,"aria-label","Copy code")},m(o,r){q(o,s,r),_s(e,s,null),l[3](s),t=!0,n||(a=[be(s,"click",l[2]),be(s,"keyup",l[2])],n=!0)},p:Ns,i(o){t||(ps(e.$$.fragment,o),t=!0)},o(o){fs(e.$$.fragment,o),t=!1},d(o){o&&B(s),ws(e),l[3](null),n=!1,Ta(a)}}}function ju(l){let s,e,t;return e=new Hu({}),{c(){s=R("div"),Bs(e.$$.fragment),this.h()},l(n){s=I(n,"DIV",{class:!0});var a=Y(s);ks(e.$$.fragment,a),a.forEach(B),this.h()},h(){x(s,"class","svp-code-bock--copy-code")},m(n,a){q(n,s,a),_s(e,s,null),t=!0},p:Ns,i(n){t||(ps(e.$$.fragment,n),t=!0)},o(n){fs(e.$$.fragment,n),t=!1},d(n){n&&B(s),ws(e)}}}function Wu(l){let s,e,t,n;const a=[ju,Vu],o=[];function r(i,p){return i[1]?0:1}return s=r(l),e=o[s]=a[s](l),{c(){e.c(),t=Je()},l(i){e.l(i),t=Je()},m(i,p){o[s].m(i,p),q(i,t,p),n=!0},p(i,[p]){let c=s;s=r(i),s===c?o[s].p(i,p):(Ft(),fs(o[c],1,1,()=>{o[c]=null}),kt(),e=o[s],e?e.p(i,p):(e=o[s]=a[s](i),e.c()),ps(e,1),e.m(t.parentNode,t))},i(i){n||(ps(e),n=!0)},o(i){fs(e),n=!1},d(i){i&&B(t),o[s].d(i)}}}function Zu(l,s,e){let t,n=!1;function a(){var i,p;const r=((p=(i=t==null?void 0:t.parentElement)==null?void 0:i.querySelector(".shiki"))==null?void 0:p.textContent)||"";navigator.clipboard.writeText(r),e(1,n=!0),setTimeout(()=>{e(1,n=!1)},2e3)}function o(r){rr[r?"unshift":"push"](()=>{t=r,e(0,t)})}return[t,n,a,o]}class He extends fe{constructor(s){super(),he(this,s,Zu,Wu,de,{})}}var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ul(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Gr={exports:{}},kc={exports:{}},Gu=void 0,xc=function(l){return l!==Gu&&l!==null},Yu=xc,Xu={object:!0,function:!0,undefined:!0},Ku=function(l){return Yu(l)?hasOwnProperty.call(Xu,typeof l):!1},Ju=Ku,Qu=function(l){if(!Ju(l))return!1;try{return l.constructor?l.constructor.prototype===l:!1}catch{return!1}},sy=Qu,ey=function(l){if(typeof l!="function"||!hasOwnProperty.call(l,"length"))return!1;try{if(typeof l.length!="number"||typeof l.call!="function"||typeof l.apply!="function")return!1}catch{return!1}return!sy(l)},ty=ey,ny=/^\s*class[\s{/}]/,ay=Function.prototype.toString,ly=function(l){return!(!ty(l)||ny.test(ay.call(l)))},oy=function(){var l=Object.assign,s;return typeof l!="function"?!1:(s={foo:"raz"},l(s,{bar:"dwa"},{trzy:"trzy"}),s.foo+s.bar+s.trzy==="razdwatrzy")},Nr,Bp;function ry(){return Bp||(Bp=1,Nr=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),Nr}var iy=function(){},py=iy(),ni=function(l){return l!==py&&l!==null},Or,_p;function cy(){if(_p)return Or;_p=1;var l=ni,s=Object.keys;return Or=function(e){return s(l(e)?Object(e):e)},Or}var qr,wp;function uy(){return wp||(wp=1,qr=ry()()?Object.keys:cy()),qr}var $r,Fp;function yy(){if(Fp)return $r;Fp=1;var l=ni;return $r=function(s){if(!l(s))throw new TypeError("Cannot use null or undefined");return s},$r}var Pr,kp;function dy(){if(kp)return Pr;kp=1;var l=uy(),s=yy(),e=Math.max;return Pr=function(t,n){var a,o,r=e(arguments.length,2),i;for(t=Object(s(t)),i=function(p){try{t[p]=n[p]}catch(c){a||(a=c)}},o=1;o<r;++o)n=arguments[o],l(n).forEach(i);if(a!==void 0)throw a;return t},Pr}var fy=oy()?Object.assign:dy(),hy=ni,vy=Array.prototype.forEach,Ey=Object.create,Ay=function(l,s){var e;for(e in l)s[e]=l[e]},Dy=function(l){var s=Ey(null);return vy.call(arguments,function(e){hy(e)&&Ay(Object(e),s)}),s},zr="razdwatrzy",my=function(){return typeof zr.contains!="function"?!1:zr.contains("dwa")===!0&&zr.contains("foo")===!1},Mr,xp;function gy(){if(xp)return Mr;xp=1;var l=String.prototype.indexOf;return Mr=function(s){return l.call(this,s,arguments[1])>-1},Mr}var Cy=my()?String.prototype.contains:gy(),Uo=xc,Tp=ly,Tc=fy,Sc=Dy,bl=Cy,by=kc.exports=function(l,s){var e,t,n,a,o;return arguments.length<2||typeof l!="string"?(a=s,s=l,l=null):a=arguments[2],Uo(l)?(e=bl.call(l,"c"),t=bl.call(l,"e"),n=bl.call(l,"w")):(e=n=!0,t=!1),o={value:s,configurable:e,enumerable:t,writable:n},a?Tc(Sc(a),o):o};by.gs=function(l,s,e){var t,n,a,o;return typeof l!="string"?(a=e,e=s,s=l,l=null):a=arguments[3],Uo(s)?Tp(s)?Uo(e)?Tp(e)||(a=e,e=void 0):e=void 0:(a=s,s=e=void 0):s=void 0,Uo(l)?(t=bl.call(l,"c"),n=bl.call(l,"e")):(t=!0,n=!1),o={get:s,set:e,configurable:t,enumerable:n},a?Tc(Sc(a),o):o};var By=kc.exports,_y=function(l){if(typeof l!="function")throw new TypeError(l+" is not a function");return l};(function(l,s){var e=By,t=_y,n=Function.prototype.apply,a=Function.prototype.call,o=Object.create,r=Object.defineProperty,i=Object.defineProperties,p=Object.prototype.hasOwnProperty,c={configurable:!0,enumerable:!1,writable:!0},u,f,h,g,m,d,v;u=function(A,C){var b;return t(C),p.call(this,"__ee__")?b=this.__ee__:(b=c.value=o(null),r(this,"__ee__",c),c.value=null),b[A]?typeof b[A]=="object"?b[A].push(C):b[A]=[b[A],C]:b[A]=C,this},f=function(A,C){var b,E;return t(C),E=this,u.call(this,A,b=function(){h.call(E,A,b),n.call(C,this,arguments)}),b.__eeOnceListener__=C,this},h=function(A,C){var b,E,D,N;if(t(C),!p.call(this,"__ee__"))return this;if(b=this.__ee__,!b[A])return this;if(E=b[A],typeof E=="object")for(N=0;D=E[N];++N)(D===C||D.__eeOnceListener__===C)&&(E.length===2?b[A]=E[N?0:1]:E.splice(N,1));else(E===C||E.__eeOnceListener__===C)&&delete b[A];return this},g=function(A){var C,b,E,D,N;if(p.call(this,"__ee__")&&(D=this.__ee__[A],!!D))if(typeof D=="object"){for(b=arguments.length,N=new Array(b-1),C=1;C<b;++C)N[C-1]=arguments[C];for(D=D.slice(),C=0;E=D[C];++C)n.call(E,this,N)}else switch(arguments.length){case 1:a.call(D,this);break;case 2:a.call(D,this,arguments[1]);break;case 3:a.call(D,this,arguments[1],arguments[2]);break;default:for(b=arguments.length,N=new Array(b-1),C=1;C<b;++C)N[C-1]=arguments[C];n.call(D,this,N)}},m={on:u,once:f,off:h,emit:g},d={on:e(u),once:e(f),off:e(h),emit:e(g)},v=i({},d),l.exports=s=function(A){return A==null?o(v):i(Object(A),d)},s.methods=m})(Gr,Gr.exports);var wy=Gr.exports;const xt=ul(wy);var Fn={},kn={};function Fy(l,s,e){if(e===void 0&&(e=Array.prototype),l&&typeof e.find=="function")return e.find.call(l,s);for(var t=0;t<l.length;t++)if(Object.prototype.hasOwnProperty.call(l,t)){var n=l[t];if(s.call(void 0,n,t,l))return n}}function ai(l,s){return s===void 0&&(s=Object),s&&typeof s.freeze=="function"?s.freeze(l):l}var Rc=ai({HTML:"text/html",isHTML:function(l){return l===Rc.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Ic=ai({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(l){return l===Ic.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});kn.find=Fy;kn.freeze=ai;kn.MIME_TYPE=Rc;kn.NAMESPACE=Ic;var Lc=kn,Bt=Lc.find,Bl=Lc.NAMESPACE;function ky(l){return l!==""}function xy(l){return l?l.split(/[\t\n\f\r ]+/).filter(ky):[]}function Ty(l,s){return l.hasOwnProperty(s)||(l[s]=!0),l}function Sp(l){if(!l)return[];var s=xy(l);return Object.keys(s.reduce(Ty,{}))}function Sy(l){return function(s){return l&&l.indexOf(s)!==-1}}function Tl(l,s){for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(s[e]=l[e])}function Qe(l,s){var e=l.prototype;if(!(e instanceof s)){let t=function(){};t.prototype=s.prototype,t=new t,Tl(e,t),l.prototype=e=t}e.constructor!=l&&(typeof l!="function"&&console.error("unknown Class:"+l),e.constructor=l)}var st={},Dt=st.ELEMENT_NODE=1,rl=st.ATTRIBUTE_NODE=2,Go=st.TEXT_NODE=3,Nc=st.CDATA_SECTION_NODE=4,Oc=st.ENTITY_REFERENCE_NODE=5,Ry=st.ENTITY_NODE=6,qc=st.PROCESSING_INSTRUCTION_NODE=7,$c=st.COMMENT_NODE=8,Pc=st.DOCUMENT_NODE=9,zc=st.DOCUMENT_TYPE_NODE=10,sn=st.DOCUMENT_FRAGMENT_NODE=11,Iy=st.NOTATION_NODE=12,je={},Pe={};je.INDEX_SIZE_ERR=(Pe[1]="Index size error",1);je.DOMSTRING_SIZE_ERR=(Pe[2]="DOMString size error",2);var Xe=je.HIERARCHY_REQUEST_ERR=(Pe[3]="Hierarchy request error",3);je.WRONG_DOCUMENT_ERR=(Pe[4]="Wrong document",4);je.INVALID_CHARACTER_ERR=(Pe[5]="Invalid character",5);je.NO_DATA_ALLOWED_ERR=(Pe[6]="No data allowed",6);je.NO_MODIFICATION_ALLOWED_ERR=(Pe[7]="No modification allowed",7);var Mc=je.NOT_FOUND_ERR=(Pe[8]="Not found",8);je.NOT_SUPPORTED_ERR=(Pe[9]="Not supported",9);var Rp=je.INUSE_ATTRIBUTE_ERR=(Pe[10]="Attribute in use",10);je.INVALID_STATE_ERR=(Pe[11]="Invalid state",11);je.SYNTAX_ERR=(Pe[12]="Syntax error",12);je.INVALID_MODIFICATION_ERR=(Pe[13]="Invalid modification",13);je.NAMESPACE_ERR=(Pe[14]="Invalid namespace",14);je.INVALID_ACCESS_ERR=(Pe[15]="Invalid access",15);function ke(l,s){if(s instanceof Error)var e=s;else e=this,Error.call(this,Pe[l]),this.message=Pe[l],Error.captureStackTrace&&Error.captureStackTrace(this,ke);return e.code=l,s&&(this.message=this.message+": "+s),e}ke.prototype=Error.prototype;Tl(je,ke);function Qt(){}Qt.prototype={length:0,item:function(l){return l>=0&&l<this.length?this[l]:null},toString:function(l,s){for(var e=[],t=0;t<this.length;t++)ll(this[t],e,l,s);return e.join("")},filter:function(l){return Array.prototype.filter.call(this,l)},indexOf:function(l){return Array.prototype.indexOf.call(this,l)}};function il(l,s){this._node=l,this._refresh=s,li(this)}function li(l){var s=l._node._inc||l._node.ownerDocument._inc;if(l._inc!==s){var e=l._refresh(l._node);if(Qc(l,"length",e.length),!l.$$length||e.length<l.$$length)for(var t=e.length;t in l;t++)Object.prototype.hasOwnProperty.call(l,t)&&delete l[t];Tl(e,l),l._inc=s}}il.prototype.item=function(l){return li(this),this[l]||null};Qe(il,Qt);function Yo(){}function Uc(l,s){for(var e=l.length;e--;)if(l[e]===s)return e}function Ip(l,s,e,t){if(t?s[Uc(s,t)]=e:s[s.length++]=e,l){e.ownerElement=l;var n=l.ownerDocument;n&&(t&&jc(n,l,t),Ly(n,l,e))}}function Lp(l,s,e){var t=Uc(s,e);if(t>=0){for(var n=s.length-1;t<n;)s[t]=s[++t];if(s.length=n,l){var a=l.ownerDocument;a&&(jc(a,l,e),e.ownerElement=null)}}else throw new ke(Mc,new Error(l.tagName+"@"+e))}Yo.prototype={length:0,item:Qt.prototype.item,getNamedItem:function(l){for(var s=this.length;s--;){var e=this[s];if(e.nodeName==l)return e}},setNamedItem:function(l){var s=l.ownerElement;if(s&&s!=this._ownerElement)throw new ke(Rp);var e=this.getNamedItem(l.nodeName);return Ip(this._ownerElement,this,l,e),e},setNamedItemNS:function(l){var s=l.ownerElement,e;if(s&&s!=this._ownerElement)throw new ke(Rp);return e=this.getNamedItemNS(l.namespaceURI,l.localName),Ip(this._ownerElement,this,l,e),e},removeNamedItem:function(l){var s=this.getNamedItem(l);return Lp(this._ownerElement,this,s),s},removeNamedItemNS:function(l,s){var e=this.getNamedItemNS(l,s);return Lp(this._ownerElement,this,e),e},getNamedItemNS:function(l,s){for(var e=this.length;e--;){var t=this[e];if(t.localName==s&&t.namespaceURI==l)return t}return null}};function Hc(){}Hc.prototype={hasFeature:function(l,s){return!0},createDocument:function(l,s,e){var t=new Sl;if(t.implementation=this,t.childNodes=new Qt,t.doctype=e||null,e&&t.appendChild(e),s){var n=t.createElementNS(l,s);t.appendChild(n)}return t},createDocumentType:function(l,s,e){var t=new pr;return t.name=l,t.nodeName=l,t.publicId=s||"",t.systemId=e||"",t}};function pe(){}pe.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(l,s){return Xo(this,l,s)},replaceChild:function(l,s){Xo(this,l,s,Zc),s&&this.removeChild(s)},removeChild:function(l){return Wc(this,l)},appendChild:function(l){return this.insertBefore(l,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(l){return Yr(this.ownerDocument||this,this,l)},normalize:function(){for(var l=this.firstChild;l;){var s=l.nextSibling;s&&s.nodeType==Go&&l.nodeType==Go?(this.removeChild(s),l.appendData(s.data)):(l.normalize(),l=s)}},isSupported:function(l,s){return this.ownerDocument.implementation.hasFeature(l,s)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(l){for(var s=this;s;){var e=s._nsMap;if(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t]===l)return t}s=s.nodeType==rl?s.ownerDocument:s.parentNode}return null},lookupNamespaceURI:function(l){for(var s=this;s;){var e=s._nsMap;if(e&&l in e&&Object.prototype.hasOwnProperty.call(e,l))return e[l];s=s.nodeType==rl?s.ownerDocument:s.parentNode}return null},isDefaultNamespace:function(l){var s=this.lookupPrefix(l);return s==null}};function Vc(l){return l=="<"&&"&lt;"||l==">"&&"&gt;"||l=="&"&&"&amp;"||l=='"'&&"&quot;"||"&#"+l.charCodeAt()+";"}Tl(st,pe);Tl(st,pe.prototype);function _l(l,s){if(s(l))return!0;if(l=l.firstChild)do if(_l(l,s))return!0;while(l=l.nextSibling)}function Sl(){this.ownerDocument=this}function Ly(l,s,e){l&&l._inc++;var t=e.namespaceURI;t===Bl.XMLNS&&(s._nsMap[e.prefix?e.localName:""]=e.value)}function jc(l,s,e,t){l&&l._inc++;var n=e.namespaceURI;n===Bl.XMLNS&&delete s._nsMap[e.prefix?e.localName:""]}function oi(l,s,e){if(l&&l._inc){l._inc++;var t=s.childNodes;if(e)t[t.length++]=e;else{for(var n=s.firstChild,a=0;n;)t[a++]=n,n=n.nextSibling;t.length=a,delete t[t.length]}}}function Wc(l,s){var e=s.previousSibling,t=s.nextSibling;return e?e.nextSibling=t:l.firstChild=t,t?t.previousSibling=e:l.lastChild=e,s.parentNode=null,s.previousSibling=null,s.nextSibling=null,oi(l.ownerDocument,l),s}function Ny(l){return l&&(l.nodeType===pe.DOCUMENT_NODE||l.nodeType===pe.DOCUMENT_FRAGMENT_NODE||l.nodeType===pe.ELEMENT_NODE)}function Oy(l){return l&&(_t(l)||ri(l)||en(l)||l.nodeType===pe.DOCUMENT_FRAGMENT_NODE||l.nodeType===pe.COMMENT_NODE||l.nodeType===pe.PROCESSING_INSTRUCTION_NODE)}function en(l){return l&&l.nodeType===pe.DOCUMENT_TYPE_NODE}function _t(l){return l&&l.nodeType===pe.ELEMENT_NODE}function ri(l){return l&&l.nodeType===pe.TEXT_NODE}function Np(l,s){var e=l.childNodes||[];if(Bt(e,_t)||en(s))return!1;var t=Bt(e,en);return!(s&&t&&e.indexOf(t)>e.indexOf(s))}function Op(l,s){var e=l.childNodes||[];function t(a){return _t(a)&&a!==s}if(Bt(e,t))return!1;var n=Bt(e,en);return!(s&&n&&e.indexOf(n)>e.indexOf(s))}function qy(l,s,e){if(!Ny(l))throw new ke(Xe,"Unexpected parent node type "+l.nodeType);if(e&&e.parentNode!==l)throw new ke(Mc,"child not in parent");if(!Oy(s)||en(s)&&l.nodeType!==pe.DOCUMENT_NODE)throw new ke(Xe,"Unexpected node type "+s.nodeType+" for parent node type "+l.nodeType)}function $y(l,s,e){var t=l.childNodes||[],n=s.childNodes||[];if(s.nodeType===pe.DOCUMENT_FRAGMENT_NODE){var a=n.filter(_t);if(a.length>1||Bt(n,ri))throw new ke(Xe,"More than one element or text in fragment");if(a.length===1&&!Np(l,e))throw new ke(Xe,"Element in fragment can not be inserted before doctype")}if(_t(s)&&!Np(l,e))throw new ke(Xe,"Only one element can be added and only after doctype");if(en(s)){if(Bt(t,en))throw new ke(Xe,"Only one doctype is allowed");var o=Bt(t,_t);if(e&&t.indexOf(o)<t.indexOf(e))throw new ke(Xe,"Doctype can only be inserted before an element");if(!e&&o)throw new ke(Xe,"Doctype can not be appended since element is present")}}function Zc(l,s,e){var t=l.childNodes||[],n=s.childNodes||[];if(s.nodeType===pe.DOCUMENT_FRAGMENT_NODE){var a=n.filter(_t);if(a.length>1||Bt(n,ri))throw new ke(Xe,"More than one element or text in fragment");if(a.length===1&&!Op(l,e))throw new ke(Xe,"Element in fragment can not be inserted before doctype")}if(_t(s)&&!Op(l,e))throw new ke(Xe,"Only one element can be added and only after doctype");if(en(s)){if(Bt(t,function(i){return en(i)&&i!==e}))throw new ke(Xe,"Only one doctype is allowed");var o=Bt(t,_t);if(e&&t.indexOf(o)<t.indexOf(e))throw new ke(Xe,"Doctype can only be inserted before an element")}}function Xo(l,s,e,t){qy(l,s,e),l.nodeType===pe.DOCUMENT_NODE&&(t||$y)(l,s,e);var n=s.parentNode;if(n&&n.removeChild(s),s.nodeType===sn){var a=s.firstChild;if(a==null)return s;var o=s.lastChild}else a=o=s;var r=e?e.previousSibling:l.lastChild;a.previousSibling=r,o.nextSibling=e,r?r.nextSibling=a:l.firstChild=a,e==null?l.lastChild=o:e.previousSibling=o;do a.parentNode=l;while(a!==o&&(a=a.nextSibling));return oi(l.ownerDocument||l,l),s.nodeType==sn&&(s.firstChild=s.lastChild=null),s}function Py(l,s){return s.parentNode&&s.parentNode.removeChild(s),s.parentNode=l,s.previousSibling=l.lastChild,s.nextSibling=null,s.previousSibling?s.previousSibling.nextSibling=s:l.firstChild=s,l.lastChild=s,oi(l.ownerDocument,l,s),s}Sl.prototype={nodeName:"#document",nodeType:Pc,doctype:null,documentElement:null,_inc:1,insertBefore:function(l,s){if(l.nodeType==sn){for(var e=l.firstChild;e;){var t=e.nextSibling;this.insertBefore(e,s),e=t}return l}return Xo(this,l,s),l.ownerDocument=this,this.documentElement===null&&l.nodeType===Dt&&(this.documentElement=l),l},removeChild:function(l){return this.documentElement==l&&(this.documentElement=null),Wc(this,l)},replaceChild:function(l,s){Xo(this,l,s,Zc),l.ownerDocument=this,s&&this.removeChild(s),_t(l)&&(this.documentElement=l)},importNode:function(l,s){return Jc(this,l,s)},getElementById:function(l){var s=null;return _l(this.documentElement,function(e){if(e.nodeType==Dt&&e.getAttribute("id")==l)return s=e,!0}),s},getElementsByClassName:function(l){var s=Sp(l);return new il(this,function(e){var t=[];return s.length>0&&_l(e.documentElement,function(n){if(n!==e&&n.nodeType===Dt){var a=n.getAttribute("class");if(a){var o=l===a;if(!o){var r=Sp(a);o=s.every(Sy(r))}o&&t.push(n)}}}),t})},createElement:function(l){var s=new xa;s.ownerDocument=this,s.nodeName=l,s.tagName=l,s.localName=l,s.childNodes=new Qt;var e=s.attributes=new Yo;return e._ownerElement=s,s},createDocumentFragment:function(){var l=new cr;return l.ownerDocument=this,l.childNodes=new Qt,l},createTextNode:function(l){var s=new ii;return s.ownerDocument=this,s.appendData(l),s},createComment:function(l){var s=new pi;return s.ownerDocument=this,s.appendData(l),s},createCDATASection:function(l){var s=new ci;return s.ownerDocument=this,s.appendData(l),s},createProcessingInstruction:function(l,s){var e=new yi;return e.ownerDocument=this,e.tagName=e.nodeName=e.target=l,e.nodeValue=e.data=s,e},createAttribute:function(l){var s=new Ko;return s.ownerDocument=this,s.name=l,s.nodeName=l,s.localName=l,s.specified=!0,s},createEntityReference:function(l){var s=new ui;return s.ownerDocument=this,s.nodeName=l,s},createElementNS:function(l,s){var e=new xa,t=s.split(":"),n=e.attributes=new Yo;return e.childNodes=new Qt,e.ownerDocument=this,e.nodeName=s,e.tagName=s,e.namespaceURI=l,t.length==2?(e.prefix=t[0],e.localName=t[1]):e.localName=s,n._ownerElement=e,e},createAttributeNS:function(l,s){var e=new Ko,t=s.split(":");return e.ownerDocument=this,e.nodeName=s,e.name=s,e.namespaceURI=l,e.specified=!0,t.length==2?(e.prefix=t[0],e.localName=t[1]):e.localName=s,e}};Qe(Sl,pe);function xa(){this._nsMap={}}xa.prototype={nodeType:Dt,hasAttribute:function(l){return this.getAttributeNode(l)!=null},getAttribute:function(l){var s=this.getAttributeNode(l);return s&&s.value||""},getAttributeNode:function(l){return this.attributes.getNamedItem(l)},setAttribute:function(l,s){var e=this.ownerDocument.createAttribute(l);e.value=e.nodeValue=""+s,this.setAttributeNode(e)},removeAttribute:function(l){var s=this.getAttributeNode(l);s&&this.removeAttributeNode(s)},appendChild:function(l){return l.nodeType===sn?this.insertBefore(l,null):Py(this,l)},setAttributeNode:function(l){return this.attributes.setNamedItem(l)},setAttributeNodeNS:function(l){return this.attributes.setNamedItemNS(l)},removeAttributeNode:function(l){return this.attributes.removeNamedItem(l.nodeName)},removeAttributeNS:function(l,s){var e=this.getAttributeNodeNS(l,s);e&&this.removeAttributeNode(e)},hasAttributeNS:function(l,s){return this.getAttributeNodeNS(l,s)!=null},getAttributeNS:function(l,s){var e=this.getAttributeNodeNS(l,s);return e&&e.value||""},setAttributeNS:function(l,s,e){var t=this.ownerDocument.createAttributeNS(l,s);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},getAttributeNodeNS:function(l,s){return this.attributes.getNamedItemNS(l,s)},getElementsByTagName:function(l){return new il(this,function(s){var e=[];return _l(s,function(t){t!==s&&t.nodeType==Dt&&(l==="*"||t.tagName==l)&&e.push(t)}),e})},getElementsByTagNameNS:function(l,s){return new il(this,function(e){var t=[];return _l(e,function(n){n!==e&&n.nodeType===Dt&&(l==="*"||n.namespaceURI===l)&&(s==="*"||n.localName==s)&&t.push(n)}),t})}};Sl.prototype.getElementsByTagName=xa.prototype.getElementsByTagName;Sl.prototype.getElementsByTagNameNS=xa.prototype.getElementsByTagNameNS;Qe(xa,pe);function Ko(){}Ko.prototype.nodeType=rl;Qe(Ko,pe);function Rl(){}Rl.prototype={data:"",substringData:function(l,s){return this.data.substring(l,l+s)},appendData:function(l){l=this.data+l,this.nodeValue=this.data=l,this.length=l.length},insertData:function(l,s){this.replaceData(l,0,s)},appendChild:function(l){throw new Error(Pe[Xe])},deleteData:function(l,s){this.replaceData(l,s,"")},replaceData:function(l,s,e){var t=this.data.substring(0,l),n=this.data.substring(l+s);e=t+e+n,this.nodeValue=this.data=e,this.length=e.length}};Qe(Rl,pe);function ii(){}ii.prototype={nodeName:"#text",nodeType:Go,splitText:function(l){var s=this.data,e=s.substring(l);s=s.substring(0,l),this.data=this.nodeValue=s,this.length=s.length;var t=this.ownerDocument.createTextNode(e);return this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling),t}};Qe(ii,Rl);function pi(){}pi.prototype={nodeName:"#comment",nodeType:$c};Qe(pi,Rl);function ci(){}ci.prototype={nodeName:"#cdata-section",nodeType:Nc};Qe(ci,Rl);function pr(){}pr.prototype.nodeType=zc;Qe(pr,pe);function Gc(){}Gc.prototype.nodeType=Iy;Qe(Gc,pe);function Yc(){}Yc.prototype.nodeType=Ry;Qe(Yc,pe);function ui(){}ui.prototype.nodeType=Oc;Qe(ui,pe);function cr(){}cr.prototype.nodeName="#document-fragment";cr.prototype.nodeType=sn;Qe(cr,pe);function yi(){}yi.prototype.nodeType=qc;Qe(yi,pe);function Xc(){}Xc.prototype.serializeToString=function(l,s,e){return Kc.call(l,s,e)};pe.prototype.toString=Kc;function Kc(l,s){var e=[],t=this.nodeType==9&&this.documentElement||this,n=t.prefix,a=t.namespaceURI;if(a&&n==null){var n=t.lookupPrefix(a);if(n==null)var o=[{namespace:a,prefix:null}]}return ll(this,e,l,s,o),e.join("")}function qp(l,s,e){var t=l.prefix||"",n=l.namespaceURI;if(!n||t==="xml"&&n===Bl.XML||n===Bl.XMLNS)return!1;for(var a=e.length;a--;){var o=e[a];if(o.prefix===t)return o.namespace!==n}return!0}function Ur(l,s,e){l.push(" ",s,'="',e.replace(/[<&"]/g,Vc),'"')}function ll(l,s,e,t,n){if(n||(n=[]),t)if(l=t(l),l){if(typeof l=="string"){s.push(l);return}}else return;switch(l.nodeType){case Dt:var a=l.attributes,o=a.length,v=l.firstChild,r=l.tagName;e=Bl.isHTML(l.namespaceURI)||e;var i=r;if(!e&&!l.prefix&&l.namespaceURI){for(var p,c=0;c<a.length;c++)if(a.item(c).name==="xmlns"){p=a.item(c).value;break}if(!p)for(var u=n.length-1;u>=0;u--){var f=n[u];if(f.prefix===""&&f.namespace===l.namespaceURI){p=f.namespace;break}}if(p!==l.namespaceURI)for(var u=n.length-1;u>=0;u--){var f=n[u];if(f.namespace===l.namespaceURI){f.prefix&&(i=f.prefix+":"+r);break}}}s.push("<",i);for(var h=0;h<o;h++){var g=a.item(h);g.prefix=="xmlns"?n.push({prefix:g.localName,namespace:g.value}):g.nodeName=="xmlns"&&n.push({prefix:"",namespace:g.value})}for(var h=0;h<o;h++){var g=a.item(h);if(qp(g,e,n)){var m=g.prefix||"",d=g.namespaceURI;Ur(s,m?"xmlns:"+m:"xmlns",d),n.push({prefix:m,namespace:d})}ll(g,s,e,t,n)}if(r===i&&qp(l,e,n)){var m=l.prefix||"",d=l.namespaceURI;Ur(s,m?"xmlns:"+m:"xmlns",d),n.push({prefix:m,namespace:d})}if(v||e&&!/^(?:meta|link|img|br|hr|input)$/i.test(r)){if(s.push(">"),e&&/^script$/i.test(r))for(;v;)v.data?s.push(v.data):ll(v,s,e,t,n.slice()),v=v.nextSibling;else for(;v;)ll(v,s,e,t,n.slice()),v=v.nextSibling;s.push("</",i,">")}else s.push("/>");return;case Pc:case sn:for(var v=l.firstChild;v;)ll(v,s,e,t,n.slice()),v=v.nextSibling;return;case rl:return Ur(s,l.name,l.value);case Go:return s.push(l.data.replace(/[<&]/g,Vc).replace(/]]>/g,"]]&gt;"));case Nc:return s.push("<![CDATA[",l.data,"]]>");case $c:return s.push("<!--",l.data,"-->");case zc:var A=l.publicId,C=l.systemId;if(s.push("<!DOCTYPE ",l.name),A)s.push(" PUBLIC ",A),C&&C!="."&&s.push(" ",C),s.push(">");else if(C&&C!=".")s.push(" SYSTEM ",C,">");else{var b=l.internalSubset;b&&s.push(" [",b,"]"),s.push(">")}return;case qc:return s.push("<?",l.target," ",l.data,"?>");case Oc:return s.push("&",l.nodeName,";");default:s.push("??",l.nodeName)}}function Jc(l,s,e){var t;switch(s.nodeType){case Dt:t=s.cloneNode(!1),t.ownerDocument=l;case sn:break;case rl:e=!0;break}if(t||(t=s.cloneNode(!1)),t.ownerDocument=l,t.parentNode=null,e)for(var n=s.firstChild;n;)t.appendChild(Jc(l,n,e)),n=n.nextSibling;return t}function Yr(l,s,e){var t=new s.constructor;for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){var a=s[n];typeof a!="object"&&a!=t[n]&&(t[n]=a)}switch(s.childNodes&&(t.childNodes=new Qt),t.ownerDocument=l,t.nodeType){case Dt:var o=s.attributes,r=t.attributes=new Yo,i=o.length;r._ownerElement=t;for(var p=0;p<i;p++)t.setAttributeNode(Yr(l,o.item(p),!0));break;case rl:e=!0}if(e)for(var c=s.firstChild;c;)t.appendChild(Yr(l,c,e)),c=c.nextSibling;return t}function Qc(l,s,e){l[s]=e}try{if(Object.defineProperty){let l=function(s){switch(s.nodeType){case Dt:case sn:var e=[];for(s=s.firstChild;s;)s.nodeType!==7&&s.nodeType!==8&&e.push(l(s)),s=s.nextSibling;return e.join("");default:return s.nodeValue}};Object.defineProperty(il.prototype,"length",{get:function(){return li(this),this.$$length}}),Object.defineProperty(pe.prototype,"textContent",{get:function(){return l(this)},set:function(s){switch(this.nodeType){case Dt:case sn:for(;this.firstChild;)this.removeChild(this.firstChild);(s||String(s))&&this.appendChild(this.ownerDocument.createTextNode(s));break;default:this.data=s,this.value=s,this.nodeValue=s}}}),Qc=function(s,e,t){s["$$"+e]=t}}}catch{}Fn.DocumentType=pr;Fn.DOMException=ke;Fn.DOMImplementation=Hc;Fn.Element=xa;Fn.Node=pe;Fn.NodeList=Qt;Fn.XMLSerializer=Xc;var Il={},s9={};(function(l){var s=kn.freeze;l.XML_ENTITIES=s({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),l.HTML_ENTITIES=s({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),l.entityMap=l.HTML_ENTITIES})(s9);var di={},wl=kn.NAMESPACE,Xr=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,$p=new RegExp("[\\-\\.0-9"+Xr.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Pp=new RegExp("^"+Xr.source+$p.source+"*(?::"+Xr.source+$p.source+"*)?$"),Al=0,mn=1,Ka=2,Dl=3,Ja=4,Qa=5,ml=6,zo=7;function pl(l,s){this.message=l,this.locator=s,Error.captureStackTrace&&Error.captureStackTrace(this,pl)}pl.prototype=new Error;pl.prototype.name=pl.name;function e9(){}e9.prototype={parse:function(l,s,e){var t=this.domBuilder;t.startDocument(),t9(s,s={}),zy(l,s,e,t,this.errorHandler),t.endDocument()}};function zy(l,s,e,t,n){function a(gs){if(gs>65535){gs-=65536;var vs=55296+(gs>>10),Es=56320+(gs&1023);return String.fromCharCode(vs,Es)}else return String.fromCharCode(gs)}function o(gs){var vs=gs.slice(1,-1);return vs in e?e[vs]:vs.charAt(0)==="#"?a(parseInt(vs.substr(1).replace("x","0x"))):(n.error("entity not found:"+gs),gs)}function r(gs){if(gs>m){var vs=l.substring(m,gs).replace(/&#?\w+;/g,o);f&&i(m),t.characters(vs,0,gs-m),m=gs}}function i(gs,vs){for(;gs>=c&&(vs=u.exec(l));)p=vs.index,c=p+vs[0].length,f.lineNumber++;f.columnNumber=gs-p+1}for(var p=0,c=0,u=/.*(?:\r\n?|\n)|.*$/g,f=t.locator,h=[{currentNSMap:s}],g={},m=0;;){try{var d=l.indexOf("<",m);if(d<0){if(!l.substr(m).match(/^\s*$/)){var v=t.doc,A=v.createTextNode(l.substr(m));v.appendChild(A),t.currentElement=A}return}switch(d>m&&r(d),l.charAt(d+1)){case"/":var X=l.indexOf(">",d+3),C=l.substring(d+2,X).replace(/[ \t\n\r]+$/g,""),b=h.pop();X<0?(C=l.substring(d+2).replace(/[\s<].*/,""),n.error("end tag name: "+C+" is not complete:"+b.tagName),X=d+1+C.length):C.match(/\s</)&&(C=C.replace(/[\s<].*/,""),n.error("end tag name: "+C+" maybe not complete"),X=d+1+C.length);var E=b.localNSMap,D=b.tagName==C,N=D||b.tagName&&b.tagName.toLowerCase()==C.toLowerCase();if(N){if(t.endElement(b.uri,b.localName,C),E)for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&t.endPrefixMapping(O);D||n.fatalError("end tag name: "+C+" is not match the current start tagName:"+b.tagName)}else h.push(b);X++;break;case"?":f&&i(d),X=jy(l,d,t);break;case"!":f&&i(d),X=Vy(l,d,t,n);break;default:f&&i(d);var U=new n9,H=h[h.length-1].currentNSMap,X=My(l,d,U,H,o,n),es=U.length;if(!U.closed&&Hy(l,X,U.tagName,g)&&(U.closed=!0,e.nbsp||n.warning("unclosed xml attribute")),f&&es){for(var us=zp(f,{}),ls=0;ls<es;ls++){var hs=U[ls];i(hs.offset),hs.locator=zp(f,{})}t.locator=us,Mp(U,t,H)&&h.push(U),t.locator=f}else Mp(U,t,H)&&h.push(U);wl.isHTML(U.uri)&&!U.closed?X=Uy(l,X,U.tagName,o,t):X++}}catch(gs){if(gs instanceof pl)throw gs;n.error("element parse error: "+gs),X=-1}X>m?m=X:r(Math.max(d,m)+1)}}function zp(l,s){return s.lineNumber=l.lineNumber,s.columnNumber=l.columnNumber,s}function My(l,s,e,t,n,a){function o(f,h,g){e.attributeNames.hasOwnProperty(f)&&a.fatalError("Attribute "+f+" redefined"),e.addValue(f,h,g)}for(var r,i,p=++s,c=Al;;){var u=l.charAt(p);switch(u){case"=":if(c===mn)r=l.slice(s,p),c=Dl;else if(c===Ka)c=Dl;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===Dl||c===mn)if(c===mn&&(a.warning('attribute value must after "="'),r=l.slice(s,p)),s=p+1,p=l.indexOf(u,s),p>0)i=l.slice(s,p).replace(/&#?\w+;/g,n),o(r,i,s-1),c=Qa;else throw new Error("attribute value no end '"+u+"' match");else if(c==Ja)i=l.slice(s,p).replace(/&#?\w+;/g,n),o(r,i,s),a.warning('attribute "'+r+'" missed start quot('+u+")!!"),s=p+1,c=Qa;else throw new Error('attribute value must after "="');break;case"/":switch(c){case Al:e.setTagName(l.slice(s,p));case Qa:case ml:case zo:c=zo,e.closed=!0;case Ja:case mn:break;case Ka:e.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),c==Al&&e.setTagName(l.slice(s,p)),p;case">":switch(c){case Al:e.setTagName(l.slice(s,p));case Qa:case ml:case zo:break;case Ja:case mn:i=l.slice(s,p),i.slice(-1)==="/"&&(e.closed=!0,i=i.slice(0,-1));case Ka:c===Ka&&(i=r),c==Ja?(a.warning('attribute "'+i+'" missed quot(")!'),o(r,i.replace(/&#?\w+;/g,n),s)):((!wl.isHTML(t[""])||!i.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+i+'" missed value!! "'+i+'" instead!!'),o(i,i,s));break;case Dl:throw new Error("attribute value missed!!")}return p;case"":u=" ";default:if(u<=" ")switch(c){case Al:e.setTagName(l.slice(s,p)),c=ml;break;case mn:r=l.slice(s,p),c=Ka;break;case Ja:var i=l.slice(s,p).replace(/&#?\w+;/g,n);a.warning('attribute "'+i+'" missed quot(")!!'),o(r,i,s);case Qa:c=ml;break}else switch(c){case Ka:e.tagName,(!wl.isHTML(t[""])||!r.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+r+'" missed value!! "'+r+'" instead2!!'),o(r,r,s),s=p,c=mn;break;case Qa:a.warning('attribute space is required"'+r+'"!!');case ml:c=mn,s=p;break;case Dl:c=Ja,s=p;break;case zo:throw new Error("elements closed character '/' and '>' must be connected to")}}p++}}function Mp(l,s,e){for(var t=l.tagName,n=null,u=l.length;u--;){var a=l[u],o=a.qName,r=a.value,f=o.indexOf(":");if(f>0)var i=a.prefix=o.slice(0,f),p=o.slice(f+1),c=i==="xmlns"&&p;else p=o,i=null,c=o==="xmlns"&&"";a.localName=p,c!==!1&&(n==null&&(n={},t9(e,e={})),e[c]=n[c]=r,a.uri=wl.XMLNS,s.startPrefixMapping(c,r))}for(var u=l.length;u--;){a=l[u];var i=a.prefix;i&&(i==="xml"&&(a.uri=wl.XML),i!=="xmlns"&&(a.uri=e[i||""]))}var f=t.indexOf(":");f>0?(i=l.prefix=t.slice(0,f),p=l.localName=t.slice(f+1)):(i=null,p=l.localName=t);var h=l.uri=e[i||""];if(s.startElement(h,p,t,l),l.closed){if(s.endElement(h,p,t),n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&s.endPrefixMapping(i)}else return l.currentNSMap=e,l.localNSMap=n,!0}function Uy(l,s,e,t,n){if(/^(?:script|textarea)$/i.test(e)){var a=l.indexOf("</"+e+">",s),o=l.substring(s+1,a);if(/[&<]/.test(o))return/^script$/i.test(e)?(n.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,t),n.characters(o,0,o.length),a)}return s+1}function Hy(l,s,e,t){var n=t[e];return n==null&&(n=l.lastIndexOf("</"+e+">"),n<s&&(n=l.lastIndexOf("</"+e)),t[e]=n),n<s}function t9(l,s){for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(s[e]=l[e])}function Vy(l,s,e,t){var n=l.charAt(s+2);switch(n){case"-":if(l.charAt(s+3)==="-"){var a=l.indexOf("-->",s+4);return a>s?(e.comment(l,s+4,a-s-4),a+3):(t.error("Unclosed comment"),-1)}else return-1;default:if(l.substr(s+3,6)=="CDATA["){var a=l.indexOf("]]>",s+9);return e.startCDATA(),e.characters(l,s+9,a-s-9),e.endCDATA(),a+3}var o=Wy(l,s),r=o.length;if(r>1&&/!doctype/i.test(o[0][0])){var i=o[1][0],p=!1,c=!1;r>3&&(/^public$/i.test(o[2][0])?(p=o[3][0],c=r>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var u=o[r-1];return e.startDTD(i,p,c),e.endDTD(),u.index+u[0].length}}return-1}function jy(l,s,e){var t=l.indexOf("?>",s);if(t){var n=l.substring(s,t).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return n?(n[0].length,e.processingInstruction(n[1],n[2]),t+2):-1}return-1}function n9(){this.attributeNames={}}n9.prototype={setTagName:function(l){if(!Pp.test(l))throw new Error("invalid tagName:"+l);this.tagName=l},addValue:function(l,s,e){if(!Pp.test(l))throw new Error("invalid attribute:"+l);this.attributeNames[l]=this.length,this[this.length++]={qName:l,value:s,offset:e}},length:0,getLocalName:function(l){return this[l].localName},getLocator:function(l){return this[l].locator},getQName:function(l){return this[l].qName},getURI:function(l){return this[l].uri},getValue:function(l){return this[l].value}};function Wy(l,s){var e,t=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=s,n.exec(l);e=n.exec(l);)if(t.push(e),e[1])return t}di.XMLReader=e9;di.ParseError=pl;var Zy=kn,fi=Fn,Up=s9,a9=di,Gy=fi.DOMImplementation,Hp=Zy.NAMESPACE,Yy=a9.ParseError,Xy=a9.XMLReader;function l9(l){this.options=l||{locator:{}}}l9.prototype.parseFromString=function(l,s){var e=this.options,t=new Xy,n=e.domBuilder||new Ll,a=e.errorHandler,o=e.locator,r=e.xmlns||{},i=/\/x?html?$/.test(s),p=i?Up.HTML_ENTITIES:Up.XML_ENTITIES;return o&&n.setDocumentLocator(o),t.errorHandler=Ky(a,n,o),t.domBuilder=e.domBuilder||n,i&&(r[""]=Hp.HTML),r.xml=r.xml||Hp.XML,l&&typeof l=="string"?t.parse(l,r,p):t.errorHandler.error("invalid doc source"),n.doc};function Ky(l,s,e){if(!l){if(s instanceof Ll)return s;l=s}var t={},n=l instanceof Function;e=e||{};function a(o){var r=l[o];!r&&n&&(r=l.length==2?function(i){l(o,i)}:l),t[o]=r&&function(i){r("[xmldom "+o+"]	"+i+Kr(e))}||function(){}}return a("warning"),a("error"),a("fatalError"),t}function Ll(){this.cdata=!1}function sl(l,s){s.lineNumber=l.lineNumber,s.columnNumber=l.columnNumber}Ll.prototype={startDocument:function(){this.doc=new Gy().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(l,s,e,t){var n=this.doc,a=n.createElementNS(l,e||s),o=t.length;Mo(this,a),this.currentElement=a,this.locator&&sl(this.locator,a);for(var r=0;r<o;r++){var l=t.getURI(r),i=t.getValue(r),e=t.getQName(r),p=n.createAttributeNS(l,e);this.locator&&sl(t.getLocator(r),p),p.value=p.nodeValue=i,a.setAttributeNode(p)}},endElement:function(l,s,e){var t=this.currentElement;t.tagName,this.currentElement=t.parentNode},startPrefixMapping:function(l,s){},endPrefixMapping:function(l){},processingInstruction:function(l,s){var e=this.doc.createProcessingInstruction(l,s);this.locator&&sl(this.locator,e),Mo(this,e)},ignorableWhitespace:function(l,s,e){},characters:function(l,s,e){if(l=Vp.apply(this,arguments),l){if(this.cdata)var t=this.doc.createCDATASection(l);else var t=this.doc.createTextNode(l);this.currentElement?this.currentElement.appendChild(t):/^\s*$/.test(l)&&this.doc.appendChild(t),this.locator&&sl(this.locator,t)}},skippedEntity:function(l){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(l){(this.locator=l)&&(l.lineNumber=0)},comment:function(l,s,e){l=Vp.apply(this,arguments);var t=this.doc.createComment(l);this.locator&&sl(this.locator,t),Mo(this,t)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(l,s,e){var t=this.doc.implementation;if(t&&t.createDocumentType){var n=t.createDocumentType(l,s,e);this.locator&&sl(this.locator,n),Mo(this,n),this.doc.doctype=n}},warning:function(l){console.warn("[xmldom warning]	"+l,Kr(this.locator))},error:function(l){console.error("[xmldom error]	"+l,Kr(this.locator))},fatalError:function(l){throw new Yy(l,this.locator)}};function Kr(l){if(l)return`
@`+(l.systemId||"")+"#[line:"+l.lineNumber+",col:"+l.columnNumber+"]"}function Vp(l,s,e){return typeof l=="string"?l.substr(s,e):l.length>=s+e||s?new java.lang.String(l,s,e)+"":l}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(l){Ll.prototype[l]=function(){return null}});function Mo(l,s){l.currentElement?l.currentElement.appendChild(s):l.doc.appendChild(s)}Il.__DOMHandler=Ll;Il.DOMParser=l9;Il.DOMImplementation=fi.DOMImplementation;Il.XMLSerializer=fi.XMLSerializer;var o9=Il.DOMParser;const hi=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,Jy=1,Qy=3,r9=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function ur(){var l=new Date().getTime(),s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(l+Math.random()*16)%16|0;return l=Math.floor(l/16),(e=="x"?t:t&7|8).toString(16)});return s}function sd(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function i9(l){return!!(l&&l.nodeType==1)}function we(l){return!isNaN(parseFloat(l))&&isFinite(l)}function p9(l){let s=parseFloat(l);return we(l)===!1?!1:typeof l=="string"&&l.indexOf(".")>-1?!0:Math.floor(s)!==s}function tl(l){var s=["Webkit","webkit","Moz","O","ms"],e=["-webkit-","-webkit-","-moz-","-o-","-ms-"],t=l.toLowerCase(),n=s.length;if(typeof document>"u"||typeof document.body.style[t]<"u")return l;for(var a=0;a<n;a++)if(typeof document.body.style[e[a]+t]<"u")return e[a]+t;return l}function c9(l){for(var s=1,e=arguments.length;s<e;s++){var t=arguments[s];for(var n in t)l[n]===void 0&&(l[n]=t[n])}return l}function Ue(l){var s=[].slice.call(arguments,1);return s.forEach(function(e){e&&Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(l,t,Object.getOwnPropertyDescriptor(e,t))})}),l}function ed(l,s,e){var t=cl(l,s,e);return s.splice(t,0,l),t}function cl(l,s,e,t,n){var a=t||0,o=n||s.length,r=parseInt(a+(o-a)/2),i;return e||(e=function(p,c){if(p>c)return 1;if(p<c)return-1;if(p==c)return 0}),o-a<=0?r:(i=e(s[r],l),o-a===1?i>=0?r:r+1:i===0?r:i===-1?cl(l,s,e,r,o):cl(l,s,e,a,r))}function Jo(l,s,e,t,n){var a=t||0,o=n||s.length,r=parseInt(a+(o-a)/2),i;return e||(e=function(p,c){if(p>c)return 1;if(p<c)return-1;if(p==c)return 0}),o-a<=0?-1:(i=e(s[r],l),o-a===1?i===0?r:-1:i===0?r:i===-1?Jo(l,s,e,r,o):Jo(l,s,e,a,r))}function Ho(l){var s=window.getComputedStyle(l),e=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],t=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,a=0;return e.forEach(function(o){n+=parseFloat(s[o])||0}),t.forEach(function(o){a+=parseFloat(s[o])||0}),{height:a,width:n}}function Qo(l){var s=window.getComputedStyle(l),e=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],t=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,a=0;return e.forEach(function(o){n+=parseFloat(s[o])||0}),t.forEach(function(o){a+=parseFloat(s[o])||0}),{height:a,width:n}}function Jr(l){let s,e=l.ownerDocument;if(l.nodeType==Node.TEXT_NODE){let t=e.createRange();t.selectNodeContents(l),s=t.getBoundingClientRect()}else s=l.getBoundingClientRect();return s}function sr(){var l=window.innerWidth,s=window.innerHeight;return{top:0,left:0,right:l,bottom:s,width:l,height:s}}function vi(l,s){for(var e=l.parentNode,t=e.childNodes,n,a=-1,o=0;o<t.length&&(n=t[o],n.nodeType===s&&a++,n!=l);o++);return a}function td(l){return vi(l,Qy)}function u9(l){return vi(l,Jy)}function Fl(l){return["xml","opf","ncx"].indexOf(l)>-1}function y9(l,s){return new Blob([l],{type:s})}function er(l,s){var e,t=y9(l,s);return e=r9.createObjectURL(t),e}function d9(l){return r9.revokeObjectURL(l)}function Qr(l,s){var e,t;if(typeof l=="string")return e=btoa(l),t="data:"+s+";base64,"+e,t}function f9(l){return Object.prototype.toString.call(l).slice(8,-1)}function wt(l,s,e){var t,n;return typeof DOMParser>"u"||e?n=o9:n=DOMParser,l.charCodeAt(0)===65279&&(l=l.slice(1)),t=new n().parseFromString(l,s),t}function ye(l,s){var e;if(!l)throw new Error("No Element Provided");if(typeof l.querySelector<"u")return l.querySelector(s);if(e=l.getElementsByTagName(s),e.length)return e[0]}function tn(l,s){return typeof l.querySelector<"u"?l.querySelectorAll(s):l.getElementsByTagName(s)}function nl(l,s,e){var t,n;if(typeof l.querySelector<"u"){s+="[";for(var a in e)s+=a+"~='"+e[a]+"'";return s+="]",l.querySelector(s)}else if(t=l.getElementsByTagName(s),n=Array.prototype.slice.call(t,0).filter(function(o){for(var r in e)if(o.getAttribute(r)===e[r])return!0;return!1}),n)return n[0]}function tr(l,s){var e=l.ownerDocument||l;typeof e.createTreeWalker<"u"?h9(l,s,NodeFilter.SHOW_TEXT):Ei(l,function(t){t&&t.nodeType===3&&s(t)})}function h9(l,s,e){var t=document.createTreeWalker(l,e,null,!1);let n;for(;n=t.nextNode();)s(n)}function Ei(l,s){if(s(l))return!0;if(l=l.firstChild,l)do{if(Ei(l,s))return!0;l=l.nextSibling}while(l)}function v9(l){return new Promise(function(s,e){var t=new FileReader;t.readAsDataURL(l),t.onloadend=function(){s(t.result)}})}function Gs(){this.resolve=null,this.reject=null,this.id=ur(),this.promise=new Promise((l,s)=>{this.resolve=l,this.reject=s}),Object.freeze(this)}function nr(l,s,e){var t;if(typeof l.querySelector<"u"&&(t=l.querySelector(`${s}[*|type="${e}"]`)),!t||t.length===0){t=tn(l,s);for(var n=0;n<t.length;n++)if(t[n].getAttributeNS("http://www.idpf.org/2007/ops","type")===e||t[n].getAttribute("epub:type")===e)return t[n]}else return t}function si(l){for(var s=[],e=l.childNodes,t=0;t<e.length;t++){let n=e[t];n.nodeType===1&&s.push(n)}return s}function ei(l){for(var s=[l];l;l=l.parentNode)s.unshift(l);return s}function al(l,s,e){for(var t=[],n=l.childNodes,a=0;a<n.length;a++){let o=n[a];if(o.nodeType===1&&o.nodeName.toLowerCase()===s){if(e)return o;t.push(o)}}if(!e)return t}function nd(l,s){let e;if(!(l===null||s===""))for(e=l.parentNode;e.nodeType===1;){if(e.tagName.toLowerCase()===s)return e;e=e.parentNode}}class E9{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(s,e){this.startContainer=s,this.startOffset=e,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(s,e){this.endContainer=s,this.endOffset=e,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(s){this.collapsed=!0,s?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(s){let e=s.parentNode,t=Array.prototype.indexOf.call(e.childNodes,s);this.setStart(e,t),this.setEnd(e,t+1)}selectNodeContents(s){s.childNodes[s.childNodes-1];let e=s.nodeType===3?s.textContent.length:parent.childNodes.length;this.setStart(s,0),this.setEnd(s,e)}_commonAncestorContainer(s,e){var t=ei(s||this.startContainer),n=ei(e||this.endContainer);if(t[0]==n[0]){for(var a=0;a<t.length;a++)if(t[a]!=n[a])return t[a-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const ad=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:E9,blob2base64:v9,borders:Qo,bounds:Ho,createBase64Url:Qr,createBlob:y9,createBlobUrl:er,defaults:c9,defer:Gs,documentHeight:sd,extend:Ue,filterChildren:al,findChildren:si,getParentByTagName:nd,indexOfElementNode:u9,indexOfNode:vi,indexOfSorted:Jo,indexOfTextNode:td,insert:ed,isElement:i9,isFloat:p9,isNumber:we,isXml:Fl,locationOf:cl,nodeBounds:Jr,parents:ei,parse:wt,prefixed:tl,qs:ye,qsa:tn,qsp:nl,querySelectorByType:nr,requestAnimationFrame:hi,revokeBlobUrl:d9,sprint:tr,treeWalker:h9,type:f9,uuid:ur,walk:Ei,windowBounds:sr},Symbol.toStringTag,{value:"Module"}));if(!A9)var A9={cwd:function(){return"/"}};function bt(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+l)}function jp(l,s){for(var e="",t=-1,n=0,a,o=0;o<=l.length;++o){if(o<l.length)a=l.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(t===o-1||n===1))if(t!==o-1&&n===2){if(e.length<2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){for(var r=e.length-1,i=r;i>=0&&e.charCodeAt(i)!==47;--i);if(i!==r){i===-1?e="":e=e.slice(0,i),t=o,n=0;continue}}else if(e.length===2||e.length===1){e="",t=o,n=0;continue}}s&&(e.length>0?e+="/..":e="..")}else e.length>0?e+="/"+l.slice(t+1,o):e=l.slice(t+1,o);t=o,n=0}else a===46&&n!==-1?++n:n=-1}return e}function ld(l,s){var e=s.dir||s.root,t=s.base||(s.name||"")+(s.ext||"");return e?e===s.root?e+t:e+l+t:t}var Vo={resolve:function(){for(var s="",e=!1,t,n=arguments.length-1;n>=-1&&!e;n--){var a;n>=0?a=arguments[n]:(t===void 0&&(t=A9.cwd()),a=t),bt(a),a.length!==0&&(s=a+"/"+s,e=a.charCodeAt(0)===47)}return s=jp(s,!e),e?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(bt(s),s.length===0)return".";var e=s.charCodeAt(0)===47,t=s.charCodeAt(s.length-1)===47;return s=jp(s,!e),s.length===0&&!e&&(s="."),s.length>0&&t&&(s+="/"),e?"/"+s:s},isAbsolute:function(s){return bt(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,e=0;e<arguments.length;++e){var t=arguments[e];bt(t),t.length>0&&(s===void 0?s=t:s+="/"+t)}return s===void 0?".":Vo.normalize(s)},relative:function(s,e){if(bt(s),bt(e),s===e||(s=Vo.resolve(s),e=Vo.resolve(e),s===e))return"";for(var t=1;t<s.length&&s.charCodeAt(t)===47;++t);for(var n=s.length,a=n-t,o=1;o<e.length&&e.charCodeAt(o)===47;++o);for(var r=e.length,i=r-o,p=a<i?a:i,c=-1,u=0;u<=p;++u){if(u===p){if(i>p){if(e.charCodeAt(o+u)===47)return e.slice(o+u+1);if(u===0)return e.slice(o+u)}else a>p&&(s.charCodeAt(t+u)===47?c=u:u===0&&(c=0));break}var f=s.charCodeAt(t+u),h=e.charCodeAt(o+u);if(f!==h)break;f===47&&(c=u)}var g="";for(u=t+c+1;u<=n;++u)(u===n||s.charCodeAt(u)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+e.slice(o+c):(o+=c,e.charCodeAt(o)===47&&++o,e.slice(o))},_makeLong:function(s){return s},dirname:function(s){if(bt(s),s.length===0)return".";for(var e=s.charCodeAt(0),t=e===47,n=-1,a=!0,o=s.length-1;o>=1;--o)if(e=s.charCodeAt(o),e===47){if(!a){n=o;break}}else a=!1;return n===-1?t?"/":".":t&&n===1?"//":s.slice(0,n)},basename:function(s,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');bt(s);var t=0,n=-1,a=!0,o;if(e!==void 0&&e.length>0&&e.length<=s.length){if(e.length===s.length&&e===s)return"";var r=e.length-1,i=-1;for(o=s.length-1;o>=0;--o){var p=s.charCodeAt(o);if(p===47){if(!a){t=o+1;break}}else i===-1&&(a=!1,i=o+1),r>=0&&(p===e.charCodeAt(r)?--r===-1&&(n=o):(r=-1,n=i))}return t===n?n=i:n===-1&&(n=s.length),s.slice(t,n)}else{for(o=s.length-1;o>=0;--o)if(s.charCodeAt(o)===47){if(!a){t=o+1;break}}else n===-1&&(a=!1,n=o+1);return n===-1?"":s.slice(t,n)}},extname:function(s){bt(s);for(var e=-1,t=0,n=-1,a=!0,o=0,r=s.length-1;r>=0;--r){var i=s.charCodeAt(r);if(i===47){if(!a){t=r+1;break}continue}n===-1&&(a=!1,n=r+1),i===46?e===-1?e=r:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||n===-1||o===0||o===1&&e===n-1&&e===t+1?"":s.slice(e,n)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof s);return ld("/",s)},parse:function(s){bt(s);var e={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return e;var t=s.charCodeAt(0),n=t===47,a;n?(e.root="/",a=1):a=0;for(var o=-1,r=0,i=-1,p=!0,c=s.length-1,u=0;c>=a;--c){if(t=s.charCodeAt(c),t===47){if(!p){r=c+1;break}continue}i===-1&&(p=!1,i=c+1),t===46?o===-1?o=c:u!==1&&(u=1):o!==-1&&(u=-1)}return o===-1||i===-1||u===0||u===1&&o===i-1&&o===r+1?i!==-1&&(r===0&&n?e.base=e.name=s.slice(1,i):e.base=e.name=s.slice(r,i)):(r===0&&n?(e.name=s.slice(1,o),e.base=s.slice(1,i)):(e.name=s.slice(r,o),e.base=s.slice(r,i)),e.ext=s.slice(o,i)),r>0?e.dir=s.slice(0,r-1):n&&(e.dir="/"),e},sep:"/",delimiter:":",posix:null},od=Vo;const gn=ul(od);class nn{constructor(s){var e,t;e=s.indexOf("://"),e>-1&&(s=new URL(s).pathname),t=this.parse(s),this.path=s,this.isDirectory(s)?this.directory=s:this.directory=t.dir+"/",this.filename=t.base,this.extension=t.ext.slice(1)}parse(s){return gn.parse(s)}isAbsolute(s){return gn.isAbsolute(s||this.path)}isDirectory(s){return s.charAt(s.length-1)==="/"}resolve(s){return gn.resolve(this.directory,s)}relative(s){var e=s&&s.indexOf("://")>-1;return e?s:gn.relative(this.directory,s)}splitPath(s){return this.splitPathRe.exec(s).slice(1)}toString(){return this.path}}class Et{constructor(s,e){var t=s.indexOf("://")>-1,n=s,a;if(this.Url=void 0,this.href=s,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=e,!t&&e!==!1&&typeof e!="string"&&window&&window.location&&(this.base=window.location.href),t||this.base)try{this.base?this.Url=new URL(s,this.base):this.Url=new URL(s),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,n=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(a=new nn(this.base),n=a.resolve(n))}this.Path=new nn(n),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(s){var e=s.indexOf("://")>-1,t;return e?s:(t=gn.resolve(this.directory,s),this.origin+t)}relative(s){return gn.relative(s,this.directory)}toString(){return this.href}}const el=1,pt=3,rd=9;class Ys{constructor(s,e,t){var n;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Ys))return new Ys(s,e,t);if(typeof e=="string"?this.base=this.parseComponent(e):typeof e=="object"&&e.steps&&(this.base=e),n=this.checkType(s),n==="string")return this.str=s,Ue(this,this.parse(s));if(n==="range")return Ue(this,this.fromRange(s,this.base,t));if(n==="node")return Ue(this,this.fromNode(s,this.base,t));if(n==="EpubCFI"&&s.path)return s;if(s)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(s){return this.isCfiString(s)?"string":s&&typeof s=="object"&&(f9(s)==="Range"||typeof s.startContainer<"u")?"range":s&&typeof s=="object"&&typeof s.nodeType<"u"?"node":s&&typeof s=="object"&&s instanceof Ys?"EpubCFI":!1}parse(s){var e={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},t,n,a;return typeof s!="string"?{spinePos:-1}:(s.indexOf("epubcfi(")===0&&s[s.length-1]===")"&&(s=s.slice(8,s.length-1)),t=this.getChapterComponent(s),t?(e.base=this.parseComponent(t),n=this.getPathComponent(s),e.path=this.parseComponent(n),a=this.getRange(s),a&&(e.range=!0,e.start=this.parseComponent(a[0]),e.end=this.parseComponent(a[1])),e.spinePos=e.base.steps[1].index,e):{spinePos:-1})}parseComponent(s){var e={steps:[],terminal:{offset:null,assertion:null}},t=s.split(":"),n=t[0].split("/"),a;return t.length>1&&(a=t[1],e.terminal=this.parseTerminal(a)),n[0]===""&&n.shift(),e.steps=n.map((function(o){return this.parseStep(o)}).bind(this)),e}parseStep(s){var e,t,n,a,o;if(a=s.match(/\[(.*)\]/),a&&a[1]&&(o=a[1]),t=parseInt(s),!isNaN(t))return t%2===0?(e="element",n=t/2-1):(e="text",n=(t-1)/2),{type:e,index:n,id:o||null}}parseTerminal(s){var e,t,n=s.match(/\[(.*)\]/);return n&&n[1]?(e=parseInt(s.split("[")[0]),t=n[1]):e=parseInt(s),we(e)||(e=null),{offset:e,assertion:t}}getChapterComponent(s){var e=s.split("!");return e[0]}getPathComponent(s){var e=s.split("!");if(e[1])return e[1].split(",")[0]}getRange(s){var e=s.split(",");return e.length===3?[e[1],e[2]]:!1}getCharecterOffsetComponent(s){var e=s.split(":");return e[1]||""}joinSteps(s){return s?s.map(function(e){var t="";return e.type==="element"&&(t+=(e.index+1)*2),e.type==="text"&&(t+=1+2*e.index),e.id&&(t+="["+e.id+"]"),t}).join("/"):""}segmentString(s){var e="/";return e+=this.joinSteps(s.steps),s.terminal&&s.terminal.offset!=null&&(e+=":"+s.terminal.offset),s.terminal&&s.terminal.assertion!=null&&(e+="["+s.terminal.assertion+"]"),e}toString(){var s="epubcfi(";return s+=this.segmentString(this.base),s+="!",s+=this.segmentString(this.path),this.range&&this.start&&(s+=",",s+=this.segmentString(this.start)),this.range&&this.end&&(s+=",",s+=this.segmentString(this.end)),s+=")",s}compare(s,e){var t,n,a,o;if(typeof s=="string"&&(s=new Ys(s)),typeof e=="string"&&(e=new Ys(e)),s.spinePos>e.spinePos)return 1;if(s.spinePos<e.spinePos)return-1;s.range?(t=s.path.steps.concat(s.start.steps),a=s.start.terminal):(t=s.path.steps,a=s.path.terminal),e.range?(n=e.path.steps.concat(e.start.steps),o=e.start.terminal):(n=e.path.steps,o=e.path.terminal);for(var r=0;r<t.length;r++){if(!t[r])return-1;if(!n[r]||t[r].index>n[r].index)return 1;if(t[r].index<n[r].index)return-1}return t.length<n.length?-1:a.offset>o.offset?1:a.offset<o.offset?-1:0}step(s){var e=s.nodeType===pt?"text":"element";return{id:s.id,tagName:s.tagName,type:e,index:this.position(s)}}filteredStep(s,e){var t=this.filter(s,e),n;if(t)return n=t.nodeType===pt?"text":"element",{id:t.id,tagName:t.tagName,type:n,index:this.filteredPosition(t,e)}}pathTo(s,e,t){for(var n={steps:[],terminal:{offset:null,assertion:null}},a=s,o;a&&a.parentNode&&a.parentNode.nodeType!=rd;)t?o=this.filteredStep(a,t):o=this.step(a),o&&n.steps.unshift(o),a=a.parentNode;return e!=null&&e>=0&&(n.terminal.offset=e,n.steps[n.steps.length-1].type!="text"&&n.steps.push({type:"text",index:0})),n}equalStep(s,e){return!s||!e?!1:s.index===e.index&&s.id===e.id&&s.type===e.type}fromRange(s,e,t){var n={range:!1,base:{},path:{},start:null,end:null},a=s.startContainer,o=s.endContainer,r=s.startOffset,i=s.endOffset,p=!1;if(t&&(p=a.ownerDocument.querySelector("."+t)!=null),typeof e=="string"?(n.base=this.parseComponent(e),n.spinePos=n.base.steps[1].index):typeof e=="object"&&(n.base=e),s.collapsed)p&&(r=this.patchOffset(a,r,t)),n.path=this.pathTo(a,r,t);else{n.range=!0,p&&(r=this.patchOffset(a,r,t)),n.start=this.pathTo(a,r,t),p&&(i=this.patchOffset(o,i,t)),n.end=this.pathTo(o,i,t),n.path={steps:[],terminal:null};var c=n.start.steps.length,u;for(u=0;u<c&&this.equalStep(n.start.steps[u],n.end.steps[u]);u++)u===c-1?n.start.terminal===n.end.terminal&&(n.path.steps.push(n.start.steps[u]),n.range=!1):n.path.steps.push(n.start.steps[u]);n.start.steps=n.start.steps.slice(n.path.steps.length),n.end.steps=n.end.steps.slice(n.path.steps.length)}return n}fromNode(s,e,t){var n={range:!1,base:{},path:{},start:null,end:null};return typeof e=="string"?(n.base=this.parseComponent(e),n.spinePos=n.base.steps[1].index):typeof e=="object"&&(n.base=e),n.path=this.pathTo(s,null,t),n}filter(s,e){var t,n,a,o,r,i=!1;return s.nodeType===pt?(i=!0,a=s.parentNode,t=s.parentNode.classList.contains(e)):(i=!1,t=s.classList.contains(e)),t&&i?(o=a.previousSibling,r=a.nextSibling,o&&o.nodeType===pt?n=o:r&&r.nodeType===pt&&(n=r),n||s):t&&!i?!1:s}patchOffset(s,e,t){if(s.nodeType!=pt)throw new Error("Anchor must be a text node");var n=s,a=e;for(s.parentNode.classList.contains(t)&&(n=s.parentNode);n.previousSibling;){if(n.previousSibling.nodeType===el)if(n.previousSibling.classList.contains(t))a+=n.previousSibling.textContent.length;else break;else a+=n.previousSibling.textContent.length;n=n.previousSibling}return a}normalizedMap(s,e,t){var n={},a=-1,o,r=s.length,i,p;for(o=0;o<r;o++)i=s[o].nodeType,i===el&&s[o].classList.contains(t)&&(i=pt),o>0&&i===pt&&p===pt?n[o]=a:e===i&&(a=a+1,n[o]=a),p=i;return n}position(s){var e,t;return s.nodeType===el?(e=s.parentNode.children,e||(e=si(s.parentNode)),t=Array.prototype.indexOf.call(e,s)):(e=this.textNodes(s.parentNode),t=e.indexOf(s)),t}filteredPosition(s,e){var t,n,a;return s.nodeType===el?(t=s.parentNode.children,a=this.normalizedMap(t,el,e)):(t=s.parentNode.childNodes,s.parentNode.classList.contains(e)&&(s=s.parentNode,t=s.parentNode.childNodes),a=this.normalizedMap(t,pt,e)),n=Array.prototype.indexOf.call(t,s),a[n]}stepsToXpath(s){var e=[".","*"];return s.forEach(function(t){var n=t.index+1;t.id?e.push("*[position()="+n+" and @id='"+t.id+"']"):t.type==="text"?e.push("text()["+n+"]"):e.push("*["+n+"]")}),e.join("/")}stepsToQuerySelector(s){var e=["html"];return s.forEach(function(t){var n=t.index+1;t.id?e.push("#"+t.id):t.type==="text"||e.push("*:nth-child("+n+")")}),e.join(">")}textNodes(s,e){return Array.prototype.slice.call(s.childNodes).filter(function(t){return t.nodeType===pt?!0:!!(e&&t.classList.contains(e))})}walkToNode(s,e,t){var n=e||document,a=n.documentElement,o,r,i=s.length,p;for(p=0;p<i&&(r=s[p],r.type==="element"?r.id?a=n.getElementById(r.id):(o=a.children||si(a),a=o[r.index]):r.type==="text"&&(a=this.textNodes(a,t)[r.index]),!!a);p++);return a}findNode(s,e,t){var n=e||document,a,o;return!t&&typeof n.evaluate<"u"?(o=this.stepsToXpath(s),a=n.evaluate(o,n,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):t?a=this.walkToNode(s,n,t):a=this.walkToNode(s,n),a}fixMiss(s,e,t,n){var a=this.findNode(s.slice(0,-1),t,n),o=a.childNodes,r=this.normalizedMap(o,pt,n),i,p,c=s[s.length-1].index;for(let u in r){if(!r.hasOwnProperty(u))return;if(r[u]===c)if(i=o[u],p=i.textContent.length,e>p)e=e-p;else{i.nodeType===el?a=i.childNodes[0]:a=i;break}}return{container:a,offset:e}}toRange(s,e){var t=s||document,n,a,o,r,i,p=this,c,u,f=e?t.querySelector("."+e)!=null:!1,h;if(typeof t.createRange<"u"?n=t.createRange():n=new E9,p.range?(a=p.start,c=p.path.steps.concat(a.steps),r=this.findNode(c,t,f?e:null),o=p.end,u=p.path.steps.concat(o.steps),i=this.findNode(u,t,f?e:null)):(a=p.path,c=p.path.steps,r=this.findNode(p.path.steps,t,f?e:null)),r)try{a.terminal.offset!=null?n.setStart(r,a.terminal.offset):n.setStart(r,0)}catch{h=this.fixMiss(c,a.terminal.offset,t,f?e:null),n.setStart(h.container,h.offset)}else return console.log("No startContainer found for",this.toString()),null;if(i)try{o.terminal.offset!=null?n.setEnd(i,o.terminal.offset):n.setEnd(i,0)}catch{h=this.fixMiss(u,p.end.terminal.offset,t,f?e:null),n.setEnd(h.container,h.offset)}return n}isCfiString(s){return typeof s=="string"&&s.indexOf("epubcfi(")===0&&s[s.length-1]===")"}generateChapterComponent(s,e,t){var n=parseInt(e),a=(s+1)*2,o="/"+a+"/";return o+=(n+1)*2,t&&(o+="["+t+"]"),o}collapse(s){this.range&&(this.range=!1,s?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class At{constructor(s){this.context=s||this,this.hooks=[]}register(){for(var s=0;s<arguments.length;++s)if(typeof arguments[s]=="function")this.hooks.push(arguments[s]);else for(var e=0;e<arguments[s].length;++e)this.hooks.push(arguments[s][e])}deregister(s){let e;for(let t=0;t<this.hooks.length;t++)if(e=this.hooks[t],e===s){this.hooks.splice(t,1);break}}trigger(){var s=arguments,e=this.context,t=[];return this.hooks.forEach(function(n){try{var a=n.apply(e,s)}catch(o){console.log(o)}a&&typeof a.then=="function"&&t.push(a)}),Promise.all(t)}list(){return this.hooks}clear(){return this.hooks=[]}}function D9(l,s){var e,t,n=s.url,a=n.indexOf("://")>-1;l&&(t=ye(l,"head"),e=ye(t,"base"),e||(e=l.createElement("base"),t.insertBefore(e,t.firstChild)),!a&&window&&window.location&&(n=window.location.origin+n),e.setAttribute("href",n))}function id(l,s){var e,t,n=s.canonical;l&&(e=ye(l,"head"),t=ye(e,"link[rel='canonical']"),t?t.setAttribute("href",n):(t=l.createElement("link"),t.setAttribute("rel","canonical"),t.setAttribute("href",n),e.appendChild(t)))}function pd(l,s){var e,t,n=s.idref;l&&(e=ye(l,"head"),t=ye(e,"link[property='dc.identifier']"),t?t.setAttribute("content",n):(t=l.createElement("meta"),t.setAttribute("name","dc.identifier"),t.setAttribute("content",n),e.appendChild(t)))}function cd(l,s){var e=l.querySelectorAll("a[href]");if(e.length)for(var t=ye(l.ownerDocument,"base"),n=t?t.getAttribute("href"):void 0,a=(function(r){var i=r.getAttribute("href");if(i.indexOf("mailto:")!==0){var p=i.indexOf("://")>-1;if(p)r.setAttribute("target","_blank");else{var c;try{c=new Et(i,n)}catch{}r.onclick=function(){return c&&c.hash?s(c.Path.path+c.hash):s(c?c.Path.path:i),!1}}}}).bind(this),o=0;o<e.length;o++)a(e[o])}function Wp(l,s,e){return s.forEach(function(t,n){t&&e[n]&&(t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=l.replace(new RegExp(t,"g"),e[n]))}),l}function kl(l,s,e,t){var n=typeof window<"u"?window.URL:!1,a=n?"blob":"arraybuffer",o=new Gs,r=new XMLHttpRequest,i=XMLHttpRequest.prototype,p;"overrideMimeType"in i||Object.defineProperty(i,"overrideMimeType",{value:function(){}}),e&&(r.withCredentials=!0),r.onreadystatechange=u,r.onerror=c,r.open("GET",l,!0);for(p in t)r.setRequestHeader(p,t[p]);s=="json"&&r.setRequestHeader("Accept","application/json"),s||(s=new nn(l).extension),s=="blob"&&(r.responseType=a),Fl(s)&&r.overrideMimeType("text/xml"),s=="binary"&&(r.responseType="arraybuffer"),r.send();function c(f){o.reject(f)}function u(){if(this.readyState===XMLHttpRequest.DONE){var f=!1;if((this.responseType===""||this.responseType==="document")&&(f=this.responseXML),this.status===200||this.status===0||f){var h;if(!this.response&&!f)return o.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),o.promise;if(this.status===403)return o.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),o.promise;f?h=this.responseXML:Fl(s)?h=wt(this.response,"text/xml"):s=="xhtml"?h=wt(this.response,"application/xhtml+xml"):s=="html"||s=="htm"?h=wt(this.response,"text/html"):s=="json"?h=JSON.parse(this.response):s=="blob"?n?h=this.response:h=new Blob([this.response]):h=this.response,o.resolve(h)}else o.reject({status:this.status,message:this.response,stack:new Error().stack})}}return o.promise}class ud{constructor(s,e){this.idref=s.idref,this.linear=s.linear==="yes",this.properties=s.properties,this.index=s.index,this.href=s.href,this.url=s.url,this.canonical=s.canonical,this.next=s.next,this.prev=s.prev,this.cfiBase=s.cfiBase,e?this.hooks=e:(this.hooks={},this.hooks.serialize=new At(this),this.hooks.content=new At(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(s){var e=s||this.request||kl,t=new Gs,n=t.promise;return this.contents?t.resolve(this.contents):e(this.url).then((function(a){return this.document=a,this.contents=a.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){t.resolve(this.contents)}).bind(this)).catch(function(a){t.reject(a)}),n}base(){return D9(this.document,this)}render(s){var e=new Gs,t=e.promise;return this.output,this.load(s).then((function(n){var a=typeof navigator<"u"&&navigator.userAgent||"",o=a.indexOf("Trident")>=0,r;typeof XMLSerializer>"u"||o?r=o9:r=XMLSerializer;var i=new r;return this.output=i.serializeToString(n),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){e.resolve(this.output)}).bind(this)).catch(function(n){e.reject(n)}),t}find(s){var e=this,t=[],n=s.toLowerCase(),a=function(o){for(var r=o.textContent.toLowerCase(),i=e.document.createRange(),p,c,u=-1,f,h=150;c!=-1;)c=r.indexOf(n,u+1),c!=-1&&(i=e.document.createRange(),i.setStart(o,c),i.setEnd(o,c+n.length),p=e.cfiFromRange(i),o.textContent.length<h?f=o.textContent:(f=o.textContent.substring(c-h/2,c+h/2),f="..."+f+"..."),t.push({cfi:p,excerpt:f})),u=c};return tr(e.document,function(o){a(o)}),t}search(s,e=5){if(typeof document.createTreeWalker>"u")return this.find(s);let t=[];const n=150,a=this,o=s.toLowerCase(),r=function(u){const g=u.reduce((m,d)=>m+d.textContent,"").toLowerCase().indexOf(o);if(g!=-1){const d=g+o.length;let v=0,A=0;if(g<u[0].length){let C;for(;v<u.length-1&&(A+=u[v].length,!(d<=A));)v+=1;let b=u[0],E=u[v],D=a.document.createRange();D.setStart(b,g);let N=u.slice(0,v).reduce((U,H)=>U+H.textContent.length,0);D.setEnd(E,N>d?d:d-N),C=a.cfiFromRange(D);let O=u.slice(0,v+1).reduce((U,H)=>U+H.textContent,"");O.length>n&&(O=O.substring(g-n/2,g+n/2),O="..."+O+"..."),t.push({cfi:C,excerpt:O})}}},i=document.createTreeWalker(a.document,NodeFilter.SHOW_TEXT,null,!1);let p,c=[];for(;p=i.nextNode();)c.push(p),c.length==e&&(r(c.slice(0,e)),c=c.slice(1,e));return c.length>0&&r(c),t}reconcileLayoutSettings(s){var e={layout:s.layout,spread:s.spread,orientation:s.orientation};return this.properties.forEach(function(t){var n=t.replace("rendition:",""),a=n.indexOf("-"),o,r;a!=-1&&(o=n.slice(0,a),r=n.slice(a+1),e[o]=r)}),e}cfiFromRange(s){return new Ys(s,this.cfiBase).toString()}cfiFromElement(s){return new Ys(s,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class yd{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new At,this.hooks.content=new At,this.hooks.content.register(D9),this.hooks.content.register(id),this.hooks.content.register(pd),this.epubcfi=new Ys,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(s,e,t){this.items=s.spine,this.manifest=s.manifest,this.spineNodeIndex=s.spineNodeIndex,this.baseUrl=s.baseUrl||s.basePath||"",this.length=this.items.length,this.items.forEach((n,a)=>{var o=this.manifest[n.idref],r;n.index=a,n.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,n.index,n.id),n.href&&(n.url=e(n.href,!0),n.canonical=t(n.href)),o&&(n.href=o.href,n.url=e(n.href,!0),n.canonical=t(n.href),o.properties.length&&n.properties.push.apply(n.properties,o.properties)),n.linear==="yes"?(n.prev=(function(){let i=n.index;for(;i>0;){let p=this.get(i-1);if(p&&p.linear)return p;i-=1}}).bind(this),n.next=(function(){let i=n.index;for(;i<this.spineItems.length-1;){let p=this.get(i+1);if(p&&p.linear)return p;i+=1}}).bind(this)):(n.prev=function(){},n.next=function(){}),r=new ud(n,this.hooks),this.append(r)}),this.loaded=!0}get(s){var e=0;if(typeof s>"u")for(;e<this.spineItems.length;){let t=this.spineItems[e];if(t&&t.linear)break;e+=1}else this.epubcfi.isCfiString(s)?e=new Ys(s).spinePos:typeof s=="number"||isNaN(s)===!1?e=s:typeof s=="string"&&s.indexOf("#")===0?e=this.spineById[s.substring(1)]:typeof s=="string"&&(s=s.split("#")[0],e=this.spineByHref[s]||this.spineByHref[encodeURI(s)]);return this.spineItems[e]||null}append(s){var e=this.spineItems.length;return s.index=e,this.spineItems.push(s),this.spineByHref[decodeURI(s.href)]=e,this.spineByHref[encodeURI(s.href)]=e,this.spineByHref[s.href]=e,this.spineById[s.idref]=e,e}prepend(s){return this.spineByHref[s.href]=0,this.spineById[s.idref]=0,this.spineItems.forEach(function(e,t){e.index=t}),0}remove(s){var e=this.spineItems.indexOf(s);if(e>-1)return delete this.spineByHref[s.href],delete this.spineById[s.idref],this.spineItems.splice(e,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let s=0;do{let e=this.get(s);if(e&&e.linear)return e;s+=1}while(s<this.spineItems.length)}last(){let s=this.spineItems.length-1;do{let e=this.get(s);if(e&&e.linear)return e;s-=1}while(s>=0)}destroy(){this.each(s=>s.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class Ai{constructor(s){this._q=[],this.context=s,this.tick=hi,this.running=!1,this.paused=!1}enqueue(){var s,e,t,n=[].shift.call(arguments),a=arguments;if(!n)throw new Error("No Task Provided");return typeof n=="function"?(s=new Gs,e=s.promise,t={task:n,args:a,deferred:s,promise:e}):t={promise:n},this._q.push(t),this.paused==!1&&!this.running&&this.run(),t.promise}dequeue(){var s,e,t;if(this._q.length&&!this.paused){if(s=this._q.shift(),e=s.task,e)return t=e.apply(this.context,s.args),t&&typeof t.then=="function"?t.then((function(){s.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){s.deferred.reject.apply(this.context,arguments)}).bind(this)):(s.deferred.resolve.apply(this.context,t),s.promise);if(s.promise)return s.promise}else return s=new Gs,s.deferred.resolve(),s.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new Gs),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const yr="0.3",jo=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],Cs={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class m9{constructor(s,e,t){this.spine=s,this.request=e,this.pause=t||100,this.q=new Ai(this),this.epubcfi=new Ys,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(s){return s&&(this.break=s),this.q.pause(),this.spine.each((function(e){e.linear&&this.q.enqueue(this.process.bind(this),e)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(s){return s.load(this.request).then((function(e){var t=new Gs,n=this.parse(e,s.cfiBase);return this._locations=this._locations.concat(n),s.unload(),this.processingTimeout=setTimeout(()=>t.resolve(n),this.pause),t.promise}).bind(this))}parse(s,e,t){var n=[],a,o=s.ownerDocument,r=ye(o,"body"),i=0,p,c=t||this.break,u=function(f){var h=f.length,g,m=0;if(f.textContent.trim().length===0)return!1;for(i==0&&(a=this.createRange(),a.startContainer=f,a.startOffset=0),g=c-i,g>h&&(i+=h,m=h);m<h;)if(g=c-i,i===0&&(m+=1,a=this.createRange(),a.startContainer=f,a.startOffset=m),m+g>=h)i+=h-m,m=h;else{m+=g,a.endContainer=f,a.endOffset=m;let d=new Ys(a,e).toString();n.push(d),i=0}p=f};if(tr(r,u.bind(this)),a&&a.startContainer&&p){a.endContainer=p,a.endOffset=p.length;let f=new Ys(a,e).toString();n.push(f),i=0}return n}generateFromWords(s,e,t){var n=s?new Ys(s):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(a){a.linear&&(n?a.index>=n.spinePos&&this.q.enqueue(this.processWords.bind(this),a,e,n,t):this.q.enqueue(this.processWords.bind(this),a,e,n,t))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(s,e,t,n){return n&&this._locationsWords.length>=n?Promise.resolve():s.load(this.request).then((function(a){var o=new Gs,r=this.parseWords(a,s,e,t),i=n-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(r.length>=n?r.slice(0,i):r),s.unload(),this.processingTimeout=setTimeout(()=>o.resolve(r),this.pause),o.promise}).bind(this))}countWords(s){return s=s.replace(/(^\s*)|(\s*$)/gi,""),s=s.replace(/[ ]{2,}/gi," "),s=s.replace(/\n /,`
`),s.split(" ").length}parseWords(s,e,t,n){var a=e.cfiBase,o=[],r=s.ownerDocument,i=ye(r,"body"),p=t,c=n?n.spinePos!==e.index:!0,u;n&&e.index===n.spinePos&&(u=n.findNode(n.range?n.path.steps.concat(n.start.steps):n.path.steps,s.ownerDocument));var f=function(h){if(!c)if(h===u)c=!0;else return!1;if(h.textContent.length<10&&h.textContent.trim().length===0)return!1;var g=this.countWords(h.textContent),m,d=0;if(g===0)return!1;for(m=p-this._wordCounter,m>g&&(this._wordCounter+=g,d=g);d<g;)if(m=p-this._wordCounter,d+m>=g)this._wordCounter+=g-d,d=g;else{d+=m;let v=new Ys(h,a);o.push({cfi:v.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return tr(i,f.bind(this)),o}locationFromCfi(s){let e;return Ys.prototype.isCfiString(s)&&(s=new Ys(s)),this._locations.length===0?-1:(e=cl(s,this._locations,this.epubcfi.compare),e>this.total?this.total:e)}percentageFromCfi(s){if(this._locations.length===0)return null;var e=this.locationFromCfi(s);return this.percentageFromLocation(e)}percentageFromLocation(s){return!s||!this.total?0:s/this.total}cfiFromLocation(s){var e=-1;return typeof s!="number"&&(s=parseInt(s)),s>=0&&s<this._locations.length&&(e=this._locations[s]),e}cfiFromPercentage(s){let e;if(s>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),s>=1){let t=new Ys(this._locations[this.total]);return t.collapse(),t.toString()}return e=Math.ceil(this.total*s),this.cfiFromLocation(e)}load(s){return typeof s=="string"?this._locations=JSON.parse(s):this._locations=s,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(s){var e;if(typeof s=="string")this._currentCfi=s;else if(typeof s=="number")this._current=s;else return;this._locations.length!==0&&(typeof s=="string"?(e=this.locationFromCfi(s),this._current=e):e=s,this.emit(Cs.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(e)}))}get currentLocation(){return this._current}set currentLocation(s){this.setCurrent(s)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}xt(m9.prototype);class dd{constructor(s){this.packagePath="",this.directory="",this.encoding="",s&&this.parse(s)}parse(s){var e;if(!s)throw new Error("Container File Not Found");if(e=ye(s,"rootfile"),!e)throw new Error("No RootFile Found");this.packagePath=e.getAttribute("full-path"),this.directory=gn.dirname(this.packagePath),this.encoding=s.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class Zp{constructor(s){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},s&&this.parse(s)}parse(s){var e,t,n;if(!s)throw new Error("Package File Not Found");if(e=ye(s,"metadata"),!e)throw new Error("No Metadata Found");if(t=ye(s,"manifest"),!t)throw new Error("No Manifest Found");if(n=ye(s,"spine"),!n)throw new Error("No Spine Found");return this.manifest=this.parseManifest(t),this.navPath=this.findNavPath(t),this.ncxPath=this.findNcxPath(t,n),this.coverPath=this.findCoverPath(s),this.spineNodeIndex=u9(n),this.spine=this.parseSpine(n,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(s),this.metadata=this.parseMetadata(e),this.metadata.direction=n.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(s){var e={};return e.title=this.getElementText(s,"title"),e.creator=this.getElementText(s,"creator"),e.description=this.getElementText(s,"description"),e.pubdate=this.getElementText(s,"date"),e.publisher=this.getElementText(s,"publisher"),e.identifier=this.getElementText(s,"identifier"),e.language=this.getElementText(s,"language"),e.rights=this.getElementText(s,"rights"),e.modified_date=this.getPropertyText(s,"dcterms:modified"),e.layout=this.getPropertyText(s,"rendition:layout"),e.orientation=this.getPropertyText(s,"rendition:orientation"),e.flow=this.getPropertyText(s,"rendition:flow"),e.viewport=this.getPropertyText(s,"rendition:viewport"),e.media_active_class=this.getPropertyText(s,"media:active-class"),e.spread=this.getPropertyText(s,"rendition:spread"),e}parseManifest(s){var e={},t=tn(s,"item"),n=Array.prototype.slice.call(t);return n.forEach(function(a){var o=a.getAttribute("id"),r=a.getAttribute("href")||"",i=a.getAttribute("media-type")||"",p=a.getAttribute("media-overlay")||"",c=a.getAttribute("properties")||"";e[o]={href:r,type:i,overlay:p,properties:c.length?c.split(" "):[]}}),e}parseSpine(s,e){var t=[],n=tn(s,"itemref"),a=Array.prototype.slice.call(n);return a.forEach(function(o,r){var i=o.getAttribute("idref"),p=o.getAttribute("properties")||"",c=p.length?p.split(" "):[],u={id:o.getAttribute("id"),idref:i,linear:o.getAttribute("linear")||"yes",properties:c,index:r};t.push(u)}),t}findUniqueIdentifier(s){var e=s.documentElement.getAttribute("unique-identifier");if(!e)return"";var t=s.getElementById(e);return t&&t.localName==="identifier"&&t.namespaceURI==="http://purl.org/dc/elements/1.1/"&&t.childNodes.length>0?t.childNodes[0].nodeValue.trim():""}findNavPath(s){var e=nl(s,"item",{properties:"nav"});return e?e.getAttribute("href"):!1}findNcxPath(s,e){var t=nl(s,"item",{"media-type":"application/x-dtbncx+xml"}),n;return t||(n=e.getAttribute("toc"),n&&(t=s.querySelector(`#${n}`))),t?t.getAttribute("href"):!1}findCoverPath(s){var e=ye(s,"package");e.getAttribute("version");var t=nl(s,"item",{properties:"cover-image"});if(t)return t.getAttribute("href");var n=nl(s,"meta",{name:"cover"});if(n){var a=n.getAttribute("content"),o=s.getElementById(a);return o?o.getAttribute("href"):""}else return!1}getElementText(s,e){var t=s.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",e),n;return!t||t.length===0?"":(n=t[0],n.childNodes.length?n.childNodes[0].nodeValue:"")}getPropertyText(s,e){var t=nl(s,"meta",{property:e});return t&&t.childNodes.length?t.childNodes[0].nodeValue:""}load(s){this.metadata=s.metadata;let e=s.readingOrder||s.spine;return this.spine=e.map((t,n)=>(t.index=n,t.linear=t.linear||"yes",t)),s.resources.forEach((t,n)=>{this.manifest[n]=t,t.rel&&t.rel[0]==="cover"&&(this.coverPath=t.href)}),this.spineNodeIndex=0,this.toc=s.toc.map((t,n)=>(t.label=t.title,t)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class Hr{constructor(s){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,s&&this.parse(s)}parse(s){let e=s.nodeType,t,n;e&&(t=ye(s,"html"),n=ye(s,"ncx")),e?t?(this.toc=this.parseNav(s),this.landmarks=this.parseLandmarks(s)):n&&(this.toc=this.parseNcx(s)):this.toc=this.load(s),this.length=0,this.unpack(this.toc)}unpack(s){for(var e,t=0;t<s.length;t++)e=s[t],e.href&&(this.tocByHref[e.href]=t),e.id&&(this.tocById[e.id]=t),this.length++,e.subitems.length&&this.unpack(e.subitems)}get(s){var e;return s?(s.indexOf("#")===0?e=this.tocById[s.substring(1)]:s in this.tocByHref&&(e=this.tocByHref[s]),this.getByIndex(s,e,this.toc)):this.toc}getByIndex(s,e,t){if(t.length===0)return;const n=t[e];if(n&&(s===n.id||s===n.href))return n;{let a;for(let o=0;o<t.length&&(a=this.getByIndex(s,e,t[o].subitems),!a);++o);return a}}landmark(s){var e;return s?(e=this.landmarksByType[s],this.landmarks[e]):this.landmarks}parseNav(s){var e=nr(s,"nav","toc"),t=[];if(!e)return t;let n=al(e,"ol",!0);return n&&(t=this.parseNavList(n)),t}parseNavList(s,e){const t=[];if(!s||!s.children)return t;for(let n=0;n<s.children.length;n++){const a=this.navItem(s.children[n],e);a&&t.push(a)}return t}navItem(s,e){let t=s.getAttribute("id")||void 0,n=al(s,"a",!0)||al(s,"span",!0);if(!n)return;let a=n.getAttribute("href")||"";t||(t=a);let o=n.textContent||"",r=[],i=al(s,"ol",!0);return i&&(r=this.parseNavList(i,t)),{id:t,href:a,label:o,subitems:r,parent:e}}parseLandmarks(s){var e=nr(s,"nav","landmarks"),t=e?tn(e,"li"):[],n=t.length,a,o=[],r;if(!t||n===0)return o;for(a=0;a<n;++a)r=this.landmarkItem(t[a]),r&&(o.push(r),this.landmarksByType[r.type]=a);return o}landmarkItem(s){let e=al(s,"a",!0);if(!e)return;let t=e.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,n=e.getAttribute("href")||"",a=e.textContent||"";return{href:n,label:a,type:t}}parseNcx(s){var e=tn(s,"navPoint"),t=e.length,n,a={},o=[],r,i;if(!e||t===0)return o;for(n=0;n<t;++n)r=this.ncxItem(e[n]),a[r.id]=r,r.parent?(i=a[r.parent],i.subitems.push(r)):o.push(r);return o}ncxItem(s){var e=s.getAttribute("id")||!1,t=ye(s,"content"),n=t.getAttribute("src"),a=ye(s,"navLabel"),o=a.textContent?a.textContent:"",r=[],i=s.parentNode,p;return i&&(i.nodeName==="navPoint"||i.nodeName.split(":").slice(-1)[0]==="navPoint")&&(p=i.getAttribute("id")),{id:e,href:n,label:o,subitems:r,parent:p}}load(s){return s.map(e=>(e.label=e.title,e.subitems=e.children?this.load(e.children):[],e))}forEach(s){return this.toc.forEach(s)}}var gl={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},fd=function(){var l,s,e,t,n={};for(l in gl)if(gl.hasOwnProperty(l)){for(s in gl[l])if(gl[l].hasOwnProperty(s))if(e=gl[l][s],typeof e=="string")n[e]=l+"/"+s;else for(t=0;t<e.length;t++)n[e[t]]=l+"/"+s}return n}(),hd="text/plain";function vd(l){return l&&fd[l.split(".").pop().toLowerCase()]||hd}const ol={lookup:vd};class Ed{constructor(s,e){this.settings={replacements:e&&e.replacements||"base64",archive:e&&e.archive,resolver:e&&e.resolver,request:e&&e.request},this.process(s)}process(s){this.manifest=s,this.resources=Object.keys(s).map(function(e){return s[e]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(s){if(s.type==="application/xhtml+xml"||s.type==="text/html")return!0}),this.assets=this.resources.filter(function(s){if(s.type!=="application/xhtml+xml"&&s.type!=="text/html")return!0}),this.css=this.resources.filter(function(s){if(s.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(s){return s.href}).bind(this)),this.cssUrls=this.css.map(function(s){return s.href})}createUrl(s){var e=new Et(s),t=ol.lookup(e.filename);return this.settings.archive?this.settings.archive.createUrl(s,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(s,"blob").then(n=>v9(n)).then(n=>Qr(n,t)):this.settings.request(s,"blob").then(n=>er(n,t))}replacements(){if(this.settings.replacements==="none")return new Promise((function(e){e(this.urls)}).bind(this));var s=this.urls.map(e=>{var t=this.settings.resolver(e);return this.createUrl(t).catch(n=>(console.error(n),null))});return Promise.all(s).then(e=>(this.replacementUrls=e.filter(t=>typeof t=="string"),e))}replaceCss(s,e){var t=[];return s=s||this.settings.archive,e=e||this.settings.resolver,this.cssUrls.forEach((function(n){var a=this.createCssFile(n,s,e).then((function(o){var r=this.urls.indexOf(n);r>-1&&(this.replacementUrls[r]=o)}).bind(this));t.push(a)}).bind(this)),Promise.all(t)}createCssFile(s){var e;if(gn.isAbsolute(s))return new Promise(function(o){o()});var t=this.settings.resolver(s),n;this.settings.archive?n=this.settings.archive.getText(t):n=this.settings.request(t,"text");var a=this.urls.map(o=>{var r=this.settings.resolver(o),i=new nn(t).relative(r);return i});return n?n.then(o=>(o=Wp(o,a,this.replacementUrls),this.settings.replacements==="base64"?e=Qr(o,"text/css"):e=er(o,"text/css"),e),o=>new Promise(function(r){r()})):new Promise(function(o){o()})}relativeTo(s,e){return e=e||this.settings.resolver,this.urls.map((function(t){var n=e(t),a=new nn(s).relative(n);return a}).bind(this))}get(s){var e=this.urls.indexOf(s);if(e!==-1)return this.replacementUrls.length?new Promise((function(t,n){t(this.replacementUrls[e])}).bind(this)):this.createUrl(s)}substitute(s,e){var t;return e?t=this.relativeTo(e):t=this.urls,Wp(s,t,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class Vr{constructor(s){this.pages=[],this.locations=[],this.epubcfi=new Ys,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,s&&(this.pageList=this.parse(s)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(s){var e=ye(s,"html"),t=ye(s,"ncx");if(e)return this.parseNav(s);if(t)return this.parseNcx(s)}parseNav(s){var e=nr(s,"nav","page-list"),t=e?tn(e,"li"):[],n=t.length,a,o=[],r;if(!t||n===0)return o;for(a=0;a<n;++a)r=this.item(t[a]),o.push(r);return o}parseNcx(s){var e=[],t=0,n,a,o,r=0;if(a=ye(s,"pageList"),!a||(o=tn(a,"pageTarget"),r=o.length,!o||o.length===0))return e;for(t=0;t<r;++t)n=this.ncxItem(o[t]),e.push(n);return e}ncxItem(s){var e=ye(s,"navLabel"),t=ye(e,"text"),n=t.textContent,a=ye(s,"content"),o=a.getAttribute("src"),r=parseInt(n,10);return{href:o,page:r}}item(s){var e=ye(s,"a"),t=e.getAttribute("href")||"",n=e.textContent||"",a=parseInt(n),o=t.indexOf("epubcfi"),r,i,p;return o!=-1?(r=t.split("#"),i=r[0],p=r.length>1?r[1]:!1,{cfi:p,href:t,packageUrl:i,page:a}):{href:t,page:a}}process(s){s.forEach(function(e){this.pages.push(e.page),e.cfi&&this.locations.push(e.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(s){var e=-1;if(this.locations.length===0)return-1;var t=Jo(s,this.locations,this.epubcfi.compare);return t!=-1?e=this.pages[t]:(t=cl(s,this.locations,this.epubcfi.compare),e=t-1>=0?this.pages[t-1]:this.pages[0],e!==void 0||(e=-1)),e}cfiFromPage(s){var e=-1;typeof s!="number"&&(s=parseInt(s));var t=this.pages.indexOf(s);return t!=-1&&(e=this.locations[t]),e}pageFromPercentage(s){var e=Math.round(this.totalPages*s);return e}percentageFromPage(s){var e=(s-this.firstPage)/this.totalPages;return Math.round(e*1e3)/1e3}percentageFromCfi(s){var e=this.pageFromCfi(s),t=this.percentageFromPage(e);return t}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class g9{constructor(s){this.settings=s,this.name=s.layout||"reflowable",this._spread=s.spread!=="none",this._minSpreadWidth=s.minSpreadWidth||800,this._evenSpreads=s.evenSpreads||!1,s.flow==="scrolled"||s.flow==="scrolled-continuous"||s.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(s){return typeof s<"u"&&(s==="scrolled"||s==="scrolled-continuous"||s==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(s,e){return s&&(this._spread=s!=="none",this.update({spread:this._spread})),e>=0&&(this._minSpreadWidth=e),this._spread}calculate(s,e,t){var n=1,a=t||0,o=s,r=e,i=Math.floor(o/12),p,c,u,f;this._spread&&o>=this._minSpreadWidth?n=2:n=1,this.name==="reflowable"&&this._flow==="paginated"&&!(t>=0)&&(a=i%2===0?i:i-1),this.name==="pre-paginated"&&(a=0),n>1?(p=o/n-a,u=p+a):(p=o,u=o),this.name==="pre-paginated"&&n>1&&(o=p),c=p*n+a,f=o,this.width=o,this.height=r,this.spreadWidth=c,this.pageWidth=u,this.delta=f,this.columnWidth=p,this.gap=a,this.divisor=n,this.update({width:o,height:r,spreadWidth:c,pageWidth:u,delta:f,columnWidth:p,gap:a,divisor:n})}format(s,e,t){var n;return this.name==="pre-paginated"?n=s.fit(this.columnWidth,this.height,e):this._flow==="paginated"?n=s.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):t&&t==="horizontal"?n=s.size(null,this.height):n=s.size(this.width,null),n}count(s,e){let t,n;return this.name==="pre-paginated"?(t=1,n=1):this._flow==="paginated"?(e=e||this.delta,t=Math.ceil(s/e),n=t*this.divisor):(e=e||this.height,t=Math.ceil(s/e),n=t),{spreads:t,pages:n}}update(s){if(Object.keys(s).forEach(e=>{this.props[e]===s[e]&&delete s[e]}),Object.keys(s).length>0){let e=Ue(this.props,s);this.emit(Cs.LAYOUT.UPDATED,e,s)}}}xt(g9.prototype);class Ad{constructor(s){this.rendition=s,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(s){if(s){if(typeof s=="string")return this.registerUrl("default",s);if(typeof s=="object")return this.registerRules("default",s)}}registerThemes(s){for(var e in s)s.hasOwnProperty(e)&&(typeof s[e]=="string"?this.registerUrl(e,s[e]):this.registerRules(e,s[e]))}registerCss(s,e){this._themes[s]={serialized:e},(this._injected[s]||s=="default")&&this.update(s)}registerUrl(s,e){var t=new Et(e);this._themes[s]={url:t.toString()},(this._injected[s]||s=="default")&&this.update(s)}registerRules(s,e){this._themes[s]={rules:e},(this._injected[s]||s=="default")&&this.update(s)}select(s){var e=this._current,t;this._current=s,this.update(s),t=this.rendition.getContents(),t.forEach(n=>{n.removeClass(e),n.addClass(s)})}update(s){var e=this.rendition.getContents();e.forEach(t=>{this.add(s,t)})}inject(s){var e=[],t=this._themes,n;for(var a in t)t.hasOwnProperty(a)&&(a===this._current||a==="default")&&(n=t[a],(n.rules&&Object.keys(n.rules).length>0||n.url&&e.indexOf(n.url)===-1)&&this.add(a,s),this._injected.push(a));this._current!="default"&&s.addClass(this._current)}add(s,e){var t=this._themes[s];!t||!e||(t.url?e.addStylesheet(t.url):t.serialized?(e.addStylesheetCss(t.serialized,s),t.injected=!0):t.rules&&(e.addStylesheetRules(t.rules,s),t.injected=!0))}override(s,e,t){var n=this.rendition.getContents();this._overrides[s]={value:e,priority:t===!0},n.forEach(a=>{a.css(s,this._overrides[s].value,this._overrides[s].priority)})}removeOverride(s){var e=this.rendition.getContents();delete this._overrides[s],e.forEach(t=>{t.css(s)})}overrides(s){var e=this._overrides;for(var t in e)e.hasOwnProperty(t)&&s.css(t,e[t].value,e[t].priority)}fontSize(s){this.override("font-size",s)}font(s){this.override("font-family",s,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class ar{constructor(s,e,t,n=!1){this.layout=s,this.horizontal=t==="horizontal",this.direction=e||"ltr",this._dev=n}section(s){var e=this.findRanges(s),t=this.rangeListToCfiList(s.section.cfiBase,e);return t}page(s,e,t,n){var a=s&&s.document?s.document.body:!1,o;if(a){if(o=this.rangePairToCfiPair(e,{start:this.findStart(a,t,n),end:this.findEnd(a,t,n)}),this._dev===!0){let r=s.document,i=new Ys(o.start).toRange(r),p=new Ys(o.end).toRange(r),c=r.defaultView.getSelection(),u=r.createRange();c.removeAllRanges(),u.setStart(i.startContainer,i.startOffset),u.setEnd(p.endContainer,p.endOffset),c.addRange(u)}return o}}walk(s,e){if(!(s&&s.nodeType===Node.TEXT_NODE)){var t={acceptNode:function(i){return i.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},n=t.acceptNode;n.acceptNode=t.acceptNode;for(var a=document.createTreeWalker(s,NodeFilter.SHOW_TEXT,n,!1),o,r;(o=a.nextNode())&&(r=e(o),!r););return r}}findRanges(s){for(var e=[],t=s.contents.scrollWidth(),n=Math.ceil(t/this.layout.spreadWidth),a=n*this.layout.divisor,o=this.layout.columnWidth,r=this.layout.gap,i,p,c=0;c<a.pages;c++)i=(o+r)*c,p=o*(c+1)+r*c,e.push({start:this.findStart(s.document.body,i,p),end:this.findEnd(s.document.body,i,p)});return e}findStart(s,e,t){for(var n=[s],a,o,r=s;n.length;)if(a=n.shift(),o=this.walk(a,i=>{var p,c,u,f,h;if(h=Jr(i),this.horizontal&&this.direction==="ltr"){if(p=this.horizontal?h.left:h.top,c=this.horizontal?h.right:h.bottom,p>=e&&p<=t)return i;if(c>e)return i;r=i,n.push(i)}else if(this.horizontal&&this.direction==="rtl"){if(p=h.left,c=h.right,c<=t&&c>=e)return i;if(p<t)return i;r=i,n.push(i)}else{if(u=h.top,f=h.bottom,u>=e&&u<=t)return i;if(f>e)return i;r=i,n.push(i)}}),o)return this.findTextStartRange(o,e,t);return this.findTextStartRange(r,e,t)}findEnd(s,e,t){for(var n=[s],a,o=s,r;n.length;)if(a=n.shift(),r=this.walk(a,i=>{var p,c,u,f,h;if(h=Jr(i),this.horizontal&&this.direction==="ltr"){if(p=Math.round(h.left),c=Math.round(h.right),p>t&&o)return o;if(c>t)return i;o=i,n.push(i)}else if(this.horizontal&&this.direction==="rtl"){if(p=Math.round(this.horizontal?h.left:h.top),c=Math.round(this.horizontal?h.right:h.bottom),c<e&&o)return o;if(p<e)return i;o=i,n.push(i)}else{if(u=Math.round(h.top),f=Math.round(h.bottom),u>t&&o)return o;if(f>t)return i;o=i,n.push(i)}}),r)return this.findTextEndRange(r,e,t);return this.findTextEndRange(o,e,t)}findTextStartRange(s,e,t){for(var n=this.splitTextNodeIntoRanges(s),a,o,r,i,p,c=0;c<n.length;c++)if(a=n[c],o=a.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(r=o.left,r>=e)return a}else if(this.horizontal&&this.direction==="rtl"){if(p=o.right,p<=t)return a}else if(i=o.top,i>=e)return a;return n[0]}findTextEndRange(s,e,t){for(var n=this.splitTextNodeIntoRanges(s),a,o,r,i,p,c,u,f=0;f<n.length;f++){if(o=n[f],r=o.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(i=r.left,p=r.right,i>t&&a)return a;if(p>t)return o}else if(this.horizontal&&this.direction==="rtl"){if(i=r.left,p=r.right,p<e&&a)return a;if(i<e)return o}else{if(c=r.top,u=r.bottom,c>t&&a)return a;if(u>t)return o}a=o}return n[n.length-1]}splitTextNodeIntoRanges(s,e){var t=[],n=s.textContent||"",a=n.trim(),o,r=s.ownerDocument,i=e||" ",p=a.indexOf(i);if(p===-1||s.nodeType!=Node.TEXT_NODE)return o=r.createRange(),o.selectNodeContents(s),[o];for(o=r.createRange(),o.setStart(s,0),o.setEnd(s,p),t.push(o),o=!1;p!=-1;)p=a.indexOf(i,p+1),p>0&&(o&&(o.setEnd(s,p),t.push(o)),o=r.createRange(),o.setStart(s,p+1));return o&&(o.setEnd(s,a.length),t.push(o)),t}rangePairToCfiPair(s,e){var t=e.start,n=e.end;t.collapse(!0),n.collapse(!1);let a=new Ys(t,s).toString(),o=new Ys(n,s).toString();return{start:a,end:o}}rangeListToCfiList(s,e){for(var t=[],n,a=0;a<e.length;a++)n=this.rangePairToCfiPair(s,e[a]),t.push(n);return t}axis(s){return s&&(this.horizontal=s==="horizontal"),this.horizontal}}const C9=typeof navigator<"u",Dd=C9&&/Chrome/.test(navigator.userAgent),Gp=C9&&!Dd&&/AppleWebKit/.test(navigator.userAgent),md=1;class Di{constructor(s,e,t,n){this.epubcfi=new Ys,this.document=s,this.documentElement=this.document.documentElement,this.content=e||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=n||0,this.cfiBase=t||"",this.epubReadingSystem("epub.js",yr),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return jo}width(s){var e=this.content;return s&&we(s)&&(s=s+"px"),s&&(e.style.width=s),parseInt(this.window.getComputedStyle(e).width)}height(s){var e=this.content;return s&&we(s)&&(s=s+"px"),s&&(e.style.height=s),parseInt(this.window.getComputedStyle(e).height)}contentWidth(s){var e=this.content||this.document.body;return s&&we(s)&&(s=s+"px"),s&&(e.style.width=s),parseInt(this.window.getComputedStyle(e).width)}contentHeight(s){var e=this.content||this.document.body;return s&&we(s)&&(s=s+"px"),s&&(e.style.height=s),parseInt(this.window.getComputedStyle(e).height)}textWidth(){let s,e,t=this.document.createRange(),n=this.content||this.document.body,a=Qo(n);return t.selectNodeContents(n),s=t.getBoundingClientRect(),e=s.width,a&&a.width&&(e+=a.width),Math.round(e)}textHeight(){let s,e,t=this.document.createRange(),n=this.content||this.document.body;return t.selectNodeContents(n),s=t.getBoundingClientRect(),e=s.bottom,Math.round(e)}scrollWidth(){var s=this.documentElement.scrollWidth;return s}scrollHeight(){var s=this.documentElement.scrollHeight;return s}overflow(s){return s&&(this.documentElement.style.overflow=s),this.window.getComputedStyle(this.documentElement).overflow}overflowX(s){return s&&(this.documentElement.style.overflowX=s),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(s){return s&&(this.documentElement.style.overflowY=s),this.window.getComputedStyle(this.documentElement).overflowY}css(s,e,t){var n=this.content||this.document.body;return e?n.style.setProperty(s,e,t?"important":""):n.style.removeProperty(s),this.window.getComputedStyle(n)[s]}viewport(s){var e=this.document.querySelector("meta[name='viewport']"),t={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},n=[],a={};if(e&&e.hasAttribute("content")){let o=e.getAttribute("content"),r=o.match(/width\s*=\s*([^,]*)/),i=o.match(/height\s*=\s*([^,]*)/),p=o.match(/initial-scale\s*=\s*([^,]*)/),c=o.match(/minimum-scale\s*=\s*([^,]*)/),u=o.match(/maximum-scale\s*=\s*([^,]*)/),f=o.match(/user-scalable\s*=\s*([^,]*)/);r&&r.length&&typeof r[1]<"u"&&(t.width=r[1]),i&&i.length&&typeof i[1]<"u"&&(t.height=i[1]),p&&p.length&&typeof p[1]<"u"&&(t.scale=p[1]),c&&c.length&&typeof c[1]<"u"&&(t.minimum=c[1]),u&&u.length&&typeof u[1]<"u"&&(t.maximum=u[1]),f&&f.length&&typeof f[1]<"u"&&(t.scalable=f[1])}return a=c9(s||{},t),s&&(a.width&&n.push("width="+a.width),a.height&&n.push("height="+a.height),a.scale&&n.push("initial-scale="+a.scale),a.scalable==="no"?(n.push("minimum-scale="+a.scale),n.push("maximum-scale="+a.scale),n.push("user-scalable="+a.scalable)):(a.scalable&&n.push("user-scalable="+a.scalable),a.minimum&&n.push("minimum-scale="+a.minimum),a.maximum&&n.push("minimum-scale="+a.maximum)),e||(e=this.document.createElement("meta"),e.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(e)),e.setAttribute("content",n.join(", ")),this.window.scrollTo(0,0)),a}expand(){this.emit(Cs.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let s=this.textWidth(),e=this.textHeight();(s!=this._size.width||e!=this._size.height)&&(this._size={width:s,height:e},this.onResize&&this.onResize(this._size),this.emit(Cs.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let s=this.content;s.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",s.style.transitionDuration="0.001ms",s.style.transitionTimingFunction="linear",s.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var s=this.document.styleSheets,e=(function(r){r.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),t=0;t<s.length;t+=1){var n;try{n=s[t].cssRules}catch{return}if(!n)return;for(var a=0;a<n.length;a+=1)if(n[a].media){var o=this.window.matchMedia(n[a].media.mediaText);o.addListener(e)}}}resizeObservers(){this.observer=new ResizeObserver(s=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(e=>{this.resizeCheck()});let s={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,s)}imageLoadListeners(){for(var s=this.document.querySelectorAll("img"),e,t=0;t<s.length;t++)e=s[t],typeof e.naturalWidth<"u"&&e.naturalWidth===0&&(e.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(s,e){var t,n={left:0,top:0};if(!this.document)return n;if(this.epubcfi.isCfiString(s)){let a=new Ys(s).toRange(this.document,e);if(a){try{if(!a.endContainer||a.startContainer==a.endContainer&&a.startOffset==a.endOffset){let o=a.startContainer.textContent.indexOf(" ",a.startOffset);o==-1&&(o=a.startContainer.textContent.length),a.setEnd(a.startContainer,o)}}catch(o){console.error("setting end offset to start container length failed",o)}if(a.startContainer.nodeType===Node.ELEMENT_NODE)t=a.startContainer.getBoundingClientRect(),n.left=t.left,n.top=t.top;else if(Gp){let o=a.startContainer,r=new Range;try{o.nodeType===md?t=o.getBoundingClientRect():a.startOffset+2<o.length?(r.setStart(o,a.startOffset),r.setEnd(o,a.startOffset+2),t=r.getBoundingClientRect()):a.startOffset-2>0?(r.setStart(o,a.startOffset-2),r.setEnd(o,a.startOffset),t=r.getBoundingClientRect()):t=o.parentNode.getBoundingClientRect()}catch(i){console.error(i,i.stack)}}else t=a.getBoundingClientRect()}}else if(typeof s=="string"&&s.indexOf("#")>-1){let a=s.substring(s.indexOf("#")+1),o=this.document.getElementById(a);if(o)if(Gp){let r=new Range;r.selectNode(o),t=r.getBoundingClientRect()}else t=o.getBoundingClientRect()}return t&&(n.left=t.left,n.top=t.top),n}addStylesheet(s){return new Promise((function(e,t){var n,a=!1;if(!this.document){e(!1);return}if(n=this.document.querySelector("link[href='"+s+"']"),n){e(!0);return}n=this.document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.href=s,n.onload=n.onreadystatechange=function(){!a&&(!this.readyState||this.readyState=="complete")&&(a=!0,setTimeout(()=>{e(!0)},1))},this.document.head.appendChild(n)}).bind(this))}_getStylesheetNode(s){var e;return s="epubjs-inserted-css-"+(s||""),this.document?(e=this.document.getElementById(s),e||(e=this.document.createElement("style"),e.id=s,this.document.head.appendChild(e)),e):!1}addStylesheetCss(s,e){if(!this.document||!s)return!1;var t;return t=this._getStylesheetNode(e),t.innerHTML=s,!0}addStylesheetRules(s,e){var t;if(!(!this.document||!s||s.length===0))if(t=this._getStylesheetNode(e).sheet,Object.prototype.toString.call(s)==="[object Array]")for(var n=0,a=s.length;n<a;n++){var o=1,r=s[n],i=s[n][0],p="";Object.prototype.toString.call(r[1][0])==="[object Array]"&&(r=r[1],o=0);for(var c=r.length;o<c;o++){var u=r[o];p+=u[0]+":"+u[1]+(u[2]?" !important":"")+`;
`}t.insertRule(i+"{"+p+"}",t.cssRules.length)}else Object.keys(s).forEach(h=>{const g=s[h];if(Array.isArray(g))g.forEach(m=>{const v=Object.keys(m).map(A=>`${A}:${m[A]}`).join(";");t.insertRule(`${h}{${v}}`,t.cssRules.length)});else{const d=Object.keys(g).map(v=>`${v}:${g[v]}`).join(";");t.insertRule(`${h}{${d}}`,t.cssRules.length)}})}addScript(s){return new Promise((function(e,t){var n,a=!1;if(!this.document){e(!1);return}n=this.document.createElement("script"),n.type="text/javascript",n.async=!0,n.src=s,n.onload=n.onreadystatechange=function(){!a&&(!this.readyState||this.readyState=="complete")&&(a=!0,setTimeout(function(){e(!0)},1))},this.document.head.appendChild(n)}).bind(this))}addClass(s){var e;this.document&&(e=this.content||this.document.body,e&&e.classList.add(s))}removeClass(s){var e;this.document&&(e=this.content||this.document.body,e&&e.classList.remove(s))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),jo.forEach(function(s){this.document.addEventListener(s,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(jo.forEach(function(s){this.document.removeEventListener(s,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(s){this.emit(s.type,s)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(s){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var e=this.window.getSelection();this.triggerSelectedEvent(e)}).bind(this),250)}triggerSelectedEvent(s){var e,t;s&&s.rangeCount>0&&(e=s.getRangeAt(0),e.collapsed||(t=new Ys(e,this.cfiBase).toString(),this.emit(Cs.CONTENTS.SELECTED,t),this.emit(Cs.CONTENTS.SELECTED_RANGE,e)))}range(s,e){var t=new Ys(s);return t.toRange(this.document,e)}cfiFromRange(s,e){return new Ys(s,this.cfiBase,e).toString()}cfiFromNode(s,e){return new Ys(s,this.cfiBase,e).toString()}map(s){var e=new ar(s);return e.section()}size(s,e){var t={scale:1,scalable:"no"};this.layoutStyle("scrolling"),s>=0&&(this.width(s),t.width=s,this.css("padding","0 "+s/12+"px")),e>=0&&(this.height(e),t.height=e),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(t)}columns(s,e,t,n,a){let o=tl("column-axis"),r=tl("column-gap"),i=tl("column-width"),p=tl("column-fill"),u=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),a==="rtl"&&u==="horizontal"&&this.direction(a),this.width(s),this.height(e),this.viewport({width:s,height:e,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),u==="vertical"?(this.css("padding-top",n/2+"px",!0),this.css("padding-bottom",n/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(o,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",n/2+"px",!0),this.css("padding-right",n/2+"px",!0),this.css(o,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(p,"auto"),this.css(r,n+"px"),this.css(i,t+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(s,e,t){var n="scale("+s+")",a="";this.css("transform-origin","top left"),(e>=0||t>=0)&&(a=" translate("+(e||0)+"px, "+(t||0)+"px )"),this.css("transform",n+a)}fit(s,e,t){var n=this.viewport(),a=parseInt(n.width),o=parseInt(n.height),r=s/a,i=e/o,p=r<i?r:i;if(this.layoutStyle("paginated"),this.width(a),this.height(o),this.overflow("hidden"),this.scaler(p,0,0),this.css("background-size",a*p+"px "+o*p+"px"),this.css("background-color","transparent"),t&&t.properties.includes("page-spread-left")){var c=s-a*p;this.css("margin-left",c+"px")}}direction(s){this.documentElement&&(this.documentElement.style.direction=s)}mapPage(s,e,t,n,a){var o=new ar(e,a);return o.page(this,s,t,n)}linksHandler(){cd(this.content,s=>{this.emit(Cs.CONTENTS.LINK_CLICKED,s)})}writingMode(s){let e=tl("writing-mode");return s&&this.documentElement&&(this.documentElement.style[e]=s),this.window.getComputedStyle(this.documentElement)[e]||""}layoutStyle(s){return s&&(this._layoutStyle=s,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(s,e){return navigator.epubReadingSystem={name:s,version:e,layoutStyle:this.layoutStyle(),hasFeature:function(t){switch(t){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}xt(Di.prototype);class gd{constructor(s){this.rendition=s,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(s,e,t,n,a,o){let r=encodeURI(e+s),p=new Ys(e).spinePos,c=new b9({type:s,cfiRange:e,data:t,sectionIndex:p,cb:n,className:a,styles:o});return this._annotations[r]=c,p in this._annotationsBySectionIndex?this._annotationsBySectionIndex[p].push(r):this._annotationsBySectionIndex[p]=[r],this.rendition.views().forEach(f=>{c.sectionIndex===f.index&&c.attach(f)}),c}remove(s,e){let t=encodeURI(s+e);if(t in this._annotations){let n=this._annotations[t];if(e&&n.type!==e)return;this.rendition.views().forEach(o=>{this._removeFromAnnotationBySectionIndex(n.sectionIndex,t),n.sectionIndex===o.index&&n.detach(o)}),delete this._annotations[t]}}_removeFromAnnotationBySectionIndex(s,e){this._annotationsBySectionIndex[s]=this._annotationsAt(s).filter(t=>t!==e)}_annotationsAt(s){return this._annotationsBySectionIndex[s]}highlight(s,e,t,n,a){return this.add("highlight",s,e,t,n,a)}underline(s,e,t,n,a){return this.add("underline",s,e,t,n,a)}mark(s,e,t){return this.add("mark",s,e,t)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(s){let e=s.index;e in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[e].forEach(n=>{this._annotations[n].attach(s)})}clear(s){let e=s.index;e in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[e].forEach(n=>{this._annotations[n].detach(s)})}show(){}hide(){}}class b9{constructor({type:s,cfiRange:e,data:t,sectionIndex:n,cb:a,className:o,styles:r}){this.type=s,this.cfiRange=e,this.data=t,this.sectionIndex=n,this.mark=void 0,this.cb=a,this.className=o,this.styles=r}update(s){this.data=s}attach(s){let{cfiRange:e,data:t,type:n,mark:a,cb:o,className:r,styles:i}=this,p;return n==="highlight"?p=s.highlight(e,t,o,r,i):n==="underline"?p=s.underline(e,t,o,r,i):n==="mark"&&(p=s.mark(e,t,o)),this.mark=p,this.emit(Cs.ANNOTATION.ATTACH,p),p}detach(s){let{cfiRange:e,type:t}=this,n;return s&&(t==="highlight"?n=s.unhighlight(e):t==="underline"?n=s.ununderline(e):t==="mark"&&(n=s.unmark(e))),this.mark=void 0,this.emit(Cs.ANNOTATION.DETACH,n),n}text(){}}xt(b9.prototype);var Jt={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.createElement=B9;function B9(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}dr.default={createElement:B9};var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.proxyMouse=_9;Nl.clone=w9;Nl.default={proxyMouse:_9};function _9(l,s){function e(o){for(var r=s.length-1;r>=0;r--){var i=s[r],p=o.clientX,c=o.clientY;if(o.touches&&o.touches.length&&(p=o.touches[0].clientX,c=o.touches[0].clientY),!!Cd(i,l,p,c)){i.dispatchEvent(w9(o));break}}}if(l.nodeName==="iframe"||l.nodeName==="IFRAME")try{this.target=l.contentDocument}catch{this.target=l}else this.target=l;for(var t=["mouseup","mousedown","click","touchstart"],n=0;n<t.length;n++){var a=t[n];this.target.addEventListener(a,function(o){return e(o)},!1)}}function w9(l){var s=Object.assign({},l,{bubbles:!1});try{return new MouseEvent(l.type,s)}catch{var e=document.createEvent("MouseEvents");return e.initMouseEvent(l.type,!1,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget),e}}function Cd(l,s,e,t){var n=s.getBoundingClientRect();function a(c,u,f){var h=c.top-n.top,g=c.left-n.left,m=h+c.height,d=g+c.width;return h<=f&&g<=u&&m>f&&d>u}var o=l.getBoundingClientRect();if(!a(o,e,t))return!1;for(var r=l.getClientRects(),i=0,p=r.length;i<p;i++)if(a(r[i],e,t))return!0;return!1}var lr,mi;Object.defineProperty(Jt,"__esModule",{value:!0});var F9=Jt.Underline=mi=Jt.Highlight=Jt.Mark=lr=Jt.Pane=void 0,bd=function l(s,e,t){s===null&&(s=Function.prototype);var n=Object.getOwnPropertyDescriptor(s,e);if(n===void 0){var a=Object.getPrototypeOf(s);return a===null?void 0:l(a,e,t)}else{if("value"in n)return n.value;var o=n.get;return o===void 0?void 0:o.call(t)}},fr=function(){function l(s,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}return function(s,e,t){return e&&l(s.prototype,e),t&&l(s,t),s}}(),Bd=dr,xl=k9(Bd),_d=Nl,wd=k9(_d);function k9(l){return l&&l.__esModule?l:{default:l}}function x9(l,s){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:l}function T9(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);l.prototype=Object.create(s&&s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(l,s):l.__proto__=s)}function hr(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}lr=Jt.Pane=function(){function l(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;hr(this,l),this.target=s,this.element=xl.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),wd.default.proxyMouse(this.target,this.marks),this.container=e,this.container.appendChild(this.element),this.render()}return fr(l,[{key:"addMark",value:function(e){var t=xl.default.createElement("g");return this.element.appendChild(t),e.bind(t,this.container),this.marks.push(e),e.render(),e}},{key:"removeMark",value:function(e){var t=this.marks.indexOf(e);if(t!==-1){var n=e.unbind();this.element.removeChild(n),this.marks.splice(t,1)}}},{key:"render",value:function(){Td(this.element,xd(this.target,this.container));var e=!0,t=!1,n=void 0;try{for(var a=this.marks[Symbol.iterator](),o;!(e=(o=a.next()).done);e=!0){var r=o.value;r.render()}}catch(i){t=!0,n=i}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}}}]),l}();var Fd=Jt.Mark=function(){function l(){hr(this,l),this.element=null}return fr(l,[{key:"bind",value:function(e,t){this.element=e,this.container=t}},{key:"unbind",value:function(){var e=this.element;return this.element=null,e}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(e){this.element&&this.element.dispatchEvent(e)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var e=[],t=this.element.firstChild;t;)e.push(t.getBoundingClientRect()),t=t.nextSibling;return e}},{key:"filteredRanges",value:function(){var e=Array.from(this.range.getClientRects());return e.filter(function(t){for(var n=0;n<e.length;n++){if(e[n]===t)return!0;var a=Sd(e[n],t);if(a)return!1}return!0})}}]),l}(),kd=mi=Jt.Highlight=function(l){T9(s,l);function s(e,t,n,a){hr(this,s);var o=x9(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return o.range=e,o.className=t,o.data=n||{},o.attributes=a||{},o}return fr(s,[{key:"bind",value:function(t,n){bd(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"bind",this).call(this,t,n);for(var a in this.data)this.data.hasOwnProperty(a)&&(this.element.dataset[a]=this.data[a]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&this.element.setAttribute(a,this.attributes[a]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var t=this.element.ownerDocument.createDocumentFragment(),n=this.filteredRanges(),a=this.element.getBoundingClientRect(),o=this.container.getBoundingClientRect(),r=0,i=n.length;r<i;r++){var p=n[r],c=xl.default.createElement("rect");c.setAttribute("x",p.left-a.left+o.left),c.setAttribute("y",p.top-a.top+o.top),c.setAttribute("height",p.height),c.setAttribute("width",p.width),t.appendChild(c)}this.element.appendChild(t)}}]),s}(Fd);F9=Jt.Underline=function(l){T9(s,l);function s(e,t,n,a){return hr(this,s),x9(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t,n,a))}return fr(s,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var t=this.element.ownerDocument.createDocumentFragment(),n=this.filteredRanges(),a=this.element.getBoundingClientRect(),o=this.container.getBoundingClientRect(),r=0,i=n.length;r<i;r++){var p=n[r],c=xl.default.createElement("rect");c.setAttribute("x",p.left-a.left+o.left),c.setAttribute("y",p.top-a.top+o.top),c.setAttribute("height",p.height),c.setAttribute("width",p.width),c.setAttribute("fill","none");var u=xl.default.createElement("line");u.setAttribute("x1",p.left-a.left+o.left),u.setAttribute("x2",p.left-a.left+o.left+p.width),u.setAttribute("y1",p.top-a.top+o.top+p.height-1),u.setAttribute("y2",p.top-a.top+o.top+p.height-1),u.setAttribute("stroke-width",1),u.setAttribute("stroke","black"),u.setAttribute("stroke-linecap","square"),t.appendChild(c),t.appendChild(u)}this.element.appendChild(t)}}]),s}(kd);function xd(l,s){var e=s.getBoundingClientRect(),t=l.getBoundingClientRect();return{top:t.top-e.top,left:t.left-e.left,height:l.scrollHeight,width:l.scrollWidth}}function Td(l,s){l.style.setProperty("top",s.top+"px","important"),l.style.setProperty("left",s.left+"px","important"),l.style.setProperty("height",s.height+"px","important"),l.style.setProperty("width",s.width+"px","important")}function Sd(l,s){return s.right<=l.right&&s.left>=l.left&&s.top>=l.top&&s.bottom<=l.bottom}class S9{constructor(s,e){this.settings=Ue({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},e||{}),this.id="epubjs-view-"+ur(),this.section=s,this.index=s.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Ys,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(s){var e=document.createElement("div");return e.classList.add("epub-view"),e.style.height="0px",e.style.width="0px",e.style.overflow="hidden",e.style.position="relative",e.style.display="block",s&&s=="horizontal"?e.style.flex="none":e.style.flex="initial",e}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=Ho(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(s,e){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(s)),this.sectionRender.then((function(t){return this.load(t)}).bind(this)).then((function(){let t=this.contents.writingMode(),n;return this.settings.flow==="scrolled"?n=t.indexOf("vertical")===0?"horizontal":"vertical":n=t.indexOf("vertical")===0?"vertical":"horizontal",t.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(n),this.emit(Cs.VIEWS.AXIS,n),this.setWritingMode(t),this.emit(Cs.VIEWS.WRITING_MODE,t),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((a,o)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),a()})}).bind(this),(function(t){return this.emit(Cs.VIEWS.LOAD_ERROR,t),new Promise((n,a)=>{a(t)})}).bind(this)).then((function(){this.emit(Cs.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(s,e){var t=s||this.settings.width,n=e||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",t,n):this.settings.axis==="horizontal"?this.lock("height",t,n):this.lock("width",t,n),this.settings.width=t,this.settings.height=n}lock(s,e,t){var n=Qo(this.element),a;this.iframe?a=Qo(this.iframe):a={width:0,height:0},s=="width"&&we(e)&&(this.lockedWidth=e-n.width-a.width),s=="height"&&we(t)&&(this.lockedHeight=t-n.height-a.height),s==="both"&&we(e)&&we(t)&&(this.lockedWidth=e-n.width-a.width,this.lockedHeight=t-n.height-a.height),this.displayed&&this.iframe&&this.expand()}expand(s){var e=this.lockedWidth,t=this.lockedHeight,n;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(e=this.layout.columnWidth,t=this.layout.height):this.settings.axis==="horizontal"?(e=this.contents.textWidth(),e%this.layout.pageWidth>0&&(e=Math.ceil(e/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(n=e/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&n%2>0&&(e+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(t=this.contents.textHeight(),this.settings.flow==="paginated"&&t%this.layout.height>0&&(t=Math.ceil(t/this.layout.height)*this.layout.height)),(this._needsReframe||e!=this._width||t!=this._height)&&this.reframe(e,t),this._expanding=!1)}reframe(s,e){var t;we(s)&&(this.element.style.width=s+"px",this.iframe.style.width=s+"px",this._width=s),we(e)&&(this.element.style.height=e+"px",this.iframe.style.height=e+"px",this._height=e);let n=this.prevBounds?s-this.prevBounds.width:s,a=this.prevBounds?e-this.prevBounds.height:e;t={width:s,height:e,widthDelta:n,heightDelta:a},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let o;for(let r in this.marks)this.marks.hasOwnProperty(r)&&(o=this.marks[r],this.placeMark(o.element,o.range))}),this.onResize(this,t),this.emit(Cs.VIEWS.RESIZED,t),this.prevBounds=t,this.elementBounds=Ho(this.element)}load(s){var e=new Gs,t=e.promise;if(!this.iframe)return e.reject(new Error("No Iframe Available")),t;if(this.iframe.onload=(function(a){this.onLoad(a,e)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=er(s,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=s,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return e.reject(new Error("No Document Available")),t;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var n=this;MSApp.execUnsafeLocalFunction(function(){n.iframe.contentDocument.write(s)})}else this.iframe.contentDocument.write(s);this.iframe.contentDocument.close()}return t}onLoad(s,e){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new Di(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var t=this.document.querySelector("link[rel='canonical']");t?t.setAttribute("href",this.section.canonical):(t=this.document.createElement("link"),t.setAttribute("rel","canonical"),t.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(t)),this.contents.on(Cs.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(Cs.CONTENTS.RESIZE,n=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),e.resolve(this.contents)}setLayout(s){this.layout=s,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(s){this.settings.axis=s,s=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(s){this.writingMode=s}addListeners(){}removeListeners(s){}display(s){var e=new Gs;return this.displayed?e.resolve(this):this.render(s).then((function(){this.emit(Cs.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,e.resolve(this)}).bind(this),function(t){e.reject(t,this)}),e.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(Cs.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(Cs.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(s){this.iframe.getBoundingClientRect();var e=this.contents.locationOf(s,this.settings.ignoreClass);return{left:e.left,top:e.top}}onDisplayed(s){}onResize(s,e){}bounds(s){return(s||!this.elementBounds)&&(this.elementBounds=Ho(this.element)),this.elementBounds}highlight(s,e={},t,n="epubjs-hl",a={}){if(!this.contents)return;const o=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},a);let r=this.contents.range(s),i=()=>{this.emit(Cs.VIEWS.MARK_CLICKED,s,e)};e.epubcfi=s,this.pane||(this.pane=new lr(this.iframe,this.element));let p=new mi(r,n,e,o),c=this.pane.addMark(p);return this.highlights[s]={mark:c,element:c.element,listeners:[i,t]},c.element.setAttribute("ref",n),c.element.addEventListener("click",i),c.element.addEventListener("touchstart",i),t&&(c.element.addEventListener("click",t),c.element.addEventListener("touchstart",t)),c}underline(s,e={},t,n="epubjs-ul",a={}){if(!this.contents)return;const o=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},a);let r=this.contents.range(s),i=()=>{this.emit(Cs.VIEWS.MARK_CLICKED,s,e)};e.epubcfi=s,this.pane||(this.pane=new lr(this.iframe,this.element));let p=new F9(r,n,e,o),c=this.pane.addMark(p);return this.underlines[s]={mark:c,element:c.element,listeners:[i,t]},c.element.setAttribute("ref",n),c.element.addEventListener("click",i),c.element.addEventListener("touchstart",i),t&&(c.element.addEventListener("click",t),c.element.addEventListener("touchstart",t)),c}mark(s,e={},t){if(!this.contents)return;if(s in this.marks)return this.marks[s];let n=this.contents.range(s);if(!n)return;let a=n.commonAncestorContainer,o=a.nodeType===1?a:a.parentNode,r=p=>{this.emit(Cs.VIEWS.MARK_CLICKED,s,e)};n.collapsed&&a.nodeType===1?(n=new Range,n.selectNodeContents(a)):n.collapsed&&(n=new Range,n.selectNodeContents(o));let i=this.document.createElement("a");return i.setAttribute("ref","epubjs-mk"),i.style.position="absolute",i.dataset.epubcfi=s,e&&Object.keys(e).forEach(p=>{i.dataset[p]=e[p]}),t&&(i.addEventListener("click",t),i.addEventListener("touchstart",t)),i.addEventListener("click",r),i.addEventListener("touchstart",r),this.placeMark(i,n),this.element.appendChild(i),this.marks[s]={element:i,range:n,listeners:[r,t]},o}placeMark(s,e){let t,n,a;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let r=e.getBoundingClientRect();t=r.top,n=r.right}else{let r=e.getClientRects(),i;for(var o=0;o!=r.length;o++)i=r[o],(!a||i.left<a)&&(a=i.left,n=Math.ceil(a/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,t=i.top)}s.style.top=`${t}px`,s.style.left=`${n}px`}unhighlight(s){let e;s in this.highlights&&(e=this.highlights[s],this.pane.removeMark(e.mark),e.listeners.forEach(t=>{t&&(e.element.removeEventListener("click",t),e.element.removeEventListener("touchstart",t))}),delete this.highlights[s])}ununderline(s){let e;s in this.underlines&&(e=this.underlines[s],this.pane.removeMark(e.mark),e.listeners.forEach(t=>{t&&(e.element.removeEventListener("click",t),e.element.removeEventListener("touchstart",t))}),delete this.underlines[s])}unmark(s){let e;s in this.marks&&(e=this.marks[s],this.element.removeChild(e.element),e.listeners.forEach(t=>{t&&(e.element.removeEventListener("click",t),e.element.removeEventListener("touchstart",t))}),delete this.marks[s])}destroy(){for(let s in this.highlights)this.unhighlight(s);for(let s in this.underlines)this.ununderline(s);for(let s in this.marks)this.unmark(s);this.blobUrl&&d9(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}xt(S9.prototype);function Rd(){var l="reverse",s=Id();return document.body.appendChild(s),s.scrollLeft>0?l="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(s.children[0].children[1].scrollIntoView(),s.scrollLeft<0&&(l="negative")):(s.scrollLeft=1,s.scrollLeft===0&&(l="negative")),document.body.removeChild(s),l}function Id(){var l=document.createElement("div");l.dir="rtl",l.style.position="fixed",l.style.width="1px",l.style.height="1px",l.style.top="0px",l.style.left="0px",l.style.overflow="hidden";var s=document.createElement("div");s.style.width="2px";var e=document.createElement("span");e.style.width="1px",e.style.display="inline-block";var t=document.createElement("span");return t.style.width="1px",t.style.display="inline-block",s.appendChild(e),s.appendChild(t),l.appendChild(s),l}function Ld(l){var s=typeof l;return l!=null&&(s=="object"||s=="function")}var gi=Ld,Nd=typeof ut=="object"&&ut&&ut.Object===Object&&ut,Od=Nd,qd=Od,$d=typeof self=="object"&&self&&self.Object===Object&&self,Pd=qd||$d||Function("return this")(),R9=Pd,zd=R9,Md=function(){return zd.Date.now()},Ud=Md,Hd=/\s/;function Vd(l){for(var s=l.length;s--&&Hd.test(l.charAt(s)););return s}var jd=Vd,Wd=jd,Zd=/^\s+/;function Gd(l){return l&&l.slice(0,Wd(l)+1).replace(Zd,"")}var Yd=Gd,Xd=R9,Kd=Xd.Symbol,I9=Kd,Yp=I9,L9=Object.prototype,Jd=L9.hasOwnProperty,Qd=L9.toString,Cl=Yp?Yp.toStringTag:void 0;function sf(l){var s=Jd.call(l,Cl),e=l[Cl];try{l[Cl]=void 0;var t=!0}catch{}var n=Qd.call(l);return t&&(s?l[Cl]=e:delete l[Cl]),n}var ef=sf,tf=Object.prototype,nf=tf.toString;function af(l){return nf.call(l)}var lf=af,Xp=I9,of=ef,rf=lf,pf="[object Null]",cf="[object Undefined]",Kp=Xp?Xp.toStringTag:void 0;function uf(l){return l==null?l===void 0?cf:pf:Kp&&Kp in Object(l)?of(l):rf(l)}var yf=uf;function df(l){return l!=null&&typeof l=="object"}var ff=df,hf=yf,vf=ff,Ef="[object Symbol]";function Af(l){return typeof l=="symbol"||vf(l)&&hf(l)==Ef}var Df=Af,mf=Yd,Jp=gi,gf=Df,Qp=0/0,Cf=/^[-+]0x[0-9a-f]+$/i,bf=/^0b[01]+$/i,Bf=/^0o[0-7]+$/i,_f=parseInt;function wf(l){if(typeof l=="number")return l;if(gf(l))return Qp;if(Jp(l)){var s=typeof l.valueOf=="function"?l.valueOf():l;l=Jp(s)?s+"":s}if(typeof l!="string")return l===0?l:+l;l=mf(l);var e=bf.test(l);return e||Bf.test(l)?_f(l.slice(2),e?2:8):Cf.test(l)?Qp:+l}var Ff=wf,kf=gi,jr=Ud,sc=Ff,xf="Expected a function",Tf=Math.max,Sf=Math.min;function Rf(l,s,e){var t,n,a,o,r,i,p=0,c=!1,u=!1,f=!0;if(typeof l!="function")throw new TypeError(xf);s=sc(s)||0,kf(e)&&(c=!!e.leading,u="maxWait"in e,a=u?Tf(sc(e.maxWait)||0,s):a,f="trailing"in e?!!e.trailing:f);function h(D){var N=t,O=n;return t=n=void 0,p=D,o=l.apply(O,N),o}function g(D){return p=D,r=setTimeout(v,s),c?h(D):o}function m(D){var N=D-i,O=D-p,U=s-N;return u?Sf(U,a-O):U}function d(D){var N=D-i,O=D-p;return i===void 0||N>=s||N<0||u&&O>=a}function v(){var D=jr();if(d(D))return A(D);r=setTimeout(v,m(D))}function A(D){return r=void 0,f&&t?h(D):(t=n=void 0,o)}function C(){r!==void 0&&clearTimeout(r),p=0,t=i=n=r=void 0}function b(){return r===void 0?o:A(jr())}function E(){var D=jr(),N=d(D);if(t=arguments,n=this,i=D,N){if(r===void 0)return g(i);if(u)return clearTimeout(r),r=setTimeout(v,s),h(i)}return r===void 0&&(r=setTimeout(v,s)),o}return E.cancel=C,E.flush=b,E}var N9=Rf;const If=ul(N9);var Lf=N9,Nf=gi,Of="Expected a function";function qf(l,s,e){var t=!0,n=!0;if(typeof l!="function")throw new TypeError(Of);return Nf(e)&&(t="leading"in e?!!e.leading:t,n="trailing"in e?!!e.trailing:n),Lf(l,s,{leading:t,maxWait:s,trailing:n})}var $f=qf;const Pf=ul($f);class zf{constructor(s){this.settings=s||{},this.id="epubjs-container-"+ur(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(s){let e=s.height,t=s.width,n=s.overflow||!1,a=s.axis||"vertical",o=s.direction;Ue(this.settings,s),s.height&&we(s.height)&&(e=s.height+"px"),s.width&&we(s.width)&&(t=s.width+"px");let r=document.createElement("div");return r.id=this.id,r.classList.add("epub-container"),r.style.wordSpacing="0",r.style.lineHeight="0",r.style.verticalAlign="top",r.style.position="relative",a==="horizontal"&&(r.style.display="flex",r.style.flexDirection="row",r.style.flexWrap="nowrap"),t&&(r.style.width=t),e&&(r.style.height=e),n&&(n==="scroll"&&a==="vertical"?(r.style["overflow-y"]=n,r.style["overflow-x"]="hidden"):n==="scroll"&&a==="horizontal"?(r.style["overflow-y"]="hidden",r.style["overflow-x"]=n):r.style.overflow=n),o&&(r.dir=o,r.style.direction=o),o&&this.settings.fullsize&&(document.body.style.direction=o),r}wrap(s){var e=document.createElement("div");return e.style.visibility="hidden",e.style.overflow="hidden",e.style.width="0",e.style.height="0",e.appendChild(s),e}getElement(s){var e;if(i9(s)?e=s:typeof s=="string"&&(e=document.getElementById(s)),!e)throw new Error("Not an Element");return e}attachTo(s){var e=this.getElement(s),t;if(e)return this.settings.hidden?t=this.wrapper:t=this.container,e.appendChild(t),this.element=e,e}getContainer(){return this.container}onResize(s){(!we(this.settings.width)||!we(this.settings.height))&&(this.resizeFunc=Pf(s,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(s){this.orientationChangeFunc=s,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(s,e){var t;let n=s||this.settings.width,a=e||this.settings.height;s===null?(t=this.element.getBoundingClientRect(),t.width&&(s=Math.floor(t.width),this.container.style.width=s+"px")):we(s)?this.container.style.width=s+"px":this.container.style.width=s,e===null?(t=t||this.element.getBoundingClientRect(),t.height&&(e=t.height,this.container.style.height=e+"px")):we(e)?this.container.style.height=e+"px":this.container.style.height=e,we(s)||(s=this.container.clientWidth),we(e)||(e=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let o=sr(),r=window.getComputedStyle(document.body),i={left:parseFloat(r["padding-left"])||0,right:parseFloat(r["padding-right"])||0,top:parseFloat(r["padding-top"])||0,bottom:parseFloat(r["padding-bottom"])||0};return n||(s=o.width-i.left-i.right),(this.settings.fullsize&&!a||!a)&&(e=o.height-i.top-i.bottom),{width:s-this.containerPadding.left-this.containerPadding.right,height:e-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let s;return this.container.style.overflow!=="visible"&&(s=this.container&&this.container.getBoundingClientRect()),!s||!s.width||!s.height?sr():s}getSheet(){var s=document.createElement("style");return s.appendChild(document.createTextNode("")),document.head.appendChild(s),s.sheet}addStyleRules(s,e){var t="#"+this.id+" ",n="";this.sheet||(this.sheet=this.getSheet()),e.forEach(function(a){for(var o in a)a.hasOwnProperty(o)&&(n+=o+":"+a[o]+";")}),this.sheet.insertRule(t+s+" {"+n+"}",0)}axis(s){s==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=s}direction(s){this.container&&(this.container.dir=s,this.container.style.direction=s),this.settings.fullsize&&(document.body.style.direction=s),this.settings.dir=s}overflow(s){this.container&&(s==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=s,this.container.style["overflow-x"]="hidden"):s==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=s):this.container.style.overflow=s),this.settings.overflow=s}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class Mf{constructor(s){this.container=s,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(s){return this._views.indexOf(s)}slice(){return this._views.slice.apply(this._views,arguments)}get(s){return this._views[s]}append(s){return this._views.push(s),this.container&&this.container.appendChild(s.element),this.length++,s}prepend(s){return this._views.unshift(s),this.container&&this.container.insertBefore(s.element,this.container.firstChild),this.length++,s}insert(s,e){return this._views.splice(e,0,s),this.container&&(e<this.container.children.length?this.container.insertBefore(s.element,this.container.children[e]):this.container.appendChild(s.element)),this.length++,s}remove(s){var e=this._views.indexOf(s);e>-1&&this._views.splice(e,1),this.destroy(s),this.length--}destroy(s){s.displayed&&s.destroy(),this.container&&this.container.removeChild(s.element),s=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var s,e=this.length;if(this.length){for(var t=0;t<e;t++)s=this._views[t],this.destroy(s);this._views=[],this.length=0}}find(s){for(var e,t=this.length,n=0;n<t;n++)if(e=this._views[n],e.displayed&&e.section.index==s.index)return e}displayed(){for(var s=[],e,t=this.length,n=0;n<t;n++)e=this._views[n],e.displayed&&s.push(e);return s}show(){for(var s,e=this.length,t=0;t<e;t++)s=this._views[t],s.displayed&&s.show();this.hidden=!1}hide(){for(var s,e=this.length,t=0;t<e;t++)s=this._views[t],s.displayed&&s.hide();this.hidden=!0}}class or{constructor(s){this.name="default",this.optsSettings=s.settings,this.View=s.view,this.request=s.request,this.renditionQueue=s.queue,this.q=new Ai(this),this.settings=Ue(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),Ue(this.settings,s.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(s,e){let t=s.tagName;typeof this.settings.fullsize>"u"&&t&&(t.toLowerCase()=="body"||t.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=e,this.settings.rtlScrollType=Rd(),this.stage=new zf({width:e.width,height:e.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(s),this.container=this.stage.getContainer(),this.views=new Mf(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var s;window.addEventListener("unload",(function(e){this.destroy()}).bind(this)),this.settings.fullsize?s=window:s=this.container,this._onScroll=this.onScroll.bind(this),s.addEventListener("scroll",this._onScroll)}removeEventListeners(){var s;this.settings.fullsize?s=window:s=this.container,s.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(s){let{orientation:e}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(Cs.MANAGERS.ORIENTATION_CHANGE,e)}).bind(this),500)}onResized(s){this.resize()}resize(s,e,t){let n=this.stage.size(s,e);if(this.winBounds=sr(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===n.width&&this._stageSize.height===n.height||(this._stageSize=n,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(Cs.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},t))}createView(s,e){return new this.View(s,Ue(this.viewSettings,{forceRight:e}))}handleNextPrePaginated(s,e,t){let n;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(s||e.index===0)return;if(n=e.next(),n&&!n.properties.includes("page-spread-left"))return t.call(this,n)}}display(s,e){var t=new Gs,n=t.promise;(e===s.href||we(e))&&(e=void 0);var a=this.views.find(s);if(a&&s&&this.layout.name!=="pre-paginated"){let r=a.offset();if(this.settings.direction==="ltr")this.scrollTo(r.left,r.top,!0);else{let i=a.width();this.scrollTo(r.left+i,r.top,!0)}if(e){let i=a.locationOf(e),p=a.width();this.moveTo(i,p)}return t.resolve(),n}this.clear();let o=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&s.properties.includes("page-spread-right")&&(o=!0),this.add(s,o).then((function(r){if(e){let i=r.locationOf(e),p=r.width();this.moveTo(i,p)}}).bind(this),r=>{t.reject(r)}).then((function(){return this.handleNextPrePaginated(o,s,this.add)}).bind(this)).then((function(){this.views.show(),t.resolve()}).bind(this)),n}afterDisplayed(s){this.emit(Cs.MANAGERS.ADDED,s)}afterResized(s){this.emit(Cs.MANAGERS.RESIZE,s.section)}moveTo(s,e){var t=0,n=0;this.isPaginated?(t=Math.floor(s.left/this.layout.delta)*this.layout.delta,t+this.layout.delta>this.container.scrollWidth&&(t=this.container.scrollWidth-this.layout.delta),n=Math.floor(s.top/this.layout.delta)*this.layout.delta,n+this.layout.delta>this.container.scrollHeight&&(n=this.container.scrollHeight-this.layout.delta)):n=s.top,this.settings.direction==="rtl"&&(t=t+this.layout.delta,t=t-e),this.scrollTo(t,n,!0)}add(s,e){var t=this.createView(s,e);return this.views.append(t),t.onDisplayed=this.afterDisplayed.bind(this),t.onResize=this.afterResized.bind(this),t.on(Cs.VIEWS.AXIS,n=>{this.updateAxis(n)}),t.on(Cs.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),t.display(this.request)}append(s,e){var t=this.createView(s,e);return this.views.append(t),t.onDisplayed=this.afterDisplayed.bind(this),t.onResize=this.afterResized.bind(this),t.on(Cs.VIEWS.AXIS,n=>{this.updateAxis(n)}),t.on(Cs.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),t.display(this.request)}prepend(s,e){var t=this.createView(s,e);return t.on(Cs.VIEWS.RESIZED,n=>{this.counter(n)}),this.views.prepend(t),t.onDisplayed=this.afterDisplayed.bind(this),t.onResize=this.afterResized.bind(this),t.on(Cs.VIEWS.AXIS,n=>{this.updateAxis(n)}),t.on(Cs.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),t.display(this.request)}counter(s){this.settings.axis==="vertical"?this.scrollBy(0,s.heightDelta,!0):this.scrollBy(s.widthDelta,0,!0)}next(){var s,e;let t=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!t||t==="ltr")?(this.scrollLeft=this.container.scrollLeft,e=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,e<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):s=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&t==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(e=this.container.scrollLeft,e>0?this.scrollBy(this.layout.delta,0,!0):s=this.views.last().section.next()):(e=this.container.scrollLeft+this.layout.delta*-1,e>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):s=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):s=this.views.last().section.next()):s=this.views.last().section.next(),s)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&s.properties.includes("page-spread-right")&&(n=!0),this.append(s,n).then((function(){return this.handleNextPrePaginated(n,s,this.append)}).bind(this),a=>a).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var s,e;let t=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!t||t==="ltr")?(this.scrollLeft=this.container.scrollLeft,e=this.container.scrollLeft,e>0?this.scrollBy(-this.layout.delta,0,!0):s=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&t==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(e=this.container.scrollLeft+this.container.offsetWidth,e<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):s=this.views.first().section.prev()):(e=this.container.scrollLeft,e<0?this.scrollBy(-this.layout.delta,0,!0):s=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):s=this.views.first().section.prev()):s=this.views.first().section.prev(),s)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof s.prev()!="object"&&(n=!0),this.prepend(s,n).then((function(){var a;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(a=s.prev(),a))return this.prepend(a)}).bind(this),a=>a).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var s=this.visible();return s.length?s[s.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let s=this.visible(),e=this.container.getBoundingClientRect(),t=e.height<window.innerHeight?e.height:window.innerHeight,n=e.width<window.innerWidth?e.width:window.innerWidth,a=this.settings.axis==="vertical";this.settings.direction;let o=0,r=0;return this.settings.fullsize&&(o=a?window.scrollY:window.scrollX),s.map(p=>{let{index:c,href:u}=p.section,f=p.position(),h=p.width(),g=p.height(),m,d,v,A;a?(m=o+e.top-f.top+r,d=m+t-r,A=this.layout.count(g,t).pages,v=t):(m=o+e.left-f.left+r,d=m+n-r,A=this.layout.count(h,n).pages,v=n);let C=Math.ceil(m/v),b=[],E=Math.ceil(d/v);if(this.settings.direction==="rtl"&&!a){let O=C;C=A-E,E=A-O}b=[];for(var D=C;D<=E;D++){let O=D+1;b.push(O)}let N=this.mapping.page(p.contents,p.section.cfiBase,m,d);return{index:c,href:u,pages:b,totalPages:A,mapping:N}})}paginatedLocation(){let s=this.visible(),e=this.container.getBoundingClientRect(),t=0,n=0;return this.settings.fullsize&&(t=window.scrollX),s.map(o=>{let{index:r,href:i}=o.section,p,c=o.position(),u=o.width(),f,h,g;this.settings.direction==="rtl"?(p=e.right-t,g=Math.min(Math.abs(p-c.left),this.layout.width)-n,h=c.width-(c.right-p)-n,f=h-g):(p=e.left+t,g=Math.min(c.right-p,this.layout.width)-n,f=p-c.left+n,h=f+g),n+=g;let m=this.mapping.page(o.contents,o.section.cfiBase,f,h),d=this.layout.count(u).pages,v=Math.floor(f/this.layout.pageWidth),A=[],C=Math.floor(h/this.layout.pageWidth);if(v<0&&(v=0,C=C+1),this.settings.direction==="rtl"){let E=v;v=d-C,C=d-E}for(var b=v+1;b<=C;b++){let E=b;A.push(E)}return{index:r,href:i,pages:A,totalPages:d,mapping:m}})}isVisible(s,e,t,n){var a=s.position(),o=n||this.bounds();return this.settings.axis==="horizontal"&&a.right>o.left-e&&a.left<o.right+t?!0:this.settings.axis==="vertical"&&a.bottom>o.top-e&&a.top<o.bottom+t}visible(){for(var s=this.bounds(),e=this.views.displayed(),t=e.length,n=[],a,o,r=0;r<t;r++)o=e[r],a=this.isVisible(o,0,0,s),a===!0&&n.push(o);return n}scrollBy(s,e,t){let n=this.settings.direction==="rtl"?-1:1;t&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(s*n,e*n):(s&&(this.container.scrollLeft+=s*n),e&&(this.container.scrollTop+=e)),this.scrolled=!0}scrollTo(s,e,t){t&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(s,e):(this.container.scrollLeft=s,this.container.scrollTop=e),this.scrolled=!0}onScroll(){let s,e;this.settings.fullsize?(s=window.scrollY,e=window.scrollX):(s=this.container.scrollTop,e=this.container.scrollLeft),this.scrollTop=s,this.scrollLeft=e,this.ignore?this.ignore=!1:(this.emit(Cs.MANAGERS.SCROLL,{top:s,left:e}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(Cs.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var s;return s=this.stage.bounds(),s}applyLayout(s){this.layout=s,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(s){this.viewSettings.layout=s,this.mapping=new ar(s.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(e){e&&e.setLayout(s)})}updateWritingMode(s){this.writingMode=s}updateAxis(s,e){!e&&s===this.settings.axis||(this.settings.axis=s,this.stage&&this.stage.axis(s),this.viewSettings.axis=s,this.mapping&&(this.mapping=new ar(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(s==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(s,e="auto"){let t=s==="paginated"||s==="auto";this.isPaginated=t,s==="scrolled-doc"||s==="scrolled-continuous"||s==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=s,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=t?"hidden":e,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var s=[];return this.views&&this.views.forEach(function(e){const t=e&&e.contents;t&&s.push(t)}),s}direction(s="ltr"){this.settings.direction=s,this.stage&&this.stage.direction(s),this.viewSettings.direction=s,this.updateLayout()}isRendered(){return this.rendered}}xt(or.prototype);const Uf=Math.PI/2,Hf={easeOutSine:function(l){return Math.sin(l*Uf)},easeInOutSine:function(l){return-.5*(Math.cos(Math.PI*l)-1)},easeInOutQuint:function(l){return(l/=.5)<1?.5*Math.pow(l,5):.5*(Math.pow(l-2,5)+2)},easeInCubic:function(l){return Math.pow(l,3)}};class ti{constructor(s,e){this.settings=Ue({duration:80,minVelocity:.2,minDistance:10,easing:Hf.easeInCubic},e||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(s)}setup(s){this.manager=s,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(Cs.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(Cs.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(s){let e=s.contents;["touchstart","touchmove","touchend"].forEach(t=>{e.on(t,n=>this.triggerViewEvent(n,e))})}triggerViewEvent(s,e){this.emit(s.type,s,e)}onScroll(s){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(s){this.resizeCanceler=!0}onTouchStart(s){let{screenX:e,screenY:t}=s.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=e,this.startTouchY=t,this.startTime=this.now()),this.endTouchX=e,this.endTouchY=t,this.endTime=this.now()}onTouchMove(s){let{screenX:e,screenY:t}=s.touches[0],n=Math.abs(t-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&n<10&&(this.element.scrollLeft-=e-this.endTouchX),this.endTouchX=e,this.endTouchY=t,this.endTime=this.now()}onTouchEnd(s){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let e=this.wasSwiped();e!==0?this.snap(e):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let s=this.layout.pageWidth*this.layout.divisor,e=this.endTouchX-this.startTouchX,t=Math.abs(e),n=this.endTime-this.startTime,a=e/n,o=this.settings.minVelocity;if(t<=this.settings.minDistance||t>=s)return 0;if(a>o)return-1;if(a<-o)return 1}needsSnap(){let s=this.scrollLeft,e=this.layout.pageWidth*this.layout.divisor;return s%e!==0}snap(s=0){let e=this.scrollLeft,t=this.layout.pageWidth*this.layout.divisor,n=Math.round(e/t)*t;return s&&(n+=s*t),this.smoothScrollTo(n)}smoothScrollTo(s){const e=new Gs,t=this.scrollLeft,n=this.now(),a=this.settings.duration,o=this.settings.easing;this.snapping=!0;function r(){const i=this.now(),p=Math.min(1,(i-n)/a);if(o(p),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,e.resolve();return}p<1?(window.requestAnimationFrame(r.bind(this)),this.scrollTo(t+(s-t)*p,0)):(this.scrollTo(s,0),this.snapping=!1,e.resolve())}return r.call(this),e.promise}scrollTo(s=0,e=0){this.fullsize?window.scroll(s,e):(this.scroller.scrollLeft=s,this.scroller.scrollTop=e)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}xt(ti.prototype);class Vf extends or{constructor(s){super(s),this.name="continuous",this.settings=Ue(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),Ue(this.settings,s.settings||{}),s.settings.gap!="undefined"&&s.settings.gap===0&&(this.settings.gap=s.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(s,e){return or.prototype.display.call(this,s,e).then((function(){return this.fill()}).bind(this))}fill(s){var e=s||new Gs;return this.q.enqueue(()=>this.check()).then(t=>{t?this.fill(e):e.resolve()}),e.promise}moveTo(s){var e=0,t=0;this.isPaginated?(e=Math.floor(s.left/this.layout.delta)*this.layout.delta,e+this.settings.offsetDelta):(t=s.top,s.top+this.settings.offsetDelta),(e>0||t>0)&&this.scrollBy(e,t,!0)}afterResized(s){this.emit(Cs.MANAGERS.RESIZE,s.section)}removeShownListeners(s){s.onDisplayed=function(){}}add(s){var e=this.createView(s);return this.views.append(e),e.on(Cs.VIEWS.RESIZED,t=>{e.expanded=!0}),e.on(Cs.VIEWS.AXIS,t=>{this.updateAxis(t)}),e.on(Cs.VIEWS.WRITING_MODE,t=>{this.updateWritingMode(t)}),e.onDisplayed=this.afterDisplayed.bind(this),e.onResize=this.afterResized.bind(this),e.display(this.request)}append(s){var e=this.createView(s);return e.on(Cs.VIEWS.RESIZED,t=>{e.expanded=!0}),e.on(Cs.VIEWS.AXIS,t=>{this.updateAxis(t)}),e.on(Cs.VIEWS.WRITING_MODE,t=>{this.updateWritingMode(t)}),this.views.append(e),e.onDisplayed=this.afterDisplayed.bind(this),e}prepend(s){var e=this.createView(s);return e.on(Cs.VIEWS.RESIZED,t=>{this.counter(t),e.expanded=!0}),e.on(Cs.VIEWS.AXIS,t=>{this.updateAxis(t)}),e.on(Cs.VIEWS.WRITING_MODE,t=>{this.updateWritingMode(t)}),this.views.prepend(e),e.onDisplayed=this.afterDisplayed.bind(this),e}counter(s){this.settings.axis==="vertical"?this.scrollBy(0,s.heightDelta,!0):this.scrollBy(s.widthDelta,0,!0)}update(s){for(var e=this.bounds(),t=this.views.all(),n=t.length,a=typeof s<"u"?s:this.settings.offset||0,o,r,i=new Gs,p=[],c=0;c<n;c++)if(r=t[c],o=this.isVisible(r,a,a,e),o===!0)if(r.displayed)r.show();else{let u=r.display(this.request).then(function(f){f.show()},f=>{r.hide()});p.push(u)}else this.q.enqueue(r.destroy.bind(r)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return p.length?Promise.all(p).catch(u=>{i.reject(u)}):(i.resolve(),i.promise)}check(s,e){var t=new Gs,n=[],a=this.settings.axis==="horizontal",o=this.settings.offset||0;s&&a&&(o=s),e&&!a&&(o=e);var r=this._bounds;let i=a?this.scrollLeft:this.scrollTop,p=a?Math.floor(r.width):r.height,c=a?this.container.scrollWidth:this.container.scrollHeight,u=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",f=this.settings.rtlScrollType,h=this.settings.direction==="rtl";this.settings.fullsize?(a&&h&&f==="negative"||!a&&h&&f==="default")&&(i=i*-1):(h&&f==="default"&&u==="horizontal"&&(i=c-p-i),h&&f==="negative"&&u==="horizontal"&&(i=i*-1));let g=()=>{let C=this.views.first(),b=C&&C.section.prev();b&&n.push(this.prepend(b))},m=()=>{let C=this.views.last(),b=C&&C.section.next();b&&n.push(this.append(b))},d=i+p+o,v=i-o;d>=c&&m(),v<0&&g();let A=n.map(C=>C.display(this.request));return n.length?Promise.all(A).then(()=>this.check()).then(()=>this.update(o),C=>C):(this.q.enqueue((function(){this.update()}).bind(this)),t.resolve(!1),t.promise)}trim(){for(var s=new Gs,e=this.views.displayed(),t=e[0],n=e[e.length-1],a=this.views.indexOf(t),o=this.views.indexOf(n),r=this.views.slice(0,a),i=this.views.slice(o+1),p=0;p<r.length-1;p++)this.erase(r[p],r);for(var c=1;c<i.length;c++)this.erase(i[c]);return s.resolve(),s.promise}erase(s,e){var t,n;this.settings.fullsize?(t=window.scrollY,n=window.scrollX):(t=this.container.scrollTop,n=this.container.scrollLeft);var a=s.bounds();this.views.remove(s),e&&(this.settings.axis==="vertical"?this.scrollTo(0,t-a.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(n+Math.floor(a.width),0,!0):this.scrollTo(n,0,!0):this.scrollTo(n-Math.floor(a.width),0,!0))}addEventListeners(s){window.addEventListener("unload",(function(e){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new ti(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var s;this.tick=hi;let e=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(s=window,this.scrollTop=window.scrollY*e,this.scrollLeft=window.scrollX*e):(s=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),s.addEventListener("scroll",this._onScroll),this._scrolled=If(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var s;this.settings.fullsize?s=window:s=this.container,s.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let s,e,t=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(s=window.scrollY*t,e=window.scrollX*t):(s=this.container.scrollTop,e=this.container.scrollLeft),this.scrollTop=s,this.scrollLeft=e,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(s-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(e-this.prevScrollLeft),this.prevScrollTop=s,this.prevScrollLeft=e,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(Cs.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(Cs.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let s=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(s,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let s=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-s,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(s){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(s,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new ti(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class Ci{constructor(s,e){this.settings=Ue(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),Ue(this.settings,e),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=s,this.hooks={},this.hooks.display=new At(this),this.hooks.serialize=new At(this),this.hooks.content=new At(this),this.hooks.unloaded=new At(this),this.hooks.layout=new At(this),this.hooks.render=new At(this),this.hooks.show=new At(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new Ad(this),this.annotations=new gd(this),this.epubcfi=new Ys,this.q=new Ai(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new Gs,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(s){this.manager=s}requireManager(s){var e;return typeof s=="string"&&s==="default"?e=or:typeof s=="string"&&s==="continuous"?e=Vf:e=s,e}requireView(s){var e;return typeof s=="string"&&s==="iframe"?e=S9:e=s,e}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(Cs.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(Cs.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(Cs.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(Cs.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(Cs.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(Cs.RENDITION.STARTED),this.starting.resolve()}attachTo(s){return this.q.enqueue((function(){this.manager.render(s,{width:this.settings.width,height:this.settings.height}),this.emit(Cs.RENDITION.ATTACHED)}).bind(this))}display(s){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,s)}_display(s){if(this.book){this.epubcfi.isCfiString(s);var e=new Gs,t=e.promise,n;return this.displaying=e,this.book.locations.length()&&p9(s)&&(s=this.book.locations.cfiFromPercentage(parseFloat(s))),n=this.book.spine.get(s),n?(this.manager.display(n,s).then(()=>{e.resolve(n),this.displaying=void 0,this.emit(Cs.RENDITION.DISPLAYED,n),this.reportLocation()},a=>{this.emit(Cs.RENDITION.DISPLAY_ERROR,a)}),t):(e.reject(new Error("No Section Found")),t)}}afterDisplayed(s){s.on(Cs.VIEWS.MARK_CLICKED,(e,t)=>this.triggerMarkEvent(e,t,s.contents)),this.hooks.render.trigger(s,this).then(()=>{s.contents?this.hooks.content.trigger(s.contents,this).then(()=>{this.emit(Cs.RENDITION.RENDERED,s.section,s)}):this.emit(Cs.RENDITION.RENDERED,s.section,s)})}afterRemoved(s){this.hooks.unloaded.trigger(s,this).then(()=>{this.emit(Cs.RENDITION.REMOVED,s.section,s)})}onResized(s,e){this.emit(Cs.RENDITION.RESIZED,{width:s.width,height:s.height},e),this.location&&this.location.start&&this.display(e||this.location.start.cfi)}onOrientationChange(s){this.emit(Cs.RENDITION.ORIENTATION_CHANGE,s)}moveTo(s){this.manager.moveTo(s)}resize(s,e,t){s&&(this.settings.width=s),e&&(this.settings.height=e),this.manager.resize(s,e,t)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(s){var e,t=this.settings.layout||s.layout||"reflowable",n=this.settings.spread||s.spread||"auto",a=this.settings.orientation||s.orientation||"auto",o=this.settings.flow||s.flow||"auto",r=s.viewport||"",i=this.settings.minSpreadWidth||s.minSpreadWidth||800,p=this.settings.direction||s.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),e={layout:t,spread:n,orientation:a,flow:o,viewport:r,minSpreadWidth:i,direction:p},e}flow(s){var e=s;(s==="scrolled"||s==="scrolled-doc"||s==="scrolled-continuous")&&(e="scrolled"),(s==="auto"||s==="paginated")&&(e="paginated"),this.settings.flow=s,this._layout&&this._layout.flow(e),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(e),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(s){return s&&(this._layout=new g9(s),this._layout.spread(s.spread,this.settings.minSpreadWidth),this._layout.on(Cs.LAYOUT.UPDATED,(e,t)=>{this.emit(Cs.RENDITION.LAYOUT,e,t)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(s,e){this.settings.spread=s,e&&(this.settings.minSpreadWidth=e),this._layout&&this._layout.spread(s,e),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(s){this.settings.direction=s||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var t=this.manager.currentLocation();if(t&&t.then&&typeof t.then=="function")t.then((function(n){let a=this.located(n);!a||!a.start||!a.end||(this.location=a,this.emit(Cs.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Cs.RENDITION.RELOCATED,this.location))}).bind(this));else if(t){let n=this.located(t);if(!n||!n.start||!n.end)return;this.location=n,this.emit(Cs.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Cs.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var s=this.manager.currentLocation();if(s&&s.then&&typeof s.then=="function")s.then((function(e){return this.located(e)}).bind(this));else if(s)return this.located(s)}located(s){if(!s.length)return{};let e=s[0],t=s[s.length-1],n={start:{index:e.index,href:e.href,cfi:e.mapping.start,displayed:{page:e.pages[0]||1,total:e.totalPages}},end:{index:t.index,href:t.href,cfi:t.mapping.end,displayed:{page:t.pages[t.pages.length-1]||1,total:t.totalPages}}},a=this.book.locations.locationFromCfi(e.mapping.start),o=this.book.locations.locationFromCfi(t.mapping.end);a!=null&&(n.start.location=a,n.start.percentage=this.book.locations.percentageFromLocation(a)),o!=null&&(n.end.location=o,n.end.percentage=this.book.locations.percentageFromLocation(o));let r=this.book.pageList.pageFromCfi(e.mapping.start),i=this.book.pageList.pageFromCfi(t.mapping.end);return r!=-1&&(n.start.page=r),i!=-1&&(n.end.page=i),t.index===this.book.spine.last().index&&n.end.displayed.page>=n.end.displayed.total&&(n.atEnd=!0),e.index===this.book.spine.first().index&&n.start.displayed.page===1&&(n.atStart=!0),n}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(s){jo.forEach(e=>{s.on(e,t=>this.triggerViewEvent(t,s))}),s.on(Cs.CONTENTS.SELECTED,e=>this.triggerSelectedEvent(e,s))}triggerViewEvent(s,e){this.emit(s.type,s,e)}triggerSelectedEvent(s,e){this.emit(Cs.RENDITION.SELECTED,s,e)}triggerMarkEvent(s,e,t){this.emit(Cs.RENDITION.MARK_CLICKED,s,e,t)}getRange(s,e){var t=new Ys(s),n=this.manager.visible().filter(function(a){if(t.spinePos===a.index)return!0});if(n.length)return n[0].contents.range(t,e)}adjustImages(s){if(this._layout.name==="pre-paginated")return new Promise(function(a){a()});let e=s.window.getComputedStyle(s.content,null),t=(s.content.offsetHeight-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)))*.95,n=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight);return s.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":t+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":t+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(a,o){setTimeout(function(){a()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(s){s&&s.on(Cs.CONTENTS.LINK_CLICKED,e=>{let t=this.book.path.relative(e);this.display(t)})}injectStylesheet(s,e){let t=s.createElement("link");t.setAttribute("type","text/css"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",this.settings.stylesheet),s.getElementsByTagName("head")[0].appendChild(t)}injectScript(s,e){let t=s.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",this.settings.script),t.textContent=" ",s.getElementsByTagName("head")[0].appendChild(t)}injectIdentifier(s,e){let t=this.book.packaging.metadata.identifier,n=s.createElement("meta");n.setAttribute("name","dc.relation.ispartof"),t&&n.setAttribute("content",t),s.getElementsByTagName("head")[0].appendChild(n)}}xt(Ci.prototype);function Cn(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var O9={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(l,s){(function(e){l.exports=e()})(function(){return function e(t,n,a){function o(p,c){if(!n[p]){if(!t[p]){var u=typeof Cn=="function"&&Cn;if(!c&&u)return u(p,!0);if(r)return r(p,!0);var f=new Error("Cannot find module '"+p+"'");throw f.code="MODULE_NOT_FOUND",f}var h=n[p]={exports:{}};t[p][0].call(h.exports,function(g){var m=t[p][1][g];return o(m||g)},h,h.exports,e,t,n,a)}return n[p].exports}for(var r=typeof Cn=="function"&&Cn,i=0;i<a.length;i++)o(a[i]);return o}({1:[function(e,t,n){var a=e("./utils"),o=e("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(i){for(var p=[],c,u,f,h,g,m,d,v=0,A=i.length,C=A,b=a.getTypeOf(i)!=="string";v<i.length;)C=A-v,b?(c=i[v++],u=v<A?i[v++]:0,f=v<A?i[v++]:0):(c=i.charCodeAt(v++),u=v<A?i.charCodeAt(v++):0,f=v<A?i.charCodeAt(v++):0),h=c>>2,g=(c&3)<<4|u>>4,m=C>1?(u&15)<<2|f>>6:64,d=C>2?f&63:64,p.push(r.charAt(h)+r.charAt(g)+r.charAt(m)+r.charAt(d));return p.join("")},n.decode=function(i){var p,c,u,f,h,g,m,d=0,v=0,A="data:";if(i.substr(0,A.length)===A)throw new Error("Invalid base64 input, it looks like a data url.");i=i.replace(/[^A-Za-z0-9+/=]/g,"");var C=i.length*3/4;if(i.charAt(i.length-1)===r.charAt(64)&&C--,i.charAt(i.length-2)===r.charAt(64)&&C--,C%1!==0)throw new Error("Invalid base64 input, bad content length.");var b;for(o.uint8array?b=new Uint8Array(C|0):b=new Array(C|0);d<i.length;)f=r.indexOf(i.charAt(d++)),h=r.indexOf(i.charAt(d++)),g=r.indexOf(i.charAt(d++)),m=r.indexOf(i.charAt(d++)),p=f<<2|h>>4,c=(h&15)<<4|g>>2,u=(g&3)<<6|m,b[v++]=p,g!==64&&(b[v++]=c),m!==64&&(b[v++]=u);return b}},{"./support":30,"./utils":32}],2:[function(e,t,n){var a=e("./external"),o=e("./stream/DataWorker"),r=e("./stream/Crc32Probe"),i=e("./stream/DataLengthProbe");function p(c,u,f,h,g){this.compressedSize=c,this.uncompressedSize=u,this.crc32=f,this.compression=h,this.compressedContent=g}p.prototype={getContentWorker:function(){var c=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),u=this;return c.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(c,u,f){return c.pipe(new r).pipe(new i("uncompressedSize")).pipe(u.compressWorker(f)).pipe(new i("compressedSize")).withStreamInfo("compression",u)},t.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var a=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var a=e("./utils");function o(){for(var c,u=[],f=0;f<256;f++){c=f;for(var h=0;h<8;h++)c=c&1?3988292384^c>>>1:c>>>1;u[f]=c}return u}var r=o();function i(c,u,f,h){var g=r,m=h+f;c=c^-1;for(var d=h;d<m;d++)c=c>>>8^g[(c^u[d])&255];return c^-1}function p(c,u,f,h){var g=r,m=h+f;c=c^-1;for(var d=h;d<m;d++)c=c>>>8^g[(c^u.charCodeAt(d))&255];return c^-1}t.exports=function(u,f){if(typeof u>"u"||!u.length)return 0;var h=a.getTypeOf(u)!=="string";return h?i(f|0,u,u.length,0):p(f|0,u,u.length,0)}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var a=null;typeof Promise<"u"?a=Promise:a=e("lie"),t.exports={Promise:a}},{lie:37}],7:[function(e,t,n){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=e("pako"),r=e("./utils"),i=e("./stream/GenericWorker"),p=a?"uint8array":"array";n.magic="\b\0";function c(u,f){i.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=f,this.meta={}}r.inherits(c,i),c.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(p,u.data),!1)},c.prototype.flush=function(){i.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(f){u.push({data:f,meta:u.meta})}},n.compressWorker=function(u){return new c("Deflate",u)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){var a=e("../utils"),o=e("../stream/GenericWorker"),r=e("../utf8"),i=e("../crc32"),p=e("../signature"),c=function(v,A){var C="",b;for(b=0;b<A;b++)C+=String.fromCharCode(v&255),v=v>>>8;return C},u=function(v,A){var C=v;return v||(C=A?16893:33204),(C&65535)<<16},f=function(v){return(v||0)&63},h=function(v,A,C,b,E,D){var N=v.file,O=v.compression,U=D!==r.utf8encode,H=a.transformTo("string",D(N.name)),X=a.transformTo("string",r.utf8encode(N.name)),es=N.comment,us=a.transformTo("string",D(es)),ls=a.transformTo("string",r.utf8encode(es)),hs=X.length!==N.name.length,gs=ls.length!==es.length,vs,Es,Ls="",Ws="",Hs="",bs=N.dir,Ps=N.date,Rs={crc32:0,compressedSize:0,uncompressedSize:0};(!A||C)&&(Rs.crc32=v.crc32,Rs.compressedSize=v.compressedSize,Rs.uncompressedSize=v.uncompressedSize);var Is=0;A&&(Is|=8),!U&&(hs||gs)&&(Is|=2048);var ae=0,Zs=0;bs&&(ae|=16),E==="UNIX"?(Zs=798,ae|=u(N.unixPermissions,bs)):(Zs=20,ae|=f(N.dosPermissions)),vs=Ps.getUTCHours(),vs=vs<<6,vs=vs|Ps.getUTCMinutes(),vs=vs<<5,vs=vs|Ps.getUTCSeconds()/2,Es=Ps.getUTCFullYear()-1980,Es=Es<<4,Es=Es|Ps.getUTCMonth()+1,Es=Es<<5,Es=Es|Ps.getUTCDate(),hs&&(Ws=c(1,1)+c(i(H),4)+X,Ls+="up"+c(Ws.length,2)+Ws),gs&&(Hs=c(1,1)+c(i(us),4)+ls,Ls+="uc"+c(Hs.length,2)+Hs);var Os="";Os+=`
\0`,Os+=c(Is,2),Os+=O.magic,Os+=c(vs,2),Os+=c(Es,2),Os+=c(Rs.crc32,4),Os+=c(Rs.compressedSize,4),Os+=c(Rs.uncompressedSize,4),Os+=c(H.length,2),Os+=c(Ls.length,2);var ve=p.LOCAL_FILE_HEADER+Os+H+Ls,le=p.CENTRAL_FILE_HEADER+c(Zs,2)+Os+c(us.length,2)+"\0\0\0\0"+c(ae,4)+c(b,4)+H+Ls+us;return{fileRecord:ve,dirRecord:le}},g=function(v,A,C,b,E){var D="",N=a.transformTo("string",E(b));return D=p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(v,2)+c(v,2)+c(A,4)+c(C,4)+c(N.length,2)+N,D},m=function(v){var A="";return A=p.DATA_DESCRIPTOR+c(v.crc32,4)+c(v.compressedSize,4)+c(v.uncompressedSize,4),A};function d(v,A,C,b){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=C,this.encodeFileName=b,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(d,o),d.prototype.push=function(v){var A=v.meta.percent||0,C=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,o.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:C?(A+100*(C-b-1))/C:100}}))},d.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var A=this.streamFiles&&!v.file.dir;if(A){var C=h(v,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:C.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(v){this.accumulate=!1;var A=this.streamFiles&&!v.file.dir,C=h(v,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(C.dirRecord),A)this.push({data:m(v),meta:{percent:100}});else for(this.push({data:C.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var v=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var C=this.bytesWritten-v,b=g(this.dirRecords.length,C,v,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(v){this._sources.push(v);var A=this;return v.on("data",function(C){A.processChunk(C)}),v.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),v.on("error",function(C){A.error(C)}),this},d.prototype.resume=function(){if(!o.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},d.prototype.error=function(v){var A=this._sources;if(!o.prototype.error.call(this,v))return!1;for(var C=0;C<A.length;C++)try{A[C].error(v)}catch{}return!0},d.prototype.lock=function(){o.prototype.lock.call(this);for(var v=this._sources,A=0;A<v.length;A++)v[A].lock()},t.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var a=e("../compressions"),o=e("./ZipFileWorker"),r=function(i,p){var c=i||p,u=a[c];if(!u)throw new Error(c+" is not a valid compression method !");return u};n.generateWorker=function(i,p,c){var u=new o(p.streamFiles,c,p.platform,p.encodeFileName),f=0;try{i.forEach(function(h,g){f++;var m=r(g.options.compression,p.compression),d=g.options.compressionOptions||p.compressionOptions||{},v=g.dir,A=g.date;g._compressWorker(m,d).withStreamInfo("file",{name:h,dir:v,date:A,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var r in this)typeof this[r]!="function"&&(o[r]=this[r]);return o}}a.prototype=e("./object"),a.prototype.loadAsync=e("./load"),a.support=e("./support"),a.defaults=e("./defaults"),a.version="3.10.1",a.loadAsync=function(o,r){return new a().loadAsync(o,r)},a.external=e("./external"),t.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var a=e("./utils"),o=e("./external"),r=e("./utf8"),i=e("./zipEntries"),p=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function u(f){return new o.Promise(function(h,g){var m=f.decompressed.getContentWorker().pipe(new p);m.on("error",function(d){g(d)}).on("end",function(){m.streamInfo.crc32!==f.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}t.exports=function(f,h){var g=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),c.isNode&&c.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",f,!0,h.optimizedBinaryString,h.base64).then(function(m){var d=new i(h);return d.load(m),d}).then(function(d){var v=[o.Promise.resolve(d)],A=d.files;if(h.checkCRC32)for(var C=0;C<A.length;C++)v.push(u(A[C]));return o.Promise.all(v)}).then(function(d){for(var v=d.shift(),A=v.files,C=0;C<A.length;C++){var b=A[C],E=b.fileNameStr,D=a.resolve(b.fileNameStr);g.file(D,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:h.createFolders}),b.dir||(g.file(D).unsafeOriginalName=E)}return v.zipComment.length&&(g.comment=v.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var a=e("../utils"),o=e("../stream/GenericWorker");function r(i,p){o.call(this,"Nodejs stream input adapter for "+i),this._upstreamEnded=!1,this._bindStream(p)}a.inherits(r,o),r.prototype._bindStream=function(i){var p=this;this._stream=i,i.pause(),i.on("data",function(c){p.push({data:c,meta:{percent:0}})}).on("error",function(c){p.isPaused?this.generatedError=c:p.error(c)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},r.prototype.pause=function(){return o.prototype.pause.call(this)?(this._stream.pause(),!0):!1},r.prototype.resume=function(){return o.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},t.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var a=e("readable-stream").Readable,o=e("../utils");o.inherits(r,a);function r(i,p,c){a.call(this,p),this._helper=i;var u=this;i.on("data",function(f,h){u.push(f)||u._helper.pause(),c&&c(h)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(e,t,n){var a=e("./utf8"),o=e("./utils"),r=e("./stream/GenericWorker"),i=e("./stream/StreamHelper"),p=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),f=e("./generate"),h=e("./nodejsUtils"),g=e("./nodejs/NodejsStreamInputAdapter"),m=function(E,D,N){var O=o.getTypeOf(D),U,H=o.extend(N||{},p);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&H.unixPermissions&16384&&(H.dir=!0),H.dosPermissions&&H.dosPermissions&16&&(H.dir=!0),H.dir&&(E=v(E)),H.createFolders&&(U=d(E))&&A.call(this,U,!0);var X=O==="string"&&H.binary===!1&&H.base64===!1;(!N||typeof N.binary>"u")&&(H.binary=!X);var es=D instanceof c&&D.uncompressedSize===0;(es||H.dir||!D||D.length===0)&&(H.base64=!1,H.binary=!0,D="",H.compression="STORE",O="string");var us=null;D instanceof c||D instanceof r?us=D:h.isNode&&h.isStream(D)?us=new g(E,D):us=o.prepareContent(E,D,H.binary,H.optimizedBinaryString,H.base64);var ls=new u(E,us,H);this.files[E]=ls},d=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var D=E.lastIndexOf("/");return D>0?E.substring(0,D):""},v=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},A=function(E,D){return D=typeof D<"u"?D:p.createFolders,E=v(E),this.files[E]||m.call(this,E,null,{dir:!0,createFolders:D}),this.files[E]};function C(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var D,N,O;for(D in this.files)O=this.files[D],N=D.slice(this.root.length,D.length),N&&D.slice(0,this.root.length)===this.root&&E(N,O)},filter:function(E){var D=[];return this.forEach(function(N,O){E(N,O)&&D.push(O)}),D},file:function(E,D,N){if(arguments.length===1)if(C(E)){var O=E;return this.filter(function(H,X){return!X.dir&&O.test(H)})}else{var U=this.files[this.root+E];return U&&!U.dir?U:null}else E=this.root+E,m.call(this,E,D,N);return this},folder:function(E){if(!E)return this;if(C(E))return this.filter(function(U,H){return H.dir&&E.test(U)});var D=this.root+E,N=A.call(this,D),O=this.clone();return O.root=N.name,O},remove:function(E){E=this.root+E;var D=this.files[E];if(D||(E.slice(-1)!=="/"&&(E+="/"),D=this.files[E]),D&&!D.dir)delete this.files[E];else for(var N=this.filter(function(U,H){return H.name.slice(0,E.length)===E}),O=0;O<N.length;O++)delete this.files[N[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var D,N={};try{if(N=o.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode}),N.type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");o.checkSupport(N.type),(N.platform==="darwin"||N.platform==="freebsd"||N.platform==="linux"||N.platform==="sunos")&&(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var O=N.comment||this.comment||"";D=f.generateWorker(this,N,O)}catch(U){D=new r("error"),D.error(U)}return new i(D,N.type||"string",N.mimeType)},generateAsync:function(E,D){return this.generateInternalStream(E).accumulate(D)},generateNodeStream:function(E,D){return E=E||{},E.type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(D)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){var a=e("./DataReader"),o=e("../utils");function r(i){a.call(this,i);for(var p=0;p<this.data.length;p++)i[p]=i[p]&255}o.inherits(r,a),r.prototype.byteAt=function(i){return this.data[this.zero+i]},r.prototype.lastIndexOfSignature=function(i){for(var p=i.charCodeAt(0),c=i.charCodeAt(1),u=i.charCodeAt(2),f=i.charCodeAt(3),h=this.length-4;h>=0;--h)if(this.data[h]===p&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===f)return h-this.zero;return-1},r.prototype.readAndCheckSignature=function(i){var p=i.charCodeAt(0),c=i.charCodeAt(1),u=i.charCodeAt(2),f=i.charCodeAt(3),h=this.readData(4);return p===h[0]&&c===h[1]&&u===h[2]&&f===h[3]},r.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,p},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var a=e("../utils");function o(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var i=0,p;for(this.checkOffset(r),p=this.index+r-1;p>=this.index;p--)i=(i<<8)+this.byteAt(p);return this.index+=r,i},readString:function(r){return a.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC((r>>25&127)+1980,(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(r&31)<<1))}},t.exports=o},{"../utils":32}],19:[function(e,t,n){var a=e("./Uint8ArrayReader"),o=e("../utils");function r(i){a.call(this,i)}o.inherits(r,a),r.prototype.readData=function(i){this.checkOffset(i);var p=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,p},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var a=e("./DataReader"),o=e("../utils");function r(i){a.call(this,i)}o.inherits(r,a),r.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},r.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},r.prototype.readAndCheckSignature=function(i){var p=this.readData(4);return i===p},r.prototype.readData=function(i){this.checkOffset(i);var p=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,p},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var a=e("./ArrayReader"),o=e("../utils");function r(i){a.call(this,i)}o.inherits(r,a),r.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,p},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var a=e("../utils"),o=e("../support"),r=e("./ArrayReader"),i=e("./StringReader"),p=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(u){var f=a.getTypeOf(u);return a.checkSupport(f),f==="string"&&!o.uint8array?new i(u):f==="nodebuffer"?new p(u):o.uint8array?new c(a.transformTo("uint8array",u)):new r(a.transformTo("array",u))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){var a=e("./GenericWorker"),o=e("../utils");function r(i){a.call(this,"ConvertWorker to "+i),this.destType=i}o.inherits(r,a),r.prototype.processChunk=function(i){this.push({data:o.transformTo(this.destType,i.data),meta:i.meta})},t.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var a=e("./GenericWorker"),o=e("../crc32"),r=e("../utils");function i(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r.inherits(i,a),i.prototype.processChunk=function(p){this.streamInfo.crc32=o(p.data,this.streamInfo.crc32||0),this.push(p)},t.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var a=e("../utils"),o=e("./GenericWorker");function r(i){o.call(this,"DataLengthProbe for "+i),this.propName=i,this.withStreamInfo(i,0)}a.inherits(r,o),r.prototype.processChunk=function(i){if(i){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+i.data.length}o.prototype.processChunk.call(this,i)},t.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var a=e("../utils"),o=e("./GenericWorker"),r=16*1024;function i(p){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=a.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}a.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return o.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0):!1},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=r,c=null,u=Math.min(this.max,this.index+p);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u);break}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return this.isFinished?!1:(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,r){return this._listeners[o].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,r){if(this._listeners[o])for(var i=0;i<this._listeners[o].length;i++)this._listeners[o][i].call(this,r)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var r=this;return o.on("data",function(i){r.processChunk(i)}),o.on("end",function(){r.end()}),o.on("error",function(i){r.error(i)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var o=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,r){return this.extraStreamInfo[o]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},t.exports=a},{}],29:[function(e,t,n){var a=e("../utils"),o=e("./ConvertWorker"),r=e("./GenericWorker"),i=e("../base64"),p=e("../support"),c=e("../external"),u=null;if(p.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(d,v,A){switch(d){case"blob":return a.newBlob(a.transformTo("arraybuffer",v),A);case"base64":return i.encode(v);default:return a.transformTo(d,v)}}function h(d,v){var A,C=0,b=null,E=0;for(A=0;A<v.length;A++)E+=v[A].length;switch(d){case"string":return v.join("");case"array":return Array.prototype.concat.apply([],v);case"uint8array":for(b=new Uint8Array(E),A=0;A<v.length;A++)b.set(v[A],C),C+=v[A].length;return b;case"nodebuffer":return Buffer.concat(v);default:throw new Error("concat : unsupported type '"+d+"'")}}function g(d,v){return new c.Promise(function(A,C){var b=[],E=d._internalType,D=d._outputType,N=d._mimeType;d.on("data",function(O,U){b.push(O),v&&v(U)}).on("error",function(O){b=[],C(O)}).on("end",function(){try{var O=f(D,h(E,b),N);A(O)}catch(U){C(U)}b=[]}).resume()})}function m(d,v,A){var C=v;switch(v){case"blob":case"arraybuffer":C="uint8array";break;case"base64":C="string";break}try{this._internalType=C,this._outputType=v,this._mimeType=A,a.checkSupport(C),this._worker=d.pipe(new o(C)),d.lock()}catch(b){this._worker=new r("error"),this._worker.error(b)}}m.prototype={accumulate:function(d){return g(this,d)},on:function(d,v){var A=this;return d==="data"?this._worker.on(d,function(C){v.call(A,C.data,C.meta)}):this._worker.on(d,function(){a.delay(v,arguments,A)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},d)}},t.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var a=new ArrayBuffer(0);try{n.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,r=new o;r.append(a),n.blob=r.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var a=e("./utils"),o=e("./support"),r=e("./nodejsUtils"),i=e("./stream/GenericWorker"),p=new Array(256),c=0;c<256;c++)p[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;p[254]=p[254]=1;var u=function(d){var v,A,C,b,E,D=d.length,N=0;for(b=0;b<D;b++)A=d.charCodeAt(b),(A&64512)===55296&&b+1<D&&(C=d.charCodeAt(b+1),(C&64512)===56320&&(A=65536+(A-55296<<10)+(C-56320),b++)),N+=A<128?1:A<2048?2:A<65536?3:4;for(o.uint8array?v=new Uint8Array(N):v=new Array(N),E=0,b=0;E<N;b++)A=d.charCodeAt(b),(A&64512)===55296&&b+1<D&&(C=d.charCodeAt(b+1),(C&64512)===56320&&(A=65536+(A-55296<<10)+(C-56320),b++)),A<128?v[E++]=A:A<2048?(v[E++]=192|A>>>6,v[E++]=128|A&63):A<65536?(v[E++]=224|A>>>12,v[E++]=128|A>>>6&63,v[E++]=128|A&63):(v[E++]=240|A>>>18,v[E++]=128|A>>>12&63,v[E++]=128|A>>>6&63,v[E++]=128|A&63);return v},f=function(d,v){var A;for(v=v||d.length,v>d.length&&(v=d.length),A=v-1;A>=0&&(d[A]&192)===128;)A--;return A<0||A===0?v:A+p[d[A]]>v?A:v},h=function(d){var v,A,C,b,E=d.length,D=new Array(E*2);for(A=0,v=0;v<E;){if(C=d[v++],C<128){D[A++]=C;continue}if(b=p[C],b>4){D[A++]=65533,v+=b-1;continue}for(C&=b===2?31:b===3?15:7;b>1&&v<E;)C=C<<6|d[v++]&63,b--;if(b>1){D[A++]=65533;continue}C<65536?D[A++]=C:(C-=65536,D[A++]=55296|C>>10&1023,D[A++]=56320|C&1023)}return D.length!==A&&(D.subarray?D=D.subarray(0,A):D.length=A),a.applyFromCharCode(D)};n.utf8encode=function(v){return o.nodebuffer?r.newBufferFrom(v,"utf-8"):u(v)},n.utf8decode=function(v){return o.nodebuffer?a.transformTo("nodebuffer",v).toString("utf-8"):(v=a.transformTo(o.uint8array?"uint8array":"array",v),h(v))};function g(){i.call(this,"utf-8 decode"),this.leftOver=null}a.inherits(g,i),g.prototype.processChunk=function(d){var v=a.transformTo(o.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var A=v;v=new Uint8Array(A.length+this.leftOver.length),v.set(this.leftOver,0),v.set(A,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var C=f(v),b=v;C!==v.length&&(o.uint8array?(b=v.subarray(0,C),this.leftOver=v.subarray(C,v.length)):(b=v.slice(0,C),this.leftOver=v.slice(C,v.length))),this.push({data:n.utf8decode(b),meta:d.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=g;function m(){i.call(this,"utf-8 encode")}a.inherits(m,i),m.prototype.processChunk=function(d){this.push({data:n.utf8encode(d.data),meta:d.meta})},n.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var a=e("./support"),o=e("./base64"),r=e("./nodejsUtils"),i=e("./external");e("setimmediate");function p(d){var v=null;return a.uint8array?v=new Uint8Array(d.length):v=new Array(d.length),u(d,v)}n.newBlob=function(d,v){n.checkSupport("blob");try{return new Blob([d],{type:v})}catch{try{var A=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,C=new A;return C.append(d),C.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};function c(d){return d}function u(d,v){for(var A=0;A<d.length;++A)v[A]=d.charCodeAt(A)&255;return v}var f={stringifyByChunk:function(d,v,A){var C=[],b=0,E=d.length;if(E<=A)return String.fromCharCode.apply(null,d);for(;b<E;)v==="array"||v==="nodebuffer"?C.push(String.fromCharCode.apply(null,d.slice(b,Math.min(b+A,E)))):C.push(String.fromCharCode.apply(null,d.subarray(b,Math.min(b+A,E)))),b+=A;return C.join("")},stringifyByChar:function(d){for(var v="",A=0;A<d.length;A++)v+=String.fromCharCode(d[A]);return v},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function h(d){var v=65536,A=n.getTypeOf(d),C=!0;if(A==="uint8array"?C=f.applyCanBeUsed.uint8array:A==="nodebuffer"&&(C=f.applyCanBeUsed.nodebuffer),C)for(;v>1;)try{return f.stringifyByChunk(d,A,v)}catch{v=Math.floor(v/2)}return f.stringifyByChar(d)}n.applyFromCharCode=h;function g(d,v){for(var A=0;A<d.length;A++)v[A]=d[A];return v}var m={};m.string={string:c,array:function(d){return u(d,new Array(d.length))},arraybuffer:function(d){return m.string.uint8array(d).buffer},uint8array:function(d){return u(d,new Uint8Array(d.length))},nodebuffer:function(d){return u(d,r.allocBuffer(d.length))}},m.array={string:h,array:c,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return r.newBufferFrom(d)}},m.arraybuffer={string:function(d){return h(new Uint8Array(d))},array:function(d){return g(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:c,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return r.newBufferFrom(new Uint8Array(d))}},m.uint8array={string:h,array:function(d){return g(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:c,nodebuffer:function(d){return r.newBufferFrom(d)}},m.nodebuffer={string:h,array:function(d){return g(d,new Array(d.length))},arraybuffer:function(d){return m.nodebuffer.uint8array(d).buffer},uint8array:function(d){return g(d,new Uint8Array(d.length))},nodebuffer:c},n.transformTo=function(d,v){if(v||(v=""),!d)return v;n.checkSupport(d);var A=n.getTypeOf(v),C=m[A][d](v);return C},n.resolve=function(d){for(var v=d.split("/"),A=[],C=0;C<v.length;C++){var b=v[C];b==="."||b===""&&C!==0&&C!==v.length-1||(b===".."?A.pop():A.push(b))}return A.join("/")},n.getTypeOf=function(d){if(typeof d=="string")return"string";if(Object.prototype.toString.call(d)==="[object Array]")return"array";if(a.nodebuffer&&r.isBuffer(d))return"nodebuffer";if(a.uint8array&&d instanceof Uint8Array)return"uint8array";if(a.arraybuffer&&d instanceof ArrayBuffer)return"arraybuffer"},n.checkSupport=function(d){var v=a[d.toLowerCase()];if(!v)throw new Error(d+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(d){var v="",A,C;for(C=0;C<(d||"").length;C++)A=d.charCodeAt(C),v+="\\x"+(A<16?"0":"")+A.toString(16).toUpperCase();return v},n.delay=function(d,v,A){setImmediate(function(){d.apply(A||null,v||[])})},n.inherits=function(d,v){var A=function(){};A.prototype=v.prototype,d.prototype=new A},n.extend=function(){var d={},v,A;for(v=0;v<arguments.length;v++)for(A in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],A)&&typeof d[A]>"u"&&(d[A]=arguments[v][A]);return d},n.prepareContent=function(d,v,A,C,b){var E=i.Promise.resolve(v).then(function(D){var N=a.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1);return N&&typeof FileReader<"u"?new i.Promise(function(O,U){var H=new FileReader;H.onload=function(X){O(X.target.result)},H.onerror=function(X){U(X.target.error)},H.readAsArrayBuffer(D)}):D});return E.then(function(D){var N=n.getTypeOf(D);return N?(N==="arraybuffer"?D=n.transformTo("uint8array",D):N==="string"&&(b?D=o.decode(D):A&&C!==!0&&(D=p(D))),D):i.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){var a=e("./reader/readerFor"),o=e("./utils"),r=e("./signature"),i=e("./zipEntry"),p=e("./support");function c(u){this.files=[],this.loadOptions=u}c.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(u)+")")}},isSignature:function(u,f){var h=this.reader.index;this.reader.setIndex(u);var g=this.reader.readString(4),m=g===f;return this.reader.setIndex(h),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),f=p.uint8array?"uint8array":"array",h=o.transformTo(f,u);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u=this.zip64EndOfCentralSize-44,f=0,h,g,m;f<u;)h=this.reader.readInt(2),g=this.reader.readInt(4),m=this.reader.readData(g),this.zip64ExtensibleData[h]={id:h,length:g,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,f;for(u=0;u<this.files.length;u++)f=this.files[u],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)u=new i({zip64:this.zip64},this.loadOptions),u.readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(u<0){var f=!this.isSignature(0,r.LOCAL_FILE_HEADER);throw f?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(u);var h=u;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,u=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),u<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var m=h-g;if(m>0)this.isSignature(h,r.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(u){this.reader=a(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var a=e("./reader/readerFor"),o=e("./utils"),r=e("./compressedObject"),i=e("./crc32"),p=e("./utf8"),c=e("./compressions"),u=e("./support"),f=0,h=3,g=function(d){for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)&&c[v].magic===d)return c[v];return null};function m(d,v){this.options=d,this.loadOptions=v}m.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(d){var v,A;if(d.skip(22),this.fileNameLength=d.readInt(2),A=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(v=g(this.compressionMethod),v===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,v,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var v=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(v),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),d===f&&(this.dosPermissions=this.externalFileAttributes&63),d===h&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var v=d.index+this.extraFieldsLength,A,C,b;for(this.extraFields||(this.extraFields={});d.index+4<v;)A=d.readInt(2),C=d.readInt(2),b=d.readData(C),this.extraFields[A]={id:A,length:C,value:b};d.setIndex(v)},handleUTF8:function(){var d=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var A=o.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var b=o.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var v=a(d.value);return v.readInt(1)!==1||i(this.fileName)!==v.readInt(4)?null:p.utf8decode(v.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var v=a(d.value);return v.readInt(1)!==1||i(this.fileComment)!==v.readInt(4)?null:p.utf8decode(v.readData(d.length-5))}return null}},t.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){var a=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),r=e("./utf8"),i=e("./compressedObject"),p=e("./stream/GenericWorker"),c=function(g,m,d){this.name=g,this.dir=d.dir,this.date=d.date,this.comment=d.comment,this.unixPermissions=d.unixPermissions,this.dosPermissions=d.dosPermissions,this._data=m,this._dataBinary=d.binary,this.options={compression:d.compression,compressionOptions:d.compressionOptions}};c.prototype={internalStream:function(g){var m=null,d="string";try{if(!g)throw new Error("No output type specified.");d=g.toLowerCase();var v=d==="string"||d==="text";(d==="binarystring"||d==="text")&&(d="string"),m=this._decompressWorker();var A=!this._dataBinary;A&&!v&&(m=m.pipe(new r.Utf8EncodeWorker)),!A&&v&&(m=m.pipe(new r.Utf8DecodeWorker))}catch(C){m=new p("error"),m.error(C)}return new a(m,d,"")},async:function(g,m){return this.internalStream(g).accumulate(m)},nodeStream:function(g,m){return this.internalStream(g||"nodebuffer").toNodejsStream(m)},_compressWorker:function(g,m){if(this._data instanceof i&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var d=this._decompressWorker();return this._dataBinary||(d=d.pipe(new r.Utf8EncodeWorker)),i.createWorkerFrom(d,g,m)},_decompressWorker:function(){return this._data instanceof i?this._data.getContentWorker():this._data instanceof p?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)c.prototype[u[h]]=f;t.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,r;if(o){var i=0,p=new o(g),c=a.document.createTextNode("");p.observe(c,{characterData:!0}),r=function(){c.data=i=++i%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var u=new a.MessageChannel;u.port1.onmessage=g,r=function(){u.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?r=function(){var d=a.document.createElement("script");d.onreadystatechange=function(){g(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},a.document.documentElement.appendChild(d)}:r=function(){setTimeout(g,0)};var f,h=[];function g(){f=!0;for(var d,v,A=h.length;A;){for(v=h,h=[],d=-1;++d<A;)v[d]();A=h.length}f=!1}t.exports=m;function m(d){h.push(d)===1&&!f&&r()}}).call(this,typeof ut<"u"?ut:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,t,n){var a=e("immediate");function o(){}var r={},i=["REJECTED"],p=["FULFILLED"],c=["PENDING"];t.exports=u;function u(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,E!==o&&m(this,E)}u.prototype.finally=function(E){if(typeof E!="function")return this;var D=this.constructor;return this.then(N,O);function N(U){function H(){return U}return D.resolve(E()).then(H)}function O(U){function H(){throw U}return D.resolve(E()).then(H)}},u.prototype.catch=function(E){return this.then(null,E)},u.prototype.then=function(E,D){if(typeof E!="function"&&this.state===p||typeof D!="function"&&this.state===i)return this;var N=new this.constructor(o);if(this.state!==c){var O=this.state===p?E:D;h(N,O,this.outcome)}else this.queue.push(new f(N,E,D));return N};function f(E,D,N){this.promise=E,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(E){r.resolve(this.promise,E)},f.prototype.otherCallFulfilled=function(E){h(this.promise,this.onFulfilled,E)},f.prototype.callRejected=function(E){r.reject(this.promise,E)},f.prototype.otherCallRejected=function(E){h(this.promise,this.onRejected,E)};function h(E,D,N){a(function(){var O;try{O=D(N)}catch(U){return r.reject(E,U)}O===E?r.reject(E,new TypeError("Cannot resolve promise with itself")):r.resolve(E,O)})}r.resolve=function(E,D){var N=d(g,D);if(N.status==="error")return r.reject(E,N.value);var O=N.value;if(O)m(E,O);else{E.state=p,E.outcome=D;for(var U=-1,H=E.queue.length;++U<H;)E.queue[U].callFulfilled(D)}return E},r.reject=function(E,D){E.state=i,E.outcome=D;for(var N=-1,O=E.queue.length;++N<O;)E.queue[N].callRejected(D);return E};function g(E){var D=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof D=="function")return function(){D.apply(E,arguments)}}function m(E,D){var N=!1;function O(es){N||(N=!0,r.reject(E,es))}function U(es){N||(N=!0,r.resolve(E,es))}function H(){D(U,O)}var X=d(H);X.status==="error"&&O(X.value)}function d(E,D){var N={};try{N.value=E(D),N.status="success"}catch(O){N.status="error",N.value=O}return N}u.resolve=v;function v(E){return E instanceof this?E:r.resolve(new this(o),E)}u.reject=A;function A(E){var D=new this(o);return r.reject(D,E)}u.all=C;function C(E){var D=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=E.length,O=!1;if(!N)return this.resolve([]);for(var U=new Array(N),H=0,X=-1,es=new this(o);++X<N;)us(E[X],X);return es;function us(ls,hs){D.resolve(ls).then(gs,function(vs){O||(O=!0,r.reject(es,vs))});function gs(vs){U[hs]=vs,++H===N&&!O&&(O=!0,r.resolve(es,U))}}}u.race=b;function b(E){var D=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=E.length,O=!1;if(!N)return this.resolve([]);for(var U=-1,H=new this(o);++U<N;)X(E[U]);return H;function X(es){D.resolve(es).then(function(us){O||(O=!0,r.resolve(H,us))},function(us){O||(O=!0,r.reject(H,us))})}}},{immediate:36}],38:[function(e,t,n){var a=e("./lib/utils/common").assign,o=e("./lib/deflate"),r=e("./lib/inflate"),i=e("./lib/zlib/constants"),p={};a(p,o,r,i),t.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var a=e("./zlib/deflate"),o=e("./utils/common"),r=e("./utils/strings"),i=e("./zlib/messages"),p=e("./zlib/zstream"),c=Object.prototype.toString,u=0,f=4,h=0,g=1,m=2,d=-1,v=0,A=8;function C(N){if(!(this instanceof C))return new C(N);this.options=o.assign({level:d,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},N||{});var O=this.options;O.raw&&O.windowBits>0?O.windowBits=-O.windowBits:O.gzip&&O.windowBits>0&&O.windowBits<16&&(O.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var U=a.deflateInit2(this.strm,O.level,O.method,O.windowBits,O.memLevel,O.strategy);if(U!==h)throw new Error(i[U]);if(O.header&&a.deflateSetHeader(this.strm,O.header),O.dictionary){var H;if(typeof O.dictionary=="string"?H=r.string2buf(O.dictionary):c.call(O.dictionary)==="[object ArrayBuffer]"?H=new Uint8Array(O.dictionary):H=O.dictionary,U=a.deflateSetDictionary(this.strm,H),U!==h)throw new Error(i[U]);this._dict_set=!0}}C.prototype.push=function(N,O){var U=this.strm,H=this.options.chunkSize,X,es;if(this.ended)return!1;es=O===~~O?O:O===!0?f:u,typeof N=="string"?U.input=r.string2buf(N):c.call(N)==="[object ArrayBuffer]"?U.input=new Uint8Array(N):U.input=N,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new o.Buf8(H),U.next_out=0,U.avail_out=H),X=a.deflate(U,es),X!==g&&X!==h)return this.onEnd(X),this.ended=!0,!1;(U.avail_out===0||U.avail_in===0&&(es===f||es===m))&&(this.options.to==="string"?this.onData(r.buf2binstring(o.shrinkBuf(U.output,U.next_out))):this.onData(o.shrinkBuf(U.output,U.next_out)))}while((U.avail_in>0||U.avail_out===0)&&X!==g);return es===f?(X=a.deflateEnd(this.strm),this.onEnd(X),this.ended=!0,X===h):(es===m&&(this.onEnd(h),U.avail_out=0),!0)},C.prototype.onData=function(N){this.chunks.push(N)},C.prototype.onEnd=function(N){N===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg};function b(N,O){var U=new C(O);if(U.push(N,!0),U.err)throw U.msg||i[U.err];return U.result}function E(N,O){return O=O||{},O.raw=!0,b(N,O)}function D(N,O){return O=O||{},O.gzip=!0,b(N,O)}n.Deflate=C,n.deflate=b,n.deflateRaw=E,n.gzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var a=e("./zlib/inflate"),o=e("./utils/common"),r=e("./utils/strings"),i=e("./zlib/constants"),p=e("./zlib/messages"),c=e("./zlib/zstream"),u=e("./zlib/gzheader"),f=Object.prototype.toString;function h(d){if(!(this instanceof h))return new h(d);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},d||{});var v=this.options;v.raw&&v.windowBits>=0&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),v.windowBits>=0&&v.windowBits<16&&!(d&&d.windowBits)&&(v.windowBits+=32),v.windowBits>15&&v.windowBits<48&&(v.windowBits&15||(v.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var A=a.inflateInit2(this.strm,v.windowBits);if(A!==i.Z_OK)throw new Error(p[A]);this.header=new u,a.inflateGetHeader(this.strm,this.header)}h.prototype.push=function(d,v){var A=this.strm,C=this.options.chunkSize,b=this.options.dictionary,E,D,N,O,U,H,X=!1;if(this.ended)return!1;D=v===~~v?v:v===!0?i.Z_FINISH:i.Z_NO_FLUSH,typeof d=="string"?A.input=r.binstring2buf(d):f.call(d)==="[object ArrayBuffer]"?A.input=new Uint8Array(d):A.input=d,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(C),A.next_out=0,A.avail_out=C),E=a.inflate(A,i.Z_NO_FLUSH),E===i.Z_NEED_DICT&&b&&(typeof b=="string"?H=r.string2buf(b):f.call(b)==="[object ArrayBuffer]"?H=new Uint8Array(b):H=b,E=a.inflateSetDictionary(this.strm,H)),E===i.Z_BUF_ERROR&&X===!0&&(E=i.Z_OK,X=!1),E!==i.Z_STREAM_END&&E!==i.Z_OK)return this.onEnd(E),this.ended=!0,!1;A.next_out&&(A.avail_out===0||E===i.Z_STREAM_END||A.avail_in===0&&(D===i.Z_FINISH||D===i.Z_SYNC_FLUSH))&&(this.options.to==="string"?(N=r.utf8border(A.output,A.next_out),O=A.next_out-N,U=r.buf2string(A.output,N),A.next_out=O,A.avail_out=C-O,O&&o.arraySet(A.output,A.output,N,O,0),this.onData(U)):this.onData(o.shrinkBuf(A.output,A.next_out))),A.avail_in===0&&A.avail_out===0&&(X=!0)}while((A.avail_in>0||A.avail_out===0)&&E!==i.Z_STREAM_END);return E===i.Z_STREAM_END&&(D=i.Z_FINISH),D===i.Z_FINISH?(E=a.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===i.Z_OK):(D===i.Z_SYNC_FLUSH&&(this.onEnd(i.Z_OK),A.avail_out=0),!0)},h.prototype.onData=function(d){this.chunks.push(d)},h.prototype.onEnd=function(d){d===i.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg};function g(d,v){var A=new h(v);if(A.push(d,!0),A.err)throw A.msg||p[A.err];return A.result}function m(d,v){return v=v||{},v.raw=!0,g(d,v)}n.Inflate=h,n.inflate=g,n.inflateRaw=m,n.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(i){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var c=p.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var u in c)c.hasOwnProperty(u)&&(i[u]=c[u])}}return i},n.shrinkBuf=function(i,p){return i.length===p?i:i.subarray?i.subarray(0,p):(i.length=p,i)};var o={arraySet:function(i,p,c,u,f){if(p.subarray&&i.subarray){i.set(p.subarray(c,c+u),f);return}for(var h=0;h<u;h++)i[f+h]=p[c+h]},flattenChunks:function(i){var p,c,u,f,h,g;for(u=0,p=0,c=i.length;p<c;p++)u+=i[p].length;for(g=new Uint8Array(u),f=0,p=0,c=i.length;p<c;p++)h=i[p],g.set(h,f),f+=h.length;return g}},r={arraySet:function(i,p,c,u,f){for(var h=0;h<u;h++)i[f+h]=p[c+h]},flattenChunks:function(i){return[].concat.apply([],i)}};n.setTyped=function(i){i?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(a)},{}],42:[function(e,t,n){var a=e("./common"),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var i=new a.Buf8(256),p=0;p<256;p++)i[p]=p>=252?6:p>=248?5:p>=240?4:p>=224?3:p>=192?2:1;i[254]=i[254]=1,n.string2buf=function(u){var f,h,g,m,d,v=u.length,A=0;for(m=0;m<v;m++)h=u.charCodeAt(m),(h&64512)===55296&&m+1<v&&(g=u.charCodeAt(m+1),(g&64512)===56320&&(h=65536+(h-55296<<10)+(g-56320),m++)),A+=h<128?1:h<2048?2:h<65536?3:4;for(f=new a.Buf8(A),d=0,m=0;d<A;m++)h=u.charCodeAt(m),(h&64512)===55296&&m+1<v&&(g=u.charCodeAt(m+1),(g&64512)===56320&&(h=65536+(h-55296<<10)+(g-56320),m++)),h<128?f[d++]=h:h<2048?(f[d++]=192|h>>>6,f[d++]=128|h&63):h<65536?(f[d++]=224|h>>>12,f[d++]=128|h>>>6&63,f[d++]=128|h&63):(f[d++]=240|h>>>18,f[d++]=128|h>>>12&63,f[d++]=128|h>>>6&63,f[d++]=128|h&63);return f};function c(u,f){if(f<65537&&(u.subarray&&r||!u.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(u,f));for(var h="",g=0;g<f;g++)h+=String.fromCharCode(u[g]);return h}n.buf2binstring=function(u){return c(u,u.length)},n.binstring2buf=function(u){for(var f=new a.Buf8(u.length),h=0,g=f.length;h<g;h++)f[h]=u.charCodeAt(h);return f},n.buf2string=function(u,f){var h,g,m,d,v=f||u.length,A=new Array(v*2);for(g=0,h=0;h<v;){if(m=u[h++],m<128){A[g++]=m;continue}if(d=i[m],d>4){A[g++]=65533,h+=d-1;continue}for(m&=d===2?31:d===3?15:7;d>1&&h<v;)m=m<<6|u[h++]&63,d--;if(d>1){A[g++]=65533;continue}m<65536?A[g++]=m:(m-=65536,A[g++]=55296|m>>10&1023,A[g++]=56320|m&1023)}return c(A,g)},n.utf8border=function(u,f){var h;for(f=f||u.length,f>u.length&&(f=u.length),h=f-1;h>=0&&(u[h]&192)===128;)h--;return h<0||h===0?f:h+i[u[h]]>f?h:f}},{"./common":41}],43:[function(e,t,n){function a(o,r,i,p){for(var c=o&65535|0,u=o>>>16&65535|0,f=0;i!==0;){f=i>2e3?2e3:i,i-=f;do c=c+r[p++]|0,u=u+c|0;while(--f);c%=65521,u%=65521}return c|u<<16|0}t.exports=a},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){function a(){for(var i,p=[],c=0;c<256;c++){i=c;for(var u=0;u<8;u++)i=i&1?3988292384^i>>>1:i>>>1;p[c]=i}return p}var o=a();function r(i,p,c,u){var f=o,h=u+c;i^=-1;for(var g=u;g<h;g++)i=i>>>8^f[(i^p[g])&255];return i^-1}t.exports=r},{}],46:[function(e,t,n){var a=e("../utils/common"),o=e("./trees"),r=e("./adler32"),i=e("./crc32"),p=e("./messages"),c=0,u=1,f=3,h=4,g=5,m=0,d=1,v=-2,A=-3,C=-5,b=-1,E=1,D=2,N=3,O=4,U=0,H=2,X=8,es=9,us=15,ls=8,hs=29,gs=256,vs=gs+1+hs,Es=30,Ls=19,Ws=2*vs+1,Hs=15,bs=3,Ps=258,Rs=Ps+bs+1,Is=32,ae=42,Zs=69,Os=73,ve=91,le=103,zs=113,Qs=666,Ms=1,ge=2,re=3,Re=4,Vs=3;function Be(y,J){return y.msg=p[J],J}function Ve(y){return(y<<1)-(y>4?9:0)}function De(y){for(var J=y.length;--J>=0;)y[J]=0}function _e(y){var J=y.state,Q=J.pending;Q>y.avail_out&&(Q=y.avail_out),Q!==0&&(a.arraySet(y.output,J.pending_buf,J.pending_out,Q,y.next_out),y.next_out+=Q,J.pending_out+=Q,y.total_out+=Q,y.avail_out-=Q,J.pending-=Q,J.pending===0&&(J.pending_out=0))}function Xs(y,J){o._tr_flush_block(y,y.block_start>=0?y.block_start:-1,y.strstart-y.block_start,J),y.block_start=y.strstart,_e(y.strm)}function $s(y,J){y.pending_buf[y.pending++]=J}function xe(y,J){y.pending_buf[y.pending++]=J>>>8&255,y.pending_buf[y.pending++]=J&255}function Ne(y,J,Q,k){var M=y.avail_in;return M>k&&(M=k),M===0?0:(y.avail_in-=M,a.arraySet(J,y.input,y.next_in,M,Q),y.state.wrap===1?y.adler=r(y.adler,J,M,Q):y.state.wrap===2&&(y.adler=i(y.adler,J,M,Q)),y.next_in+=M,y.total_in+=M,M)}function Oe(y,J){var Q=y.max_chain_length,k=y.strstart,M,K,Fs=y.prev_length,As=y.nice_match,ms=y.strstart>y.w_size-Rs?y.strstart-(y.w_size-Rs):0,Us=y.window,Ze=y.w_mask,ee=y.prev,js=y.strstart+Ps,Ae=Us[k+Fs-1],oe=Us[k+Fs];y.prev_length>=y.good_match&&(Q>>=2),As>y.lookahead&&(As=y.lookahead);do if(M=J,!(Us[M+Fs]!==oe||Us[M+Fs-1]!==Ae||Us[M]!==Us[k]||Us[++M]!==Us[k+1])){k+=2,M++;do;while(Us[++k]===Us[++M]&&Us[++k]===Us[++M]&&Us[++k]===Us[++M]&&Us[++k]===Us[++M]&&Us[++k]===Us[++M]&&Us[++k]===Us[++M]&&Us[++k]===Us[++M]&&Us[++k]===Us[++M]&&k<js);if(K=Ps-(js-k),k=js-Ps,K>Fs){if(y.match_start=J,Fs=K,K>=As)break;Ae=Us[k+Fs-1],oe=Us[k+Fs]}}while((J=ee[J&Ze])>ms&&--Q!==0);return Fs<=y.lookahead?Fs:y.lookahead}function qe(y){var J=y.w_size,Q,k,M,K,Fs;do{if(K=y.window_size-y.lookahead-y.strstart,y.strstart>=J+(J-Rs)){a.arraySet(y.window,y.window,J,J,0),y.match_start-=J,y.strstart-=J,y.block_start-=J,k=y.hash_size,Q=k;do M=y.head[--Q],y.head[Q]=M>=J?M-J:0;while(--k);k=J,Q=k;do M=y.prev[--Q],y.prev[Q]=M>=J?M-J:0;while(--k);K+=J}if(y.strm.avail_in===0)break;if(k=Ne(y.strm,y.window,y.strstart+y.lookahead,K),y.lookahead+=k,y.lookahead+y.insert>=bs)for(Fs=y.strstart-y.insert,y.ins_h=y.window[Fs],y.ins_h=(y.ins_h<<y.hash_shift^y.window[Fs+1])&y.hash_mask;y.insert&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[Fs+bs-1])&y.hash_mask,y.prev[Fs&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=Fs,Fs++,y.insert--,!(y.lookahead+y.insert<bs)););}while(y.lookahead<Rs&&y.strm.avail_in!==0)}function et(y,J){var Q=65535;for(Q>y.pending_buf_size-5&&(Q=y.pending_buf_size-5);;){if(y.lookahead<=1){if(qe(y),y.lookahead===0&&J===c)return Ms;if(y.lookahead===0)break}y.strstart+=y.lookahead,y.lookahead=0;var k=y.block_start+Q;if((y.strstart===0||y.strstart>=k)&&(y.lookahead=y.strstart-k,y.strstart=k,Xs(y,!1),y.strm.avail_out===0)||y.strstart-y.block_start>=y.w_size-Rs&&(Xs(y,!1),y.strm.avail_out===0))return Ms}return y.insert=0,J===h?(Xs(y,!0),y.strm.avail_out===0?re:Re):(y.strstart>y.block_start&&(Xs(y,!1),y.strm.avail_out===0),Ms)}function se(y,J){for(var Q,k;;){if(y.lookahead<Rs){if(qe(y),y.lookahead<Rs&&J===c)return Ms;if(y.lookahead===0)break}if(Q=0,y.lookahead>=bs&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+bs-1])&y.hash_mask,Q=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),Q!==0&&y.strstart-Q<=y.w_size-Rs&&(y.match_length=Oe(y,Q)),y.match_length>=bs)if(k=o._tr_tally(y,y.strstart-y.match_start,y.match_length-bs),y.lookahead-=y.match_length,y.match_length<=y.max_lazy_match&&y.lookahead>=bs){y.match_length--;do y.strstart++,y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+bs-1])&y.hash_mask,Q=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart;while(--y.match_length!==0);y.strstart++}else y.strstart+=y.match_length,y.match_length=0,y.ins_h=y.window[y.strstart],y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+1])&y.hash_mask;else k=o._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++;if(k&&(Xs(y,!1),y.strm.avail_out===0))return Ms}return y.insert=y.strstart<bs-1?y.strstart:bs-1,J===h?(Xs(y,!0),y.strm.avail_out===0?re:Re):y.last_lit&&(Xs(y,!1),y.strm.avail_out===0)?Ms:ge}function Fe(y,J){for(var Q,k,M;;){if(y.lookahead<Rs){if(qe(y),y.lookahead<Rs&&J===c)return Ms;if(y.lookahead===0)break}if(Q=0,y.lookahead>=bs&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+bs-1])&y.hash_mask,Q=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),y.prev_length=y.match_length,y.prev_match=y.match_start,y.match_length=bs-1,Q!==0&&y.prev_length<y.max_lazy_match&&y.strstart-Q<=y.w_size-Rs&&(y.match_length=Oe(y,Q),y.match_length<=5&&(y.strategy===E||y.match_length===bs&&y.strstart-y.match_start>4096)&&(y.match_length=bs-1)),y.prev_length>=bs&&y.match_length<=y.prev_length){M=y.strstart+y.lookahead-bs,k=o._tr_tally(y,y.strstart-1-y.prev_match,y.prev_length-bs),y.lookahead-=y.prev_length-1,y.prev_length-=2;do++y.strstart<=M&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+bs-1])&y.hash_mask,Q=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart);while(--y.prev_length!==0);if(y.match_available=0,y.match_length=bs-1,y.strstart++,k&&(Xs(y,!1),y.strm.avail_out===0))return Ms}else if(y.match_available){if(k=o._tr_tally(y,0,y.window[y.strstart-1]),k&&Xs(y,!1),y.strstart++,y.lookahead--,y.strm.avail_out===0)return Ms}else y.match_available=1,y.strstart++,y.lookahead--}return y.match_available&&(k=o._tr_tally(y,0,y.window[y.strstart-1]),y.match_available=0),y.insert=y.strstart<bs-1?y.strstart:bs-1,J===h?(Xs(y,!0),y.strm.avail_out===0?re:Re):y.last_lit&&(Xs(y,!1),y.strm.avail_out===0)?Ms:ge}function at(y,J){for(var Q,k,M,K,Fs=y.window;;){if(y.lookahead<=Ps){if(qe(y),y.lookahead<=Ps&&J===c)return Ms;if(y.lookahead===0)break}if(y.match_length=0,y.lookahead>=bs&&y.strstart>0&&(M=y.strstart-1,k=Fs[M],k===Fs[++M]&&k===Fs[++M]&&k===Fs[++M])){K=y.strstart+Ps;do;while(k===Fs[++M]&&k===Fs[++M]&&k===Fs[++M]&&k===Fs[++M]&&k===Fs[++M]&&k===Fs[++M]&&k===Fs[++M]&&k===Fs[++M]&&M<K);y.match_length=Ps-(K-M),y.match_length>y.lookahead&&(y.match_length=y.lookahead)}if(y.match_length>=bs?(Q=o._tr_tally(y,1,y.match_length-bs),y.lookahead-=y.match_length,y.strstart+=y.match_length,y.match_length=0):(Q=o._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++),Q&&(Xs(y,!1),y.strm.avail_out===0))return Ms}return y.insert=0,J===h?(Xs(y,!0),y.strm.avail_out===0?re:Re):y.last_lit&&(Xs(y,!1),y.strm.avail_out===0)?Ms:ge}function We(y,J){for(var Q;;){if(y.lookahead===0&&(qe(y),y.lookahead===0)){if(J===c)return Ms;break}if(y.match_length=0,Q=o._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++,Q&&(Xs(y,!1),y.strm.avail_out===0))return Ms}return y.insert=0,J===h?(Xs(y,!0),y.strm.avail_out===0?re:Re):y.last_lit&&(Xs(y,!1),y.strm.avail_out===0)?Ms:ge}function Ee(y,J,Q,k,M){this.good_length=y,this.max_lazy=J,this.nice_length=Q,this.max_chain=k,this.func=M}var ze;ze=[new Ee(0,0,0,0,et),new Ee(4,4,8,4,se),new Ee(4,5,16,8,se),new Ee(4,6,32,32,se),new Ee(4,4,16,16,Fe),new Ee(8,16,32,32,Fe),new Ee(8,16,128,128,Fe),new Ee(8,32,128,256,Fe),new Ee(32,128,258,1024,Fe),new Ee(32,258,258,4096,Fe)];function lt(y){y.window_size=2*y.w_size,De(y.head),y.max_lazy_match=ze[y.level].max_lazy,y.good_match=ze[y.level].good_length,y.nice_match=ze[y.level].nice_length,y.max_chain_length=ze[y.level].max_chain,y.strstart=0,y.block_start=0,y.lookahead=0,y.insert=0,y.match_length=y.prev_length=bs-1,y.match_available=0,y.ins_h=0}function S(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=X,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(Ws*2),this.dyn_dtree=new a.Buf16((2*Es+1)*2),this.bl_tree=new a.Buf16((2*Ls+1)*2),De(this.dyn_ltree),De(this.dyn_dtree),De(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(Hs+1),this.heap=new a.Buf16(2*vs+1),De(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*vs+1),De(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function as(y){var J;return!y||!y.state?Be(y,v):(y.total_in=y.total_out=0,y.data_type=H,J=y.state,J.pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?ae:zs,y.adler=J.wrap===2?0:1,J.last_flush=c,o._tr_init(J),m)}function is(y){var J=as(y);return J===m&&lt(y.state),J}function Ds(y,J){return!y||!y.state||y.state.wrap!==2?v:(y.state.gzhead=J,m)}function V(y,J,Q,k,M,K){if(!y)return v;var Fs=1;if(J===b&&(J=6),k<0?(Fs=0,k=-k):k>15&&(Fs=2,k-=16),M<1||M>es||Q!==X||k<8||k>15||J<0||J>9||K<0||K>O)return Be(y,v);k===8&&(k=9);var As=new S;return y.state=As,As.strm=y,As.wrap=Fs,As.gzhead=null,As.w_bits=k,As.w_size=1<<As.w_bits,As.w_mask=As.w_size-1,As.hash_bits=M+7,As.hash_size=1<<As.hash_bits,As.hash_mask=As.hash_size-1,As.hash_shift=~~((As.hash_bits+bs-1)/bs),As.window=new a.Buf8(As.w_size*2),As.head=new a.Buf16(As.hash_size),As.prev=new a.Buf16(As.w_size),As.lit_bufsize=1<<M+6,As.pending_buf_size=As.lit_bufsize*4,As.pending_buf=new a.Buf8(As.pending_buf_size),As.d_buf=1*As.lit_bufsize,As.l_buf=(1+2)*As.lit_bufsize,As.level=J,As.strategy=K,As.method=Q,is(y)}function ts(y,J){return V(y,J,X,us,ls,U)}function w(y,J){var Q,k,M,K;if(!y||!y.state||J>g||J<0)return y?Be(y,v):v;if(k=y.state,!y.output||!y.input&&y.avail_in!==0||k.status===Qs&&J!==h)return Be(y,y.avail_out===0?C:v);if(k.strm=y,Q=k.last_flush,k.last_flush=J,k.status===ae)if(k.wrap===2)y.adler=0,$s(k,31),$s(k,139),$s(k,8),k.gzhead?($s(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),$s(k,k.gzhead.time&255),$s(k,k.gzhead.time>>8&255),$s(k,k.gzhead.time>>16&255),$s(k,k.gzhead.time>>24&255),$s(k,k.level===9?2:k.strategy>=D||k.level<2?4:0),$s(k,k.gzhead.os&255),k.gzhead.extra&&k.gzhead.extra.length&&($s(k,k.gzhead.extra.length&255),$s(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(y.adler=i(y.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=Zs):($s(k,0),$s(k,0),$s(k,0),$s(k,0),$s(k,0),$s(k,k.level===9?2:k.strategy>=D||k.level<2?4:0),$s(k,Vs),k.status=zs);else{var Fs=X+(k.w_bits-8<<4)<<8,As=-1;k.strategy>=D||k.level<2?As=0:k.level<6?As=1:k.level===6?As=2:As=3,Fs|=As<<6,k.strstart!==0&&(Fs|=Is),Fs+=31-Fs%31,k.status=zs,xe(k,Fs),k.strstart!==0&&(xe(k,y.adler>>>16),xe(k,y.adler&65535)),y.adler=1}if(k.status===Zs)if(k.gzhead.extra){for(M=k.pending;k.gzindex<(k.gzhead.extra.length&65535)&&!(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>M&&(y.adler=i(y.adler,k.pending_buf,k.pending-M,M)),_e(y),M=k.pending,k.pending===k.pending_buf_size));)$s(k,k.gzhead.extra[k.gzindex]&255),k.gzindex++;k.gzhead.hcrc&&k.pending>M&&(y.adler=i(y.adler,k.pending_buf,k.pending-M,M)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=Os)}else k.status=Os;if(k.status===Os)if(k.gzhead.name){M=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>M&&(y.adler=i(y.adler,k.pending_buf,k.pending-M,M)),_e(y),M=k.pending,k.pending===k.pending_buf_size)){K=1;break}k.gzindex<k.gzhead.name.length?K=k.gzhead.name.charCodeAt(k.gzindex++)&255:K=0,$s(k,K)}while(K!==0);k.gzhead.hcrc&&k.pending>M&&(y.adler=i(y.adler,k.pending_buf,k.pending-M,M)),K===0&&(k.gzindex=0,k.status=ve)}else k.status=ve;if(k.status===ve)if(k.gzhead.comment){M=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>M&&(y.adler=i(y.adler,k.pending_buf,k.pending-M,M)),_e(y),M=k.pending,k.pending===k.pending_buf_size)){K=1;break}k.gzindex<k.gzhead.comment.length?K=k.gzhead.comment.charCodeAt(k.gzindex++)&255:K=0,$s(k,K)}while(K!==0);k.gzhead.hcrc&&k.pending>M&&(y.adler=i(y.adler,k.pending_buf,k.pending-M,M)),K===0&&(k.status=le)}else k.status=le;if(k.status===le&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&_e(y),k.pending+2<=k.pending_buf_size&&($s(k,y.adler&255),$s(k,y.adler>>8&255),y.adler=0,k.status=zs)):k.status=zs),k.pending!==0){if(_e(y),y.avail_out===0)return k.last_flush=-1,m}else if(y.avail_in===0&&Ve(J)<=Ve(Q)&&J!==h)return Be(y,C);if(k.status===Qs&&y.avail_in!==0)return Be(y,C);if(y.avail_in!==0||k.lookahead!==0||J!==c&&k.status!==Qs){var ms=k.strategy===D?We(k,J):k.strategy===N?at(k,J):ze[k.level].func(k,J);if((ms===re||ms===Re)&&(k.status=Qs),ms===Ms||ms===re)return y.avail_out===0&&(k.last_flush=-1),m;if(ms===ge&&(J===u?o._tr_align(k):J!==g&&(o._tr_stored_block(k,0,0,!1),J===f&&(De(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),_e(y),y.avail_out===0))return k.last_flush=-1,m}return J!==h?m:k.wrap<=0?d:(k.wrap===2?($s(k,y.adler&255),$s(k,y.adler>>8&255),$s(k,y.adler>>16&255),$s(k,y.adler>>24&255),$s(k,y.total_in&255),$s(k,y.total_in>>8&255),$s(k,y.total_in>>16&255),$s(k,y.total_in>>24&255)):(xe(k,y.adler>>>16),xe(k,y.adler&65535)),_e(y),k.wrap>0&&(k.wrap=-k.wrap),k.pending!==0?m:d)}function os(y){var J;return!y||!y.state?v:(J=y.state.status,J!==ae&&J!==Zs&&J!==Os&&J!==ve&&J!==le&&J!==zs&&J!==Qs?Be(y,v):(y.state=null,J===zs?Be(y,A):m))}function Ss(y,J){var Q=J.length,k,M,K,Fs,As,ms,Us,Ze;if(!y||!y.state||(k=y.state,Fs=k.wrap,Fs===2||Fs===1&&k.status!==ae||k.lookahead))return v;for(Fs===1&&(y.adler=r(y.adler,J,Q,0)),k.wrap=0,Q>=k.w_size&&(Fs===0&&(De(k.head),k.strstart=0,k.block_start=0,k.insert=0),Ze=new a.Buf8(k.w_size),a.arraySet(Ze,J,Q-k.w_size,k.w_size,0),J=Ze,Q=k.w_size),As=y.avail_in,ms=y.next_in,Us=y.input,y.avail_in=Q,y.next_in=0,y.input=J,qe(k);k.lookahead>=bs;){M=k.strstart,K=k.lookahead-(bs-1);do k.ins_h=(k.ins_h<<k.hash_shift^k.window[M+bs-1])&k.hash_mask,k.prev[M&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=M,M++;while(--K);k.strstart=M,k.lookahead=bs-1,qe(k)}return k.strstart+=k.lookahead,k.block_start=k.strstart,k.insert=k.lookahead,k.lookahead=0,k.match_length=k.prev_length=bs-1,k.match_available=0,y.next_in=ms,y.input=Us,y.avail_in=As,k.wrap=Fs,m}n.deflateInit=ts,n.deflateInit2=V,n.deflateReset=is,n.deflateResetKeep=as,n.deflateSetHeader=Ds,n.deflate=w,n.deflateEnd=os,n.deflateSetDictionary=Ss,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){function a(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=a},{}],48:[function(e,t,n){var a=30,o=12;t.exports=function(i,p){var c,u,f,h,g,m,d,v,A,C,b,E,D,N,O,U,H,X,es,us,ls,hs,gs,vs,Es;c=i.state,u=i.next_in,vs=i.input,f=u+(i.avail_in-5),h=i.next_out,Es=i.output,g=h-(p-i.avail_out),m=h+(i.avail_out-257),d=c.dmax,v=c.wsize,A=c.whave,C=c.wnext,b=c.window,E=c.hold,D=c.bits,N=c.lencode,O=c.distcode,U=(1<<c.lenbits)-1,H=(1<<c.distbits)-1;s:do{D<15&&(E+=vs[u++]<<D,D+=8,E+=vs[u++]<<D,D+=8),X=N[E&U];e:for(;;){if(es=X>>>24,E>>>=es,D-=es,es=X>>>16&255,es===0)Es[h++]=X&65535;else if(es&16){us=X&65535,es&=15,es&&(D<es&&(E+=vs[u++]<<D,D+=8),us+=E&(1<<es)-1,E>>>=es,D-=es),D<15&&(E+=vs[u++]<<D,D+=8,E+=vs[u++]<<D,D+=8),X=O[E&H];t:for(;;){if(es=X>>>24,E>>>=es,D-=es,es=X>>>16&255,es&16){if(ls=X&65535,es&=15,D<es&&(E+=vs[u++]<<D,D+=8,D<es&&(E+=vs[u++]<<D,D+=8)),ls+=E&(1<<es)-1,ls>d){i.msg="invalid distance too far back",c.mode=a;break s}if(E>>>=es,D-=es,es=h-g,ls>es){if(es=ls-es,es>A&&c.sane){i.msg="invalid distance too far back",c.mode=a;break s}if(hs=0,gs=b,C===0){if(hs+=v-es,es<us){us-=es;do Es[h++]=b[hs++];while(--es);hs=h-ls,gs=Es}}else if(C<es){if(hs+=v+C-es,es-=C,es<us){us-=es;do Es[h++]=b[hs++];while(--es);if(hs=0,C<us){es=C,us-=es;do Es[h++]=b[hs++];while(--es);hs=h-ls,gs=Es}}}else if(hs+=C-es,es<us){us-=es;do Es[h++]=b[hs++];while(--es);hs=h-ls,gs=Es}for(;us>2;)Es[h++]=gs[hs++],Es[h++]=gs[hs++],Es[h++]=gs[hs++],us-=3;us&&(Es[h++]=gs[hs++],us>1&&(Es[h++]=gs[hs++]))}else{hs=h-ls;do Es[h++]=Es[hs++],Es[h++]=Es[hs++],Es[h++]=Es[hs++],us-=3;while(us>2);us&&(Es[h++]=Es[hs++],us>1&&(Es[h++]=Es[hs++]))}}else if(es&64){i.msg="invalid distance code",c.mode=a;break s}else{X=O[(X&65535)+(E&(1<<es)-1)];continue t}break}}else if(es&64)if(es&32){c.mode=o;break s}else{i.msg="invalid literal/length code",c.mode=a;break s}else{X=N[(X&65535)+(E&(1<<es)-1)];continue e}break}}while(u<f&&h<m);us=D>>3,u-=us,D-=us<<3,E&=(1<<D)-1,i.next_in=u,i.next_out=h,i.avail_in=u<f?5+(f-u):5-(u-f),i.avail_out=h<m?257+(m-h):257-(h-m),c.hold=E,c.bits=D}},{}],49:[function(e,t,n){var a=e("../utils/common"),o=e("./adler32"),r=e("./crc32"),i=e("./inffast"),p=e("./inftrees"),c=0,u=1,f=2,h=4,g=5,m=6,d=0,v=1,A=2,C=-2,b=-3,E=-4,D=-5,N=8,O=1,U=2,H=3,X=4,es=5,us=6,ls=7,hs=8,gs=9,vs=10,Es=11,Ls=12,Ws=13,Hs=14,bs=15,Ps=16,Rs=17,Is=18,ae=19,Zs=20,Os=21,ve=22,le=23,zs=24,Qs=25,Ms=26,ge=27,re=28,Re=29,Vs=30,Be=31,Ve=32,De=852,_e=592,Xs=15,$s=Xs;function xe(V){return(V>>>24&255)+(V>>>8&65280)+((V&65280)<<8)+((V&255)<<24)}function Ne(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Oe(V){var ts;return!V||!V.state?C:(ts=V.state,V.total_in=V.total_out=ts.total=0,V.msg="",ts.wrap&&(V.adler=ts.wrap&1),ts.mode=O,ts.last=0,ts.havedict=0,ts.dmax=32768,ts.head=null,ts.hold=0,ts.bits=0,ts.lencode=ts.lendyn=new a.Buf32(De),ts.distcode=ts.distdyn=new a.Buf32(_e),ts.sane=1,ts.back=-1,d)}function qe(V){var ts;return!V||!V.state?C:(ts=V.state,ts.wsize=0,ts.whave=0,ts.wnext=0,Oe(V))}function et(V,ts){var w,os;return!V||!V.state||(os=V.state,ts<0?(w=0,ts=-ts):(w=(ts>>4)+1,ts<48&&(ts&=15)),ts&&(ts<8||ts>15))?C:(os.window!==null&&os.wbits!==ts&&(os.window=null),os.wrap=w,os.wbits=ts,qe(V))}function se(V,ts){var w,os;return V?(os=new Ne,V.state=os,os.window=null,w=et(V,ts),w!==d&&(V.state=null),w):C}function Fe(V){return se(V,$s)}var at=!0,We,Ee;function ze(V){if(at){var ts;for(We=new a.Buf32(512),Ee=new a.Buf32(32),ts=0;ts<144;)V.lens[ts++]=8;for(;ts<256;)V.lens[ts++]=9;for(;ts<280;)V.lens[ts++]=7;for(;ts<288;)V.lens[ts++]=8;for(p(u,V.lens,0,288,We,0,V.work,{bits:9}),ts=0;ts<32;)V.lens[ts++]=5;p(f,V.lens,0,32,Ee,0,V.work,{bits:5}),at=!1}V.lencode=We,V.lenbits=9,V.distcode=Ee,V.distbits=5}function lt(V,ts,w,os){var Ss,y=V.state;return y.window===null&&(y.wsize=1<<y.wbits,y.wnext=0,y.whave=0,y.window=new a.Buf8(y.wsize)),os>=y.wsize?(a.arraySet(y.window,ts,w-y.wsize,y.wsize,0),y.wnext=0,y.whave=y.wsize):(Ss=y.wsize-y.wnext,Ss>os&&(Ss=os),a.arraySet(y.window,ts,w-os,Ss,y.wnext),os-=Ss,os?(a.arraySet(y.window,ts,w-os,os,0),y.wnext=os,y.whave=y.wsize):(y.wnext+=Ss,y.wnext===y.wsize&&(y.wnext=0),y.whave<y.wsize&&(y.whave+=Ss))),0}function S(V,ts){var w,os,Ss,y,J,Q,k,M,K,Fs,As,ms,Us,Ze,ee=0,js,Ae,oe,Ce,Tt,gt,ie,$e,ue=new a.Buf8(4),Ge,Ie,xn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!V||!V.state||!V.output||!V.input&&V.avail_in!==0)return C;w=V.state,w.mode===Ls&&(w.mode=Ws),J=V.next_out,Ss=V.output,k=V.avail_out,y=V.next_in,os=V.input,Q=V.avail_in,M=w.hold,K=w.bits,Fs=Q,As=k,$e=d;s:for(;;)switch(w.mode){case O:if(w.wrap===0){w.mode=Ws;break}for(;K<16;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}if(w.wrap&2&&M===35615){w.check=0,ue[0]=M&255,ue[1]=M>>>8&255,w.check=r(w.check,ue,2,0),M=0,K=0,w.mode=U;break}if(w.flags=0,w.head&&(w.head.done=!1),!(w.wrap&1)||(((M&255)<<8)+(M>>8))%31){V.msg="incorrect header check",w.mode=Vs;break}if((M&15)!==N){V.msg="unknown compression method",w.mode=Vs;break}if(M>>>=4,K-=4,ie=(M&15)+8,w.wbits===0)w.wbits=ie;else if(ie>w.wbits){V.msg="invalid window size",w.mode=Vs;break}w.dmax=1<<ie,V.adler=w.check=1,w.mode=M&512?vs:Ls,M=0,K=0;break;case U:for(;K<16;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}if(w.flags=M,(w.flags&255)!==N){V.msg="unknown compression method",w.mode=Vs;break}if(w.flags&57344){V.msg="unknown header flags set",w.mode=Vs;break}w.head&&(w.head.text=M>>8&1),w.flags&512&&(ue[0]=M&255,ue[1]=M>>>8&255,w.check=r(w.check,ue,2,0)),M=0,K=0,w.mode=H;case H:for(;K<32;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}w.head&&(w.head.time=M),w.flags&512&&(ue[0]=M&255,ue[1]=M>>>8&255,ue[2]=M>>>16&255,ue[3]=M>>>24&255,w.check=r(w.check,ue,4,0)),M=0,K=0,w.mode=X;case X:for(;K<16;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}w.head&&(w.head.xflags=M&255,w.head.os=M>>8),w.flags&512&&(ue[0]=M&255,ue[1]=M>>>8&255,w.check=r(w.check,ue,2,0)),M=0,K=0,w.mode=es;case es:if(w.flags&1024){for(;K<16;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}w.length=M,w.head&&(w.head.extra_len=M),w.flags&512&&(ue[0]=M&255,ue[1]=M>>>8&255,w.check=r(w.check,ue,2,0)),M=0,K=0}else w.head&&(w.head.extra=null);w.mode=us;case us:if(w.flags&1024&&(ms=w.length,ms>Q&&(ms=Q),ms&&(w.head&&(ie=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),a.arraySet(w.head.extra,os,y,ms,ie)),w.flags&512&&(w.check=r(w.check,os,ms,y)),Q-=ms,y+=ms,w.length-=ms),w.length))break s;w.length=0,w.mode=ls;case ls:if(w.flags&2048){if(Q===0)break s;ms=0;do ie=os[y+ms++],w.head&&ie&&w.length<65536&&(w.head.name+=String.fromCharCode(ie));while(ie&&ms<Q);if(w.flags&512&&(w.check=r(w.check,os,ms,y)),Q-=ms,y+=ms,ie)break s}else w.head&&(w.head.name=null);w.length=0,w.mode=hs;case hs:if(w.flags&4096){if(Q===0)break s;ms=0;do ie=os[y+ms++],w.head&&ie&&w.length<65536&&(w.head.comment+=String.fromCharCode(ie));while(ie&&ms<Q);if(w.flags&512&&(w.check=r(w.check,os,ms,y)),Q-=ms,y+=ms,ie)break s}else w.head&&(w.head.comment=null);w.mode=gs;case gs:if(w.flags&512){for(;K<16;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}if(M!==(w.check&65535)){V.msg="header crc mismatch",w.mode=Vs;break}M=0,K=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),V.adler=w.check=0,w.mode=Ls;break;case vs:for(;K<32;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}V.adler=w.check=xe(M),M=0,K=0,w.mode=Es;case Es:if(w.havedict===0)return V.next_out=J,V.avail_out=k,V.next_in=y,V.avail_in=Q,w.hold=M,w.bits=K,A;V.adler=w.check=1,w.mode=Ls;case Ls:if(ts===g||ts===m)break s;case Ws:if(w.last){M>>>=K&7,K-=K&7,w.mode=ge;break}for(;K<3;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}switch(w.last=M&1,M>>>=1,K-=1,M&3){case 0:w.mode=Hs;break;case 1:if(ze(w),w.mode=Zs,ts===m){M>>>=2,K-=2;break s}break;case 2:w.mode=Rs;break;case 3:V.msg="invalid block type",w.mode=Vs}M>>>=2,K-=2;break;case Hs:for(M>>>=K&7,K-=K&7;K<32;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}if((M&65535)!==(M>>>16^65535)){V.msg="invalid stored block lengths",w.mode=Vs;break}if(w.length=M&65535,M=0,K=0,w.mode=bs,ts===m)break s;case bs:w.mode=Ps;case Ps:if(ms=w.length,ms){if(ms>Q&&(ms=Q),ms>k&&(ms=k),ms===0)break s;a.arraySet(Ss,os,y,ms,J),Q-=ms,y+=ms,k-=ms,J+=ms,w.length-=ms;break}w.mode=Ls;break;case Rs:for(;K<14;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}if(w.nlen=(M&31)+257,M>>>=5,K-=5,w.ndist=(M&31)+1,M>>>=5,K-=5,w.ncode=(M&15)+4,M>>>=4,K-=4,w.nlen>286||w.ndist>30){V.msg="too many length or distance symbols",w.mode=Vs;break}w.have=0,w.mode=Is;case Is:for(;w.have<w.ncode;){for(;K<3;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}w.lens[xn[w.have++]]=M&7,M>>>=3,K-=3}for(;w.have<19;)w.lens[xn[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,Ge={bits:w.lenbits},$e=p(c,w.lens,0,19,w.lencode,0,w.work,Ge),w.lenbits=Ge.bits,$e){V.msg="invalid code lengths set",w.mode=Vs;break}w.have=0,w.mode=ae;case ae:for(;w.have<w.nlen+w.ndist;){for(;ee=w.lencode[M&(1<<w.lenbits)-1],js=ee>>>24,Ae=ee>>>16&255,oe=ee&65535,!(js<=K);){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}if(oe<16)M>>>=js,K-=js,w.lens[w.have++]=oe;else{if(oe===16){for(Ie=js+2;K<Ie;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}if(M>>>=js,K-=js,w.have===0){V.msg="invalid bit length repeat",w.mode=Vs;break}ie=w.lens[w.have-1],ms=3+(M&3),M>>>=2,K-=2}else if(oe===17){for(Ie=js+3;K<Ie;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}M>>>=js,K-=js,ie=0,ms=3+(M&7),M>>>=3,K-=3}else{for(Ie=js+7;K<Ie;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}M>>>=js,K-=js,ie=0,ms=11+(M&127),M>>>=7,K-=7}if(w.have+ms>w.nlen+w.ndist){V.msg="invalid bit length repeat",w.mode=Vs;break}for(;ms--;)w.lens[w.have++]=ie}}if(w.mode===Vs)break;if(w.lens[256]===0){V.msg="invalid code -- missing end-of-block",w.mode=Vs;break}if(w.lenbits=9,Ge={bits:w.lenbits},$e=p(u,w.lens,0,w.nlen,w.lencode,0,w.work,Ge),w.lenbits=Ge.bits,$e){V.msg="invalid literal/lengths set",w.mode=Vs;break}if(w.distbits=6,w.distcode=w.distdyn,Ge={bits:w.distbits},$e=p(f,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,Ge),w.distbits=Ge.bits,$e){V.msg="invalid distances set",w.mode=Vs;break}if(w.mode=Zs,ts===m)break s;case Zs:w.mode=Os;case Os:if(Q>=6&&k>=258){V.next_out=J,V.avail_out=k,V.next_in=y,V.avail_in=Q,w.hold=M,w.bits=K,i(V,As),J=V.next_out,Ss=V.output,k=V.avail_out,y=V.next_in,os=V.input,Q=V.avail_in,M=w.hold,K=w.bits,w.mode===Ls&&(w.back=-1);break}for(w.back=0;ee=w.lencode[M&(1<<w.lenbits)-1],js=ee>>>24,Ae=ee>>>16&255,oe=ee&65535,!(js<=K);){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}if(Ae&&!(Ae&240)){for(Ce=js,Tt=Ae,gt=oe;ee=w.lencode[gt+((M&(1<<Ce+Tt)-1)>>Ce)],js=ee>>>24,Ae=ee>>>16&255,oe=ee&65535,!(Ce+js<=K);){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}M>>>=Ce,K-=Ce,w.back+=Ce}if(M>>>=js,K-=js,w.back+=js,w.length=oe,Ae===0){w.mode=Ms;break}if(Ae&32){w.back=-1,w.mode=Ls;break}if(Ae&64){V.msg="invalid literal/length code",w.mode=Vs;break}w.extra=Ae&15,w.mode=ve;case ve:if(w.extra){for(Ie=w.extra;K<Ie;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}w.length+=M&(1<<w.extra)-1,M>>>=w.extra,K-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=le;case le:for(;ee=w.distcode[M&(1<<w.distbits)-1],js=ee>>>24,Ae=ee>>>16&255,oe=ee&65535,!(js<=K);){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}if(!(Ae&240)){for(Ce=js,Tt=Ae,gt=oe;ee=w.distcode[gt+((M&(1<<Ce+Tt)-1)>>Ce)],js=ee>>>24,Ae=ee>>>16&255,oe=ee&65535,!(Ce+js<=K);){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}M>>>=Ce,K-=Ce,w.back+=Ce}if(M>>>=js,K-=js,w.back+=js,Ae&64){V.msg="invalid distance code",w.mode=Vs;break}w.offset=oe,w.extra=Ae&15,w.mode=zs;case zs:if(w.extra){for(Ie=w.extra;K<Ie;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}w.offset+=M&(1<<w.extra)-1,M>>>=w.extra,K-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){V.msg="invalid distance too far back",w.mode=Vs;break}w.mode=Qs;case Qs:if(k===0)break s;if(ms=As-k,w.offset>ms){if(ms=w.offset-ms,ms>w.whave&&w.sane){V.msg="invalid distance too far back",w.mode=Vs;break}ms>w.wnext?(ms-=w.wnext,Us=w.wsize-ms):Us=w.wnext-ms,ms>w.length&&(ms=w.length),Ze=w.window}else Ze=Ss,Us=J-w.offset,ms=w.length;ms>k&&(ms=k),k-=ms,w.length-=ms;do Ss[J++]=Ze[Us++];while(--ms);w.length===0&&(w.mode=Os);break;case Ms:if(k===0)break s;Ss[J++]=w.length,k--,w.mode=Os;break;case ge:if(w.wrap){for(;K<32;){if(Q===0)break s;Q--,M|=os[y++]<<K,K+=8}if(As-=k,V.total_out+=As,w.total+=As,As&&(V.adler=w.check=w.flags?r(w.check,Ss,As,J-As):o(w.check,Ss,As,J-As)),As=k,(w.flags?M:xe(M))!==w.check){V.msg="incorrect data check",w.mode=Vs;break}M=0,K=0}w.mode=re;case re:if(w.wrap&&w.flags){for(;K<32;){if(Q===0)break s;Q--,M+=os[y++]<<K,K+=8}if(M!==(w.total&4294967295)){V.msg="incorrect length check",w.mode=Vs;break}M=0,K=0}w.mode=Re;case Re:$e=v;break s;case Vs:$e=b;break s;case Be:return E;case Ve:default:return C}return V.next_out=J,V.avail_out=k,V.next_in=y,V.avail_in=Q,w.hold=M,w.bits=K,(w.wsize||As!==V.avail_out&&w.mode<Vs&&(w.mode<ge||ts!==h))&&lt(V,V.output,V.next_out,As-V.avail_out),Fs-=V.avail_in,As-=V.avail_out,V.total_in+=Fs,V.total_out+=As,w.total+=As,w.wrap&&As&&(V.adler=w.check=w.flags?r(w.check,Ss,As,V.next_out-As):o(w.check,Ss,As,V.next_out-As)),V.data_type=w.bits+(w.last?64:0)+(w.mode===Ls?128:0)+(w.mode===Zs||w.mode===bs?256:0),(Fs===0&&As===0||ts===h)&&$e===d&&($e=D),$e}function as(V){if(!V||!V.state)return C;var ts=V.state;return ts.window&&(ts.window=null),V.state=null,d}function is(V,ts){var w;return!V||!V.state||(w=V.state,!(w.wrap&2))?C:(w.head=ts,ts.done=!1,d)}function Ds(V,ts){var w=ts.length,os,Ss,y;return!V||!V.state||(os=V.state,os.wrap!==0&&os.mode!==Es)?C:os.mode===Es&&(Ss=1,Ss=o(Ss,ts,w,0),Ss!==os.check)?b:(y=lt(V,ts,w,w),y?(os.mode=Be,E):(os.havedict=1,d))}n.inflateReset=qe,n.inflateReset2=et,n.inflateResetKeep=Oe,n.inflateInit=Fe,n.inflateInit2=se,n.inflate=S,n.inflateEnd=as,n.inflateGetHeader=is,n.inflateSetDictionary=Ds,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var a=e("../utils/common"),o=15,r=852,i=592,p=0,c=1,u=2,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(v,A,C,b,E,D,N,O){var U=O.bits,H=0,X=0,es=0,us=0,ls=0,hs=0,gs=0,vs=0,Es=0,Ls=0,Ws,Hs,bs,Ps,Rs,Is=null,ae=0,Zs,Os=new a.Buf16(o+1),ve=new a.Buf16(o+1),le=null,zs=0,Qs,Ms,ge;for(H=0;H<=o;H++)Os[H]=0;for(X=0;X<b;X++)Os[A[C+X]]++;for(ls=U,us=o;us>=1&&Os[us]===0;us--);if(ls>us&&(ls=us),us===0)return E[D++]=1<<24|64<<16|0,E[D++]=1<<24|64<<16|0,O.bits=1,0;for(es=1;es<us&&Os[es]===0;es++);for(ls<es&&(ls=es),vs=1,H=1;H<=o;H++)if(vs<<=1,vs-=Os[H],vs<0)return-1;if(vs>0&&(v===p||us!==1))return-1;for(ve[1]=0,H=1;H<o;H++)ve[H+1]=ve[H]+Os[H];for(X=0;X<b;X++)A[C+X]!==0&&(N[ve[A[C+X]]++]=X);if(v===p?(Is=le=N,Zs=19):v===c?(Is=f,ae-=257,le=h,zs-=257,Zs=256):(Is=g,le=m,Zs=-1),Ls=0,X=0,H=es,Rs=D,hs=ls,gs=0,bs=-1,Es=1<<ls,Ps=Es-1,v===c&&Es>r||v===u&&Es>i)return 1;for(;;){Qs=H-gs,N[X]<Zs?(Ms=0,ge=N[X]):N[X]>Zs?(Ms=le[zs+N[X]],ge=Is[ae+N[X]]):(Ms=32+64,ge=0),Ws=1<<H-gs,Hs=1<<hs,es=Hs;do Hs-=Ws,E[Rs+(Ls>>gs)+Hs]=Qs<<24|Ms<<16|ge|0;while(Hs!==0);for(Ws=1<<H-1;Ls&Ws;)Ws>>=1;if(Ws!==0?(Ls&=Ws-1,Ls+=Ws):Ls=0,X++,--Os[H]===0){if(H===us)break;H=A[C+N[X]]}if(H>ls&&(Ls&Ps)!==bs){for(gs===0&&(gs=ls),Rs+=es,hs=H-gs,vs=1<<hs;hs+gs<us&&(vs-=Os[hs+gs],!(vs<=0));)hs++,vs<<=1;if(Es+=1<<hs,v===c&&Es>r||v===u&&Es>i)return 1;bs=Ls&Ps,E[bs]=ls<<24|hs<<16|Rs-D|0}}return Ls!==0&&(E[Rs+Ls]=H-gs<<24|64<<16|0),O.bits=ls,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){var a=e("../utils/common"),o=4,r=0,i=1,p=2;function c(S){for(var as=S.length;--as>=0;)S[as]=0}var u=0,f=1,h=2,g=3,m=258,d=29,v=256,A=v+1+d,C=30,b=19,E=2*A+1,D=15,N=16,O=7,U=256,H=16,X=17,es=18,us=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ls=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],hs=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],gs=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],vs=512,Es=new Array((A+2)*2);c(Es);var Ls=new Array(C*2);c(Ls);var Ws=new Array(vs);c(Ws);var Hs=new Array(m-g+1);c(Hs);var bs=new Array(d);c(bs);var Ps=new Array(C);c(Ps);function Rs(S,as,is,Ds,V){this.static_tree=S,this.extra_bits=as,this.extra_base=is,this.elems=Ds,this.max_length=V,this.has_stree=S&&S.length}var Is,ae,Zs;function Os(S,as){this.dyn_tree=S,this.max_code=0,this.stat_desc=as}function ve(S){return S<256?Ws[S]:Ws[256+(S>>>7)]}function le(S,as){S.pending_buf[S.pending++]=as&255,S.pending_buf[S.pending++]=as>>>8&255}function zs(S,as,is){S.bi_valid>N-is?(S.bi_buf|=as<<S.bi_valid&65535,le(S,S.bi_buf),S.bi_buf=as>>N-S.bi_valid,S.bi_valid+=is-N):(S.bi_buf|=as<<S.bi_valid&65535,S.bi_valid+=is)}function Qs(S,as,is){zs(S,is[as*2],is[as*2+1])}function Ms(S,as){var is=0;do is|=S&1,S>>>=1,is<<=1;while(--as>0);return is>>>1}function ge(S){S.bi_valid===16?(le(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):S.bi_valid>=8&&(S.pending_buf[S.pending++]=S.bi_buf&255,S.bi_buf>>=8,S.bi_valid-=8)}function re(S,as){var is=as.dyn_tree,Ds=as.max_code,V=as.stat_desc.static_tree,ts=as.stat_desc.has_stree,w=as.stat_desc.extra_bits,os=as.stat_desc.extra_base,Ss=as.stat_desc.max_length,y,J,Q,k,M,K,Fs=0;for(k=0;k<=D;k++)S.bl_count[k]=0;for(is[S.heap[S.heap_max]*2+1]=0,y=S.heap_max+1;y<E;y++)J=S.heap[y],k=is[is[J*2+1]*2+1]+1,k>Ss&&(k=Ss,Fs++),is[J*2+1]=k,!(J>Ds)&&(S.bl_count[k]++,M=0,J>=os&&(M=w[J-os]),K=is[J*2],S.opt_len+=K*(k+M),ts&&(S.static_len+=K*(V[J*2+1]+M)));if(Fs!==0){do{for(k=Ss-1;S.bl_count[k]===0;)k--;S.bl_count[k]--,S.bl_count[k+1]+=2,S.bl_count[Ss]--,Fs-=2}while(Fs>0);for(k=Ss;k!==0;k--)for(J=S.bl_count[k];J!==0;)Q=S.heap[--y],!(Q>Ds)&&(is[Q*2+1]!==k&&(S.opt_len+=(k-is[Q*2+1])*is[Q*2],is[Q*2+1]=k),J--)}}function Re(S,as,is){var Ds=new Array(D+1),V=0,ts,w;for(ts=1;ts<=D;ts++)Ds[ts]=V=V+is[ts-1]<<1;for(w=0;w<=as;w++){var os=S[w*2+1];os!==0&&(S[w*2]=Ms(Ds[os]++,os))}}function Vs(){var S,as,is,Ds,V,ts=new Array(D+1);for(is=0,Ds=0;Ds<d-1;Ds++)for(bs[Ds]=is,S=0;S<1<<us[Ds];S++)Hs[is++]=Ds;for(Hs[is-1]=Ds,V=0,Ds=0;Ds<16;Ds++)for(Ps[Ds]=V,S=0;S<1<<ls[Ds];S++)Ws[V++]=Ds;for(V>>=7;Ds<C;Ds++)for(Ps[Ds]=V<<7,S=0;S<1<<ls[Ds]-7;S++)Ws[256+V++]=Ds;for(as=0;as<=D;as++)ts[as]=0;for(S=0;S<=143;)Es[S*2+1]=8,S++,ts[8]++;for(;S<=255;)Es[S*2+1]=9,S++,ts[9]++;for(;S<=279;)Es[S*2+1]=7,S++,ts[7]++;for(;S<=287;)Es[S*2+1]=8,S++,ts[8]++;for(Re(Es,A+1,ts),S=0;S<C;S++)Ls[S*2+1]=5,Ls[S*2]=Ms(S,5);Is=new Rs(Es,us,v+1,A,D),ae=new Rs(Ls,ls,0,C,D),Zs=new Rs(new Array(0),hs,0,b,O)}function Be(S){var as;for(as=0;as<A;as++)S.dyn_ltree[as*2]=0;for(as=0;as<C;as++)S.dyn_dtree[as*2]=0;for(as=0;as<b;as++)S.bl_tree[as*2]=0;S.dyn_ltree[U*2]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function Ve(S){S.bi_valid>8?le(S,S.bi_buf):S.bi_valid>0&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function De(S,as,is,Ds){Ve(S),Ds&&(le(S,is),le(S,~is)),a.arraySet(S.pending_buf,S.window,as,is,S.pending),S.pending+=is}function _e(S,as,is,Ds){var V=as*2,ts=is*2;return S[V]<S[ts]||S[V]===S[ts]&&Ds[as]<=Ds[is]}function Xs(S,as,is){for(var Ds=S.heap[is],V=is<<1;V<=S.heap_len&&(V<S.heap_len&&_e(as,S.heap[V+1],S.heap[V],S.depth)&&V++,!_e(as,Ds,S.heap[V],S.depth));)S.heap[is]=S.heap[V],is=V,V<<=1;S.heap[is]=Ds}function $s(S,as,is){var Ds,V,ts=0,w,os;if(S.last_lit!==0)do Ds=S.pending_buf[S.d_buf+ts*2]<<8|S.pending_buf[S.d_buf+ts*2+1],V=S.pending_buf[S.l_buf+ts],ts++,Ds===0?Qs(S,V,as):(w=Hs[V],Qs(S,w+v+1,as),os=us[w],os!==0&&(V-=bs[w],zs(S,V,os)),Ds--,w=ve(Ds),Qs(S,w,is),os=ls[w],os!==0&&(Ds-=Ps[w],zs(S,Ds,os)));while(ts<S.last_lit);Qs(S,U,as)}function xe(S,as){var is=as.dyn_tree,Ds=as.stat_desc.static_tree,V=as.stat_desc.has_stree,ts=as.stat_desc.elems,w,os,Ss=-1,y;for(S.heap_len=0,S.heap_max=E,w=0;w<ts;w++)is[w*2]!==0?(S.heap[++S.heap_len]=Ss=w,S.depth[w]=0):is[w*2+1]=0;for(;S.heap_len<2;)y=S.heap[++S.heap_len]=Ss<2?++Ss:0,is[y*2]=1,S.depth[y]=0,S.opt_len--,V&&(S.static_len-=Ds[y*2+1]);for(as.max_code=Ss,w=S.heap_len>>1;w>=1;w--)Xs(S,is,w);y=ts;do w=S.heap[1],S.heap[1]=S.heap[S.heap_len--],Xs(S,is,1),os=S.heap[1],S.heap[--S.heap_max]=w,S.heap[--S.heap_max]=os,is[y*2]=is[w*2]+is[os*2],S.depth[y]=(S.depth[w]>=S.depth[os]?S.depth[w]:S.depth[os])+1,is[w*2+1]=is[os*2+1]=y,S.heap[1]=y++,Xs(S,is,1);while(S.heap_len>=2);S.heap[--S.heap_max]=S.heap[1],re(S,as),Re(is,Ss,S.bl_count)}function Ne(S,as,is){var Ds,V=-1,ts,w=as[0*2+1],os=0,Ss=7,y=4;for(w===0&&(Ss=138,y=3),as[(is+1)*2+1]=65535,Ds=0;Ds<=is;Ds++)ts=w,w=as[(Ds+1)*2+1],!(++os<Ss&&ts===w)&&(os<y?S.bl_tree[ts*2]+=os:ts!==0?(ts!==V&&S.bl_tree[ts*2]++,S.bl_tree[H*2]++):os<=10?S.bl_tree[X*2]++:S.bl_tree[es*2]++,os=0,V=ts,w===0?(Ss=138,y=3):ts===w?(Ss=6,y=3):(Ss=7,y=4))}function Oe(S,as,is){var Ds,V=-1,ts,w=as[0*2+1],os=0,Ss=7,y=4;for(w===0&&(Ss=138,y=3),Ds=0;Ds<=is;Ds++)if(ts=w,w=as[(Ds+1)*2+1],!(++os<Ss&&ts===w)){if(os<y)do Qs(S,ts,S.bl_tree);while(--os!==0);else ts!==0?(ts!==V&&(Qs(S,ts,S.bl_tree),os--),Qs(S,H,S.bl_tree),zs(S,os-3,2)):os<=10?(Qs(S,X,S.bl_tree),zs(S,os-3,3)):(Qs(S,es,S.bl_tree),zs(S,os-11,7));os=0,V=ts,w===0?(Ss=138,y=3):ts===w?(Ss=6,y=3):(Ss=7,y=4)}}function qe(S){var as;for(Ne(S,S.dyn_ltree,S.l_desc.max_code),Ne(S,S.dyn_dtree,S.d_desc.max_code),xe(S,S.bl_desc),as=b-1;as>=3&&S.bl_tree[gs[as]*2+1]===0;as--);return S.opt_len+=3*(as+1)+5+5+4,as}function et(S,as,is,Ds){var V;for(zs(S,as-257,5),zs(S,is-1,5),zs(S,Ds-4,4),V=0;V<Ds;V++)zs(S,S.bl_tree[gs[V]*2+1],3);Oe(S,S.dyn_ltree,as-1),Oe(S,S.dyn_dtree,is-1)}function se(S){var as=4093624447,is;for(is=0;is<=31;is++,as>>>=1)if(as&1&&S.dyn_ltree[is*2]!==0)return r;if(S.dyn_ltree[9*2]!==0||S.dyn_ltree[10*2]!==0||S.dyn_ltree[13*2]!==0)return i;for(is=32;is<v;is++)if(S.dyn_ltree[is*2]!==0)return i;return r}var Fe=!1;function at(S){Fe||(Vs(),Fe=!0),S.l_desc=new Os(S.dyn_ltree,Is),S.d_desc=new Os(S.dyn_dtree,ae),S.bl_desc=new Os(S.bl_tree,Zs),S.bi_buf=0,S.bi_valid=0,Be(S)}function We(S,as,is,Ds){zs(S,(u<<1)+(Ds?1:0),3),De(S,as,is,!0)}function Ee(S){zs(S,f<<1,3),Qs(S,U,Es),ge(S)}function ze(S,as,is,Ds){var V,ts,w=0;S.level>0?(S.strm.data_type===p&&(S.strm.data_type=se(S)),xe(S,S.l_desc),xe(S,S.d_desc),w=qe(S),V=S.opt_len+3+7>>>3,ts=S.static_len+3+7>>>3,ts<=V&&(V=ts)):V=ts=is+5,is+4<=V&&as!==-1?We(S,as,is,Ds):S.strategy===o||ts===V?(zs(S,(f<<1)+(Ds?1:0),3),$s(S,Es,Ls)):(zs(S,(h<<1)+(Ds?1:0),3),et(S,S.l_desc.max_code+1,S.d_desc.max_code+1,w+1),$s(S,S.dyn_ltree,S.dyn_dtree)),Be(S),Ds&&Ve(S)}function lt(S,as,is){return S.pending_buf[S.d_buf+S.last_lit*2]=as>>>8&255,S.pending_buf[S.d_buf+S.last_lit*2+1]=as&255,S.pending_buf[S.l_buf+S.last_lit]=is&255,S.last_lit++,as===0?S.dyn_ltree[is*2]++:(S.matches++,as--,S.dyn_ltree[(Hs[is]+v+1)*2]++,S.dyn_dtree[ve(as)*2]++),S.last_lit===S.lit_bufsize-1}n._tr_init=at,n._tr_stored_block=We,n._tr_flush_block=ze,n._tr_tally=lt,n._tr_align=Ee},{"../utils/common":41}],53:[function(e,t,n){function a(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=a},{}],54:[function(e,t,n){(function(a){(function(o,r){if(o.setImmediate)return;var i=1,p={},c=!1,u=o.document,f;function h(O){typeof O!="function"&&(O=new Function(""+O));for(var U=new Array(arguments.length-1),H=0;H<U.length;H++)U[H]=arguments[H+1];var X={callback:O,args:U};return p[i]=X,f(i),i++}function g(O){delete p[O]}function m(O){var U=O.callback,H=O.args;switch(H.length){case 0:U();break;case 1:U(H[0]);break;case 2:U(H[0],H[1]);break;case 3:U(H[0],H[1],H[2]);break;default:U.apply(r,H);break}}function d(O){if(c)setTimeout(d,0,O);else{var U=p[O];if(U){c=!0;try{m(U)}finally{g(O),c=!1}}}}function v(){f=function(O){process.nextTick(function(){d(O)})}}function A(){if(o.postMessage&&!o.importScripts){var O=!0,U=o.onmessage;return o.onmessage=function(){O=!1},o.postMessage("","*"),o.onmessage=U,O}}function C(){var O="setImmediate$"+Math.random()+"$",U=function(H){H.source===o&&typeof H.data=="string"&&H.data.indexOf(O)===0&&d(+H.data.slice(O.length))};o.addEventListener?o.addEventListener("message",U,!1):o.attachEvent("onmessage",U),f=function(H){o.postMessage(O+H,"*")}}function b(){var O=new MessageChannel;O.port1.onmessage=function(U){var H=U.data;d(H)},f=function(U){O.port2.postMessage(U)}}function E(){var O=u.documentElement;f=function(U){var H=u.createElement("script");H.onreadystatechange=function(){d(U),H.onreadystatechange=null,O.removeChild(H),H=null},O.appendChild(H)}}function D(){f=function(O){setTimeout(d,0,O)}}var N=Object.getPrototypeOf&&Object.getPrototypeOf(o);N=N&&N.setTimeout?N:o,{}.toString.call(o.process)==="[object process]"?v():A()?C():o.MessageChannel?b():u&&"onreadystatechange"in u.createElement("script")?E():D(),N.setImmediate=h,N.clearImmediate=g})(typeof self>"u"?typeof a>"u"?this:a:self)}).call(this,typeof ut<"u"?ut:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(O9);var jf=O9.exports;const Wf=ul(jf);class Zf{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new Wf}catch{throw new Error("JSZip lib not loaded")}}open(s,e){return this.zip.loadAsync(s,{base64:e})}openUrl(s,e){return kl(s,"binary").then((function(t){return this.zip.loadAsync(t,{base64:e})}).bind(this))}request(s,e){var t=new Gs,n,a=new nn(s);return e||(e=a.extension),e=="blob"?n=this.getBlob(s):n=this.getText(s),n?n.then((function(o){let r=this.handleResponse(o,e);t.resolve(r)}).bind(this)):t.reject({message:"File not found in the epub: "+s,stack:new Error().stack}),t.promise}handleResponse(s,e){var t;return e=="json"?t=JSON.parse(s):Fl(e)?t=wt(s,"text/xml"):e=="xhtml"?t=wt(s,"application/xhtml+xml"):e=="html"||e=="htm"?t=wt(s,"text/html"):t=s,t}getBlob(s,e){var t=window.decodeURIComponent(s.substr(1)),n=this.zip.file(t);if(n)return e=e||ol.lookup(n.name),n.async("uint8array").then(function(a){return new Blob([a],{type:e})})}getText(s,e){var t=window.decodeURIComponent(s.substr(1)),n=this.zip.file(t);if(n)return n.async("string").then(function(a){return a})}getBase64(s,e){var t=window.decodeURIComponent(s.substr(1)),n=this.zip.file(t);if(n)return e=e||ol.lookup(n.name),n.async("base64").then(function(a){return"data:"+e+";base64,"+a})}createUrl(s,e){var t=new Gs,n=window.URL||window.webkitURL||window.mozURL,a,o,r=e&&e.base64;return s in this.urlCache?(t.resolve(this.urlCache[s]),t.promise):(r?(o=this.getBase64(s),o&&o.then((function(i){this.urlCache[s]=i,t.resolve(i)}).bind(this))):(o=this.getBlob(s),o&&o.then((function(i){a=n.createObjectURL(i),this.urlCache[s]=a,t.resolve(a)}).bind(this))),o||t.reject({message:"File not found in the epub: "+s,stack:new Error().stack}),t.promise)}revokeUrl(s){var e=window.URL||window.webkitURL||window.mozURL,t=this.urlCache[s];t&&e.revokeObjectURL(t)}destroy(){var s=window.URL||window.webkitURL||window.mozURL;for(let e in this.urlCache)s.revokeObjectURL(e);this.zip=void 0,this.urlCache={}}}var q9={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(l,s){(function(e){l.exports=e()})(function(){return function e(t,n,a){function o(p,c){if(!n[p]){if(!t[p]){var u=typeof Cn=="function"&&Cn;if(!c&&u)return u(p,!0);if(r)return r(p,!0);var f=new Error("Cannot find module '"+p+"'");throw f.code="MODULE_NOT_FOUND",f}var h=n[p]={exports:{}};t[p][0].call(h.exports,function(g){var m=t[p][1][g];return o(m||g)},h,h.exports,e,t,n,a)}return n[p].exports}for(var r=typeof Cn=="function"&&Cn,i=0;i<a.length;i++)o(a[i]);return o}({1:[function(e,t,n){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,r;if(o){var i=0,p=new o(g),c=a.document.createTextNode("");p.observe(c,{characterData:!0}),r=function(){c.data=i=++i%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var u=new a.MessageChannel;u.port1.onmessage=g,r=function(){u.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?r=function(){var d=a.document.createElement("script");d.onreadystatechange=function(){g(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},a.document.documentElement.appendChild(d)}:r=function(){setTimeout(g,0)};var f,h=[];function g(){f=!0;for(var d,v,A=h.length;A;){for(v=h,h=[],d=-1;++d<A;)v[d]();A=h.length}f=!1}t.exports=m;function m(d){h.push(d)===1&&!f&&r()}}).call(this,typeof ut<"u"?ut:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(e,t,n){var a=e(1);function o(){}var r={},i=["REJECTED"],p=["FULFILLED"],c=["PENDING"];t.exports=u;function u(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,E!==o&&m(this,E)}u.prototype.catch=function(E){return this.then(null,E)},u.prototype.then=function(E,D){if(typeof E!="function"&&this.state===p||typeof D!="function"&&this.state===i)return this;var N=new this.constructor(o);if(this.state!==c){var O=this.state===p?E:D;h(N,O,this.outcome)}else this.queue.push(new f(N,E,D));return N};function f(E,D,N){this.promise=E,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(E){r.resolve(this.promise,E)},f.prototype.otherCallFulfilled=function(E){h(this.promise,this.onFulfilled,E)},f.prototype.callRejected=function(E){r.reject(this.promise,E)},f.prototype.otherCallRejected=function(E){h(this.promise,this.onRejected,E)};function h(E,D,N){a(function(){var O;try{O=D(N)}catch(U){return r.reject(E,U)}O===E?r.reject(E,new TypeError("Cannot resolve promise with itself")):r.resolve(E,O)})}r.resolve=function(E,D){var N=d(g,D);if(N.status==="error")return r.reject(E,N.value);var O=N.value;if(O)m(E,O);else{E.state=p,E.outcome=D;for(var U=-1,H=E.queue.length;++U<H;)E.queue[U].callFulfilled(D)}return E},r.reject=function(E,D){E.state=i,E.outcome=D;for(var N=-1,O=E.queue.length;++N<O;)E.queue[N].callRejected(D);return E};function g(E){var D=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof D=="function")return function(){D.apply(E,arguments)}}function m(E,D){var N=!1;function O(es){N||(N=!0,r.reject(E,es))}function U(es){N||(N=!0,r.resolve(E,es))}function H(){D(U,O)}var X=d(H);X.status==="error"&&O(X.value)}function d(E,D){var N={};try{N.value=E(D),N.status="success"}catch(O){N.status="error",N.value=O}return N}u.resolve=v;function v(E){return E instanceof this?E:r.resolve(new this(o),E)}u.reject=A;function A(E){var D=new this(o);return r.reject(D,E)}u.all=C;function C(E){var D=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=E.length,O=!1;if(!N)return this.resolve([]);for(var U=new Array(N),H=0,X=-1,es=new this(o);++X<N;)us(E[X],X);return es;function us(ls,hs){D.resolve(ls).then(gs,function(vs){O||(O=!0,r.reject(es,vs))});function gs(vs){U[hs]=vs,++H===N&&!O&&(O=!0,r.resolve(es,U))}}}u.race=b;function b(E){var D=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=E.length,O=!1;if(!N)return this.resolve([]);for(var U=-1,H=new this(o);++U<N;)X(E[U]);return H;function X(es){D.resolve(es).then(function(us){O||(O=!0,r.resolve(H,us))},function(us){O||(O=!0,r.reject(H,us))})}}},{1:1}],3:[function(e,t,n){(function(a){typeof a.Promise!="function"&&(a.Promise=e(2))}).call(this,typeof ut<"u"?ut:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(e,t,n){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T};function o(T,$){if(!(T instanceof $))throw new TypeError("Cannot call a class as a function")}function r(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var i=r();function p(){try{if(!i||!i.open)return!1;var T=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),$=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!T||$)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(T,$){T=T||[],$=$||{};try{return new Blob(T,$)}catch(j){if(j.name!=="TypeError")throw j;for(var L=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,W=new L,G=0;G<T.length;G+=1)W.append(T[G]);return W.getBlob($.type)}}typeof Promise>"u"&&e(3);var u=Promise;function f(T,$){$&&T.then(function(L){$(null,L)},function(L){$(L)})}function h(T,$,L){typeof $=="function"&&T.then($),typeof L=="function"&&T.catch(L)}function g(T){return typeof T!="string"&&(console.warn(T+" used as a key, but it is not a string."),T=String(T)),T}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",v=void 0,A={},C=Object.prototype.toString,b="readonly",E="readwrite";function D(T){for(var $=T.length,L=new ArrayBuffer($),W=new Uint8Array(L),G=0;G<$;G++)W[G]=T.charCodeAt(G);return L}function N(T){return new u(function($){var L=T.transaction(d,E),W=c([""]);L.objectStore(d).put(W,"key"),L.onabort=function(G){G.preventDefault(),G.stopPropagation(),$(!1)},L.oncomplete=function(){var G=navigator.userAgent.match(/Chrome\/(\d+)/),j=navigator.userAgent.match(/Edge\//);$(j||!G||parseInt(G[1],10)>=43)}}).catch(function(){return!1})}function O(T){return typeof v=="boolean"?u.resolve(v):N(T).then(function($){return v=$,v})}function U(T){var $=A[T.name],L={};L.promise=new u(function(W,G){L.resolve=W,L.reject=G}),$.deferredOperations.push(L),$.dbReady?$.dbReady=$.dbReady.then(function(){return L.promise}):$.dbReady=L.promise}function H(T){var $=A[T.name],L=$.deferredOperations.pop();if(L)return L.resolve(),L.promise}function X(T,$){var L=A[T.name],W=L.deferredOperations.pop();if(W)return W.reject($),W.promise}function es(T,$){return new u(function(L,W){if(A[T.name]=A[T.name]||bs(),T.db)if($)U(T),T.db.close();else return L(T.db);var G=[T.name];$&&G.push(T.version);var j=i.open.apply(i,G);$&&(j.onupgradeneeded=function(ns){var rs=j.result;try{rs.createObjectStore(T.storeName),ns.oldVersion<=1&&rs.createObjectStore(d)}catch(ys){if(ys.name==="ConstraintError")console.warn('The database "'+T.name+'" has been upgraded from version '+ns.oldVersion+" to version "+ns.newVersion+', but the storage "'+T.storeName+'" already exists.');else throw ys}}),j.onerror=function(ns){ns.preventDefault(),W(j.error)},j.onsuccess=function(){var ns=j.result;ns.onversionchange=function(rs){rs.target.close()},L(ns),H(T)}})}function us(T){return es(T,!1)}function ls(T){return es(T,!0)}function hs(T,$){if(!T.db)return!0;var L=!T.db.objectStoreNames.contains(T.storeName),W=T.version<T.db.version,G=T.version>T.db.version;if(W&&(T.version!==$&&console.warn('The database "'+T.name+`" can't be downgraded from version `+T.db.version+" to version "+T.version+"."),T.version=T.db.version),G||L){if(L){var j=T.db.version+1;j>T.version&&(T.version=j)}return!0}return!1}function gs(T){return new u(function($,L){var W=new FileReader;W.onerror=L,W.onloadend=function(G){var j=btoa(G.target.result||"");$({__local_forage_encoded_blob:!0,data:j,type:T.type})},W.readAsBinaryString(T)})}function vs(T){var $=D(atob(T.data));return c([$],{type:T.type})}function Es(T){return T&&T.__local_forage_encoded_blob}function Ls(T){var $=this,L=$._initReady().then(function(){var W=A[$._dbInfo.name];if(W&&W.dbReady)return W.dbReady});return h(L,T,T),L}function Ws(T){U(T);for(var $=A[T.name],L=$.forages,W=0;W<L.length;W++){var G=L[W];G._dbInfo.db&&(G._dbInfo.db.close(),G._dbInfo.db=null)}return T.db=null,us(T).then(function(j){return T.db=j,hs(T)?ls(T):j}).then(function(j){T.db=$.db=j;for(var ns=0;ns<L.length;ns++)L[ns]._dbInfo.db=j}).catch(function(j){throw X(T,j),j})}function Hs(T,$,L,W){W===void 0&&(W=1);try{var G=T.db.transaction(T.storeName,$);L(null,G)}catch(j){if(W>0&&(!T.db||j.name==="InvalidStateError"||j.name==="NotFoundError"))return u.resolve().then(function(){if(!T.db||j.name==="NotFoundError"&&!T.db.objectStoreNames.contains(T.storeName)&&T.version<=T.db.version)return T.db&&(T.version=T.db.version+1),ls(T)}).then(function(){return Ws(T).then(function(){Hs(T,$,L,W-1)})}).catch(L);L(j)}}function bs(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ps(T){var $=this,L={db:null};if(T)for(var W in T)L[W]=T[W];var G=A[L.name];G||(G=bs(),A[L.name]=G),G.forages.push($),$._initReady||($._initReady=$.ready,$.ready=Ls);var j=[];function ns(){return u.resolve()}for(var rs=0;rs<G.forages.length;rs++){var ys=G.forages[rs];ys!==$&&j.push(ys._initReady().catch(ns))}var cs=G.forages.slice(0);return u.all(j).then(function(){return L.db=G.db,us(L)}).then(function(ds){return L.db=ds,hs(L,$._defaultConfig.version)?ls(L):ds}).then(function(ds){L.db=G.db=ds,$._dbInfo=L;for(var xs=0;xs<cs.length;xs++){var qs=cs[xs];qs!==$&&(qs._dbInfo.db=L.db,qs._dbInfo.version=L.version)}})}function Rs(T,$){var L=this;T=g(T);var W=new u(function(G,j){L.ready().then(function(){Hs(L._dbInfo,b,function(ns,rs){if(ns)return j(ns);try{var ys=rs.objectStore(L._dbInfo.storeName),cs=ys.get(T);cs.onsuccess=function(){var ds=cs.result;ds===void 0&&(ds=null),Es(ds)&&(ds=vs(ds)),G(ds)},cs.onerror=function(){j(cs.error)}}catch(ds){j(ds)}})}).catch(j)});return f(W,$),W}function Is(T,$){var L=this,W=new u(function(G,j){L.ready().then(function(){Hs(L._dbInfo,b,function(ns,rs){if(ns)return j(ns);try{var ys=rs.objectStore(L._dbInfo.storeName),cs=ys.openCursor(),ds=1;cs.onsuccess=function(){var xs=cs.result;if(xs){var qs=xs.value;Es(qs)&&(qs=vs(qs));var Js=T(qs,xs.key,ds++);Js!==void 0?G(Js):xs.continue()}else G()},cs.onerror=function(){j(cs.error)}}catch(xs){j(xs)}})}).catch(j)});return f(W,$),W}function ae(T,$,L){var W=this;T=g(T);var G=new u(function(j,ns){var rs;W.ready().then(function(){return rs=W._dbInfo,C.call($)==="[object Blob]"?O(rs.db).then(function(ys){return ys?$:gs($)}):$}).then(function(ys){Hs(W._dbInfo,E,function(cs,ds){if(cs)return ns(cs);try{var xs=ds.objectStore(W._dbInfo.storeName);ys===null&&(ys=void 0);var qs=xs.put(ys,T);ds.oncomplete=function(){ys===void 0&&(ys=null),j(ys)},ds.onabort=ds.onerror=function(){var Js=qs.error?qs.error:qs.transaction.error;ns(Js)}}catch(Js){ns(Js)}})}).catch(ns)});return f(G,L),G}function Zs(T,$){var L=this;T=g(T);var W=new u(function(G,j){L.ready().then(function(){Hs(L._dbInfo,E,function(ns,rs){if(ns)return j(ns);try{var ys=rs.objectStore(L._dbInfo.storeName),cs=ys.delete(T);rs.oncomplete=function(){G()},rs.onerror=function(){j(cs.error)},rs.onabort=function(){var ds=cs.error?cs.error:cs.transaction.error;j(ds)}}catch(ds){j(ds)}})}).catch(j)});return f(W,$),W}function Os(T){var $=this,L=new u(function(W,G){$.ready().then(function(){Hs($._dbInfo,E,function(j,ns){if(j)return G(j);try{var rs=ns.objectStore($._dbInfo.storeName),ys=rs.clear();ns.oncomplete=function(){W()},ns.onabort=ns.onerror=function(){var cs=ys.error?ys.error:ys.transaction.error;G(cs)}}catch(cs){G(cs)}})}).catch(G)});return f(L,T),L}function ve(T){var $=this,L=new u(function(W,G){$.ready().then(function(){Hs($._dbInfo,b,function(j,ns){if(j)return G(j);try{var rs=ns.objectStore($._dbInfo.storeName),ys=rs.count();ys.onsuccess=function(){W(ys.result)},ys.onerror=function(){G(ys.error)}}catch(cs){G(cs)}})}).catch(G)});return f(L,T),L}function le(T,$){var L=this,W=new u(function(G,j){if(T<0){G(null);return}L.ready().then(function(){Hs(L._dbInfo,b,function(ns,rs){if(ns)return j(ns);try{var ys=rs.objectStore(L._dbInfo.storeName),cs=!1,ds=ys.openKeyCursor();ds.onsuccess=function(){var xs=ds.result;if(!xs){G(null);return}T===0||cs?G(xs.key):(cs=!0,xs.advance(T))},ds.onerror=function(){j(ds.error)}}catch(xs){j(xs)}})}).catch(j)});return f(W,$),W}function zs(T){var $=this,L=new u(function(W,G){$.ready().then(function(){Hs($._dbInfo,b,function(j,ns){if(j)return G(j);try{var rs=ns.objectStore($._dbInfo.storeName),ys=rs.openKeyCursor(),cs=[];ys.onsuccess=function(){var ds=ys.result;if(!ds){W(cs);return}cs.push(ds.key),ds.continue()},ys.onerror=function(){G(ys.error)}}catch(ds){G(ds)}})}).catch(G)});return f(L,T),L}function Qs(T,$){$=m.apply(this,arguments);var L=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||L.name,T.storeName=T.storeName||L.storeName);var W=this,G;if(!T.name)G=u.reject("Invalid arguments");else{var j=T.name===L.name&&W._dbInfo.db,ns=j?u.resolve(W._dbInfo.db):us(T).then(function(rs){var ys=A[T.name],cs=ys.forages;ys.db=rs;for(var ds=0;ds<cs.length;ds++)cs[ds]._dbInfo.db=rs;return rs});T.storeName?G=ns.then(function(rs){if(rs.objectStoreNames.contains(T.storeName)){var ys=rs.version+1;U(T);var cs=A[T.name],ds=cs.forages;rs.close();for(var xs=0;xs<ds.length;xs++){var qs=ds[xs];qs._dbInfo.db=null,qs._dbInfo.version=ys}var Js=new u(function(Ks,ce){var me=i.open(T.name,ys);me.onerror=function(Me){var nt=me.result;nt.close(),ce(Me)},me.onupgradeneeded=function(){var Me=me.result;Me.deleteObjectStore(T.storeName)},me.onsuccess=function(){var Me=me.result;Me.close(),Ks(Me)}});return Js.then(function(Ks){cs.db=Ks;for(var ce=0;ce<ds.length;ce++){var me=ds[ce];me._dbInfo.db=Ks,H(me._dbInfo)}}).catch(function(Ks){throw(X(T,Ks)||u.resolve()).catch(function(){}),Ks})}}):G=ns.then(function(rs){U(T);var ys=A[T.name],cs=ys.forages;rs.close();for(var ds=0;ds<cs.length;ds++){var xs=cs[ds];xs._dbInfo.db=null}var qs=new u(function(Js,Ks){var ce=i.deleteDatabase(T.name);ce.onerror=function(){var me=ce.result;me&&me.close(),Ks(ce.error)},ce.onblocked=function(){console.warn('dropInstance blocked for database "'+T.name+'" until all open connections are closed')},ce.onsuccess=function(){var me=ce.result;me&&me.close(),Js(me)}});return qs.then(function(Js){ys.db=Js;for(var Ks=0;Ks<cs.length;Ks++){var ce=cs[Ks];H(ce._dbInfo)}}).catch(function(Js){throw(X(T,Js)||u.resolve()).catch(function(){}),Js})})}return f(G,$),G}var Ms={_driver:"asyncStorage",_initStorage:Ps,_support:p(),iterate:Is,getItem:Rs,setItem:ae,removeItem:Zs,clear:Os,length:ve,key:le,keys:zs,dropInstance:Qs};function ge(){return typeof openDatabase=="function"}var re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Re="~~local_forage_type~",Vs=/^~~local_forage_type~([^~]+)~/,Be="__lfsc__:",Ve=Be.length,De="arbf",_e="blob",Xs="si08",$s="ui08",xe="uic8",Ne="si16",Oe="si32",qe="ur16",et="ui32",se="fl32",Fe="fl64",at=Ve+De.length,We=Object.prototype.toString;function Ee(T){var $=T.length*.75,L=T.length,W,G=0,j,ns,rs,ys;T[T.length-1]==="="&&($--,T[T.length-2]==="="&&$--);var cs=new ArrayBuffer($),ds=new Uint8Array(cs);for(W=0;W<L;W+=4)j=re.indexOf(T[W]),ns=re.indexOf(T[W+1]),rs=re.indexOf(T[W+2]),ys=re.indexOf(T[W+3]),ds[G++]=j<<2|ns>>4,ds[G++]=(ns&15)<<4|rs>>2,ds[G++]=(rs&3)<<6|ys&63;return cs}function ze(T){var $=new Uint8Array(T),L="",W;for(W=0;W<$.length;W+=3)L+=re[$[W]>>2],L+=re[($[W]&3)<<4|$[W+1]>>4],L+=re[($[W+1]&15)<<2|$[W+2]>>6],L+=re[$[W+2]&63];return $.length%3===2?L=L.substring(0,L.length-1)+"=":$.length%3===1&&(L=L.substring(0,L.length-2)+"=="),L}function lt(T,$){var L="";if(T&&(L=We.call(T)),T&&(L==="[object ArrayBuffer]"||T.buffer&&We.call(T.buffer)==="[object ArrayBuffer]")){var W,G=Be;T instanceof ArrayBuffer?(W=T,G+=De):(W=T.buffer,L==="[object Int8Array]"?G+=Xs:L==="[object Uint8Array]"?G+=$s:L==="[object Uint8ClampedArray]"?G+=xe:L==="[object Int16Array]"?G+=Ne:L==="[object Uint16Array]"?G+=qe:L==="[object Int32Array]"?G+=Oe:L==="[object Uint32Array]"?G+=et:L==="[object Float32Array]"?G+=se:L==="[object Float64Array]"?G+=Fe:$(new Error("Failed to get type for BinaryArray"))),$(G+ze(W))}else if(L==="[object Blob]"){var j=new FileReader;j.onload=function(){var ns=Re+T.type+"~"+ze(this.result);$(Be+_e+ns)},j.readAsArrayBuffer(T)}else try{$(JSON.stringify(T))}catch(ns){console.error("Couldn't convert value into a JSON string: ",T),$(null,ns)}}function S(T){if(T.substring(0,Ve)!==Be)return JSON.parse(T);var $=T.substring(at),L=T.substring(Ve,at),W;if(L===_e&&Vs.test($)){var G=$.match(Vs);W=G[1],$=$.substring(G[0].length)}var j=Ee($);switch(L){case De:return j;case _e:return c([j],{type:W});case Xs:return new Int8Array(j);case $s:return new Uint8Array(j);case xe:return new Uint8ClampedArray(j);case Ne:return new Int16Array(j);case qe:return new Uint16Array(j);case Oe:return new Int32Array(j);case et:return new Uint32Array(j);case se:return new Float32Array(j);case Fe:return new Float64Array(j);default:throw new Error("Unkown type: "+L)}}var as={serialize:lt,deserialize:S,stringToBuffer:Ee,bufferToString:ze};function is(T,$,L,W){T.executeSql("CREATE TABLE IF NOT EXISTS "+$.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],L,W)}function Ds(T){var $=this,L={db:null};if(T)for(var W in T)L[W]=typeof T[W]!="string"?T[W].toString():T[W];var G=new u(function(j,ns){try{L.db=openDatabase(L.name,String(L.version),L.description,L.size)}catch(rs){return ns(rs)}L.db.transaction(function(rs){is(rs,L,function(){$._dbInfo=L,j()},function(ys,cs){ns(cs)})},ns)});return L.serializer=as,G}function V(T,$,L,W,G,j){T.executeSql(L,W,G,function(ns,rs){rs.code===rs.SYNTAX_ERR?ns.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[$.storeName],function(ys,cs){cs.rows.length?j(ys,rs):is(ys,$,function(){ys.executeSql(L,W,G,j)},j)},j):j(ns,rs)},j)}function ts(T,$){var L=this;T=g(T);var W=new u(function(G,j){L.ready().then(function(){var ns=L._dbInfo;ns.db.transaction(function(rs){V(rs,ns,"SELECT * FROM "+ns.storeName+" WHERE key = ? LIMIT 1",[T],function(ys,cs){var ds=cs.rows.length?cs.rows.item(0).value:null;ds&&(ds=ns.serializer.deserialize(ds)),G(ds)},function(ys,cs){j(cs)})})}).catch(j)});return f(W,$),W}function w(T,$){var L=this,W=new u(function(G,j){L.ready().then(function(){var ns=L._dbInfo;ns.db.transaction(function(rs){V(rs,ns,"SELECT * FROM "+ns.storeName,[],function(ys,cs){for(var ds=cs.rows,xs=ds.length,qs=0;qs<xs;qs++){var Js=ds.item(qs),Ks=Js.value;if(Ks&&(Ks=ns.serializer.deserialize(Ks)),Ks=T(Ks,Js.key,qs+1),Ks!==void 0){G(Ks);return}}G()},function(ys,cs){j(cs)})})}).catch(j)});return f(W,$),W}function os(T,$,L,W){var G=this;T=g(T);var j=new u(function(ns,rs){G.ready().then(function(){$===void 0&&($=null);var ys=$,cs=G._dbInfo;cs.serializer.serialize($,function(ds,xs){xs?rs(xs):cs.db.transaction(function(qs){V(qs,cs,"INSERT OR REPLACE INTO "+cs.storeName+" (key, value) VALUES (?, ?)",[T,ds],function(){ns(ys)},function(Js,Ks){rs(Ks)})},function(qs){if(qs.code===qs.QUOTA_ERR){if(W>0){ns(os.apply(G,[T,ys,L,W-1]));return}rs(qs)}})})}).catch(rs)});return f(j,L),j}function Ss(T,$,L){return os.apply(this,[T,$,L,1])}function y(T,$){var L=this;T=g(T);var W=new u(function(G,j){L.ready().then(function(){var ns=L._dbInfo;ns.db.transaction(function(rs){V(rs,ns,"DELETE FROM "+ns.storeName+" WHERE key = ?",[T],function(){G()},function(ys,cs){j(cs)})})}).catch(j)});return f(W,$),W}function J(T){var $=this,L=new u(function(W,G){$.ready().then(function(){var j=$._dbInfo;j.db.transaction(function(ns){V(ns,j,"DELETE FROM "+j.storeName,[],function(){W()},function(rs,ys){G(ys)})})}).catch(G)});return f(L,T),L}function Q(T){var $=this,L=new u(function(W,G){$.ready().then(function(){var j=$._dbInfo;j.db.transaction(function(ns){V(ns,j,"SELECT COUNT(key) as c FROM "+j.storeName,[],function(rs,ys){var cs=ys.rows.item(0).c;W(cs)},function(rs,ys){G(ys)})})}).catch(G)});return f(L,T),L}function k(T,$){var L=this,W=new u(function(G,j){L.ready().then(function(){var ns=L._dbInfo;ns.db.transaction(function(rs){V(rs,ns,"SELECT key FROM "+ns.storeName+" WHERE id = ? LIMIT 1",[T+1],function(ys,cs){var ds=cs.rows.length?cs.rows.item(0).key:null;G(ds)},function(ys,cs){j(cs)})})}).catch(j)});return f(W,$),W}function M(T){var $=this,L=new u(function(W,G){$.ready().then(function(){var j=$._dbInfo;j.db.transaction(function(ns){V(ns,j,"SELECT key FROM "+j.storeName,[],function(rs,ys){for(var cs=[],ds=0;ds<ys.rows.length;ds++)cs.push(ys.rows.item(ds).key);W(cs)},function(rs,ys){G(ys)})})}).catch(G)});return f(L,T),L}function K(T){return new u(function($,L){T.transaction(function(W){W.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(G,j){for(var ns=[],rs=0;rs<j.rows.length;rs++)ns.push(j.rows.item(rs).name);$({db:T,storeNames:ns})},function(G,j){L(j)})},function(W){L(W)})})}function Fs(T,$){$=m.apply(this,arguments);var L=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||L.name,T.storeName=T.storeName||L.storeName);var W=this,G;return T.name?G=new u(function(j){var ns;T.name===L.name?ns=W._dbInfo.db:ns=openDatabase(T.name,"","",0),T.storeName?j({db:ns,storeNames:[T.storeName]}):j(K(ns))}).then(function(j){return new u(function(ns,rs){j.db.transaction(function(ys){function cs(Js){return new u(function(Ks,ce){ys.executeSql("DROP TABLE IF EXISTS "+Js,[],function(){Ks()},function(me,Me){ce(Me)})})}for(var ds=[],xs=0,qs=j.storeNames.length;xs<qs;xs++)ds.push(cs(j.storeNames[xs]));u.all(ds).then(function(){ns()}).catch(function(Js){rs(Js)})},function(ys){rs(ys)})})}):G=u.reject("Invalid arguments"),f(G,$),G}var As={_driver:"webSQLStorage",_initStorage:Ds,_support:ge(),iterate:w,getItem:ts,setItem:Ss,removeItem:y,clear:J,length:Q,key:k,keys:M,dropInstance:Fs};function ms(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Us(T,$){var L=T.name+"/";return T.storeName!==$.storeName&&(L+=T.storeName+"/"),L}function Ze(){var T="_localforage_support_test";try{return localStorage.setItem(T,!0),localStorage.removeItem(T),!1}catch{return!0}}function ee(){return!Ze()||localStorage.length>0}function js(T){var $=this,L={};if(T)for(var W in T)L[W]=T[W];return L.keyPrefix=Us(T,$._defaultConfig),ee()?($._dbInfo=L,L.serializer=as,u.resolve()):u.reject()}function Ae(T){var $=this,L=$.ready().then(function(){for(var W=$._dbInfo.keyPrefix,G=localStorage.length-1;G>=0;G--){var j=localStorage.key(G);j.indexOf(W)===0&&localStorage.removeItem(j)}});return f(L,T),L}function oe(T,$){var L=this;T=g(T);var W=L.ready().then(function(){var G=L._dbInfo,j=localStorage.getItem(G.keyPrefix+T);return j&&(j=G.serializer.deserialize(j)),j});return f(W,$),W}function Ce(T,$){var L=this,W=L.ready().then(function(){for(var G=L._dbInfo,j=G.keyPrefix,ns=j.length,rs=localStorage.length,ys=1,cs=0;cs<rs;cs++){var ds=localStorage.key(cs);if(ds.indexOf(j)===0){var xs=localStorage.getItem(ds);if(xs&&(xs=G.serializer.deserialize(xs)),xs=T(xs,ds.substring(ns),ys++),xs!==void 0)return xs}}});return f(W,$),W}function Tt(T,$){var L=this,W=L.ready().then(function(){var G=L._dbInfo,j;try{j=localStorage.key(T)}catch{j=null}return j&&(j=j.substring(G.keyPrefix.length)),j});return f(W,$),W}function gt(T){var $=this,L=$.ready().then(function(){for(var W=$._dbInfo,G=localStorage.length,j=[],ns=0;ns<G;ns++){var rs=localStorage.key(ns);rs.indexOf(W.keyPrefix)===0&&j.push(rs.substring(W.keyPrefix.length))}return j});return f(L,T),L}function ie(T){var $=this,L=$.keys().then(function(W){return W.length});return f(L,T),L}function $e(T,$){var L=this;T=g(T);var W=L.ready().then(function(){var G=L._dbInfo;localStorage.removeItem(G.keyPrefix+T)});return f(W,$),W}function ue(T,$,L){var W=this;T=g(T);var G=W.ready().then(function(){$===void 0&&($=null);var j=$;return new u(function(ns,rs){var ys=W._dbInfo;ys.serializer.serialize($,function(cs,ds){if(ds)rs(ds);else try{localStorage.setItem(ys.keyPrefix+T,cs),ns(j)}catch(xs){(xs.name==="QuotaExceededError"||xs.name==="NS_ERROR_DOM_QUOTA_REACHED")&&rs(xs),rs(xs)}})})});return f(G,L),G}function Ge(T,$){if($=m.apply(this,arguments),T=typeof T!="function"&&T||{},!T.name){var L=this.config();T.name=T.name||L.name,T.storeName=T.storeName||L.storeName}var W=this,G;return T.name?G=new u(function(j){T.storeName?j(Us(T,W._defaultConfig)):j(T.name+"/")}).then(function(j){for(var ns=localStorage.length-1;ns>=0;ns--){var rs=localStorage.key(ns);rs.indexOf(j)===0&&localStorage.removeItem(rs)}}):G=u.reject("Invalid arguments"),f(G,$),G}var Ie={_driver:"localStorageWrapper",_initStorage:js,_support:ms(),iterate:Ce,getItem:oe,setItem:ue,removeItem:$e,clear:Ae,length:ie,key:Tt,keys:gt,dropInstance:Ge},xn=function($,L){return $===L||typeof $=="number"&&typeof L=="number"&&isNaN($)&&isNaN(L)},dl=function($,L){for(var W=$.length,G=0;G<W;){if(xn($[G],L))return!0;G++}return!1},St=Array.isArray||function(T){return Object.prototype.toString.call(T)==="[object Array]"},an={},Sa={},tt={INDEXEDDB:Ms,WEBSQL:As,LOCALSTORAGE:Ie},Ol=[tt.INDEXEDDB._driver,tt.WEBSQL._driver,tt.LOCALSTORAGE._driver],Rt=["dropInstance"],dt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Rt),Ra={description:"",driver:Ol.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function It(T,$){T[$]=function(){var L=arguments;return T.ready().then(function(){return T[$].apply(T,L)})}}function Ia(){for(var T=1;T<arguments.length;T++){var $=arguments[T];if($)for(var L in $)$.hasOwnProperty(L)&&(St($[L])?arguments[0][L]=$[L].slice():arguments[0][L]=$[L])}return arguments[0]}var La=function(){function T($){o(this,T);for(var L in tt)if(tt.hasOwnProperty(L)){var W=tt[L],G=W._driver;this[L]=G,an[G]||this.defineDriver(W)}this._defaultConfig=Ia({},Ra),this._config=Ia({},this._defaultConfig,$),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return T.prototype.config=function(L){if((typeof L>"u"?"undefined":a(L))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var W in L){if(W==="storeName"&&(L[W]=L[W].replace(/\W/g,"_")),W==="version"&&typeof L[W]!="number")return new Error("Database version must be a number.");this._config[W]=L[W]}return"driver"in L&&L.driver?this.setDriver(this._config.driver):!0}else return typeof L=="string"?this._config[L]:this._config},T.prototype.defineDriver=function(L,W,G){var j=new u(function(ns,rs){try{var ys=L._driver,cs=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!L._driver){rs(cs);return}for(var ds=dt.concat("_initStorage"),xs=0,qs=ds.length;xs<qs;xs++){var Js=ds[xs],Ks=!dl(Rt,Js);if((Ks||L[Js])&&typeof L[Js]!="function"){rs(cs);return}}var ce=function(){for(var nt=function(Ot){return function(){var Oa=new Error("Method "+Ot+" is not implemented by the current driver"),Ct=u.reject(Oa);return f(Ct,arguments[arguments.length-1]),Ct}},ln=0,Nt=Rt.length;ln<Nt;ln++){var Na=Rt[ln];L[Na]||(L[Na]=nt(Na))}};ce();var me=function(nt){an[ys]&&console.info("Redefining LocalForage driver: "+ys),an[ys]=L,Sa[ys]=nt,ns()};"_support"in L?L._support&&typeof L._support=="function"?L._support().then(me,rs):me(!!L._support):me(!0)}catch(Me){rs(Me)}});return h(j,W,G),j},T.prototype.driver=function(){return this._driver||null},T.prototype.getDriver=function(L,W,G){var j=an[L]?u.resolve(an[L]):u.reject(new Error("Driver not found."));return h(j,W,G),j},T.prototype.getSerializer=function(L){var W=u.resolve(as);return h(W,L),W},T.prototype.ready=function(L){var W=this,G=W._driverSet.then(function(){return W._ready===null&&(W._ready=W._initDriver()),W._ready});return h(G,L,L),G},T.prototype.setDriver=function(L,W,G){var j=this;St(L)||(L=[L]);var ns=this._getSupportedDrivers(L);function rs(){j._config.driver=j.driver()}function ys(xs){return j._extend(xs),rs(),j._ready=j._initStorage(j._config),j._ready}function cs(xs){return function(){var qs=0;function Js(){for(;qs<xs.length;){var Ks=xs[qs];return qs++,j._dbInfo=null,j._ready=null,j.getDriver(Ks).then(ys).catch(Js)}rs();var ce=new Error("No available storage method found.");return j._driverSet=u.reject(ce),j._driverSet}return Js()}}var ds=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=ds.then(function(){var xs=ns[0];return j._dbInfo=null,j._ready=null,j.getDriver(xs).then(function(qs){j._driver=qs._driver,rs(),j._wrapLibraryMethodsWithReady(),j._initDriver=cs(ns)})}).catch(function(){rs();var xs=new Error("No available storage method found.");return j._driverSet=u.reject(xs),j._driverSet}),h(this._driverSet,W,G),this._driverSet},T.prototype.supports=function(L){return!!Sa[L]},T.prototype._extend=function(L){Ia(this,L)},T.prototype._getSupportedDrivers=function(L){for(var W=[],G=0,j=L.length;G<j;G++){var ns=L[G];this.supports(ns)&&W.push(ns)}return W},T.prototype._wrapLibraryMethodsWithReady=function(){for(var L=0,W=dt.length;L<W;L++)It(this,dt[L])},T.prototype.createInstance=function(L){return new T(L)},T}(),Lt=new La;t.exports=Lt},{3:3}]},{},[4])(4)})})(q9);var Gf=q9.exports;const ec=ul(Gf);class $9{constructor(s,e,t){this.urlCache={},this.storage=void 0,this.name=s,this.requester=e||kl,this.resolver=t,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let s;typeof ec>"u"&&(s=ec),this.storage=s.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(s){let e=navigator.onLine;this.online=e,e?this.emit("online",this):this.emit("offline",this)}add(s,e){let t=s.resources.map(n=>{let{href:a}=n,o=this.resolver(a),r=window.encodeURIComponent(o);return this.storage.getItem(r).then(i=>!i||e?this.requester(o,"binary").then(p=>this.storage.setItem(r,p)):i)});return Promise.all(t)}put(s,e,t){let n=window.encodeURIComponent(s);return this.storage.getItem(n).then(a=>a||this.requester(s,"binary",e,t).then(o=>this.storage.setItem(n,o)))}request(s,e,t,n){return this.online?this.requester(s,e,t,n).then(a=>(this.put(s),a)):this.retrieve(s,e)}retrieve(s,e){new Gs;var t,n=new nn(s);return e||(e=n.extension),e=="blob"?t=this.getBlob(s):t=this.getText(s),t.then(a=>{var o=new Gs,r;return a?(r=this.handleResponse(a,e),o.resolve(r)):o.reject({message:"File not found in storage: "+s,stack:new Error().stack}),o.promise})}handleResponse(s,e){var t;return e=="json"?t=JSON.parse(s):Fl(e)?t=wt(s,"text/xml"):e=="xhtml"?t=wt(s,"application/xhtml+xml"):e=="html"||e=="htm"?t=wt(s,"text/html"):t=s,t}getBlob(s,e){let t=window.encodeURIComponent(s);return this.storage.getItem(t).then(function(n){if(n)return e=e||ol.lookup(s),new Blob([n],{type:e})})}getText(s,e){let t=window.encodeURIComponent(s);return e=e||ol.lookup(s),this.storage.getItem(t).then(function(n){var a=new Gs,o=new FileReader,r;if(n)return r=new Blob([n],{type:e}),o.addEventListener("loadend",()=>{a.resolve(o.result)}),o.readAsText(r,e),a.promise})}getBase64(s,e){let t=window.encodeURIComponent(s);return e=e||ol.lookup(s),this.storage.getItem(t).then(n=>{var a=new Gs,o=new FileReader,r;if(n)return r=new Blob([n],{type:e}),o.addEventListener("loadend",()=>{a.resolve(o.result)}),o.readAsDataURL(r,e),a.promise})}createUrl(s,e){var t=new Gs,n=window.URL||window.webkitURL||window.mozURL,a,o,r=e&&e.base64;return s in this.urlCache?(t.resolve(this.urlCache[s]),t.promise):(r?(o=this.getBase64(s),o&&o.then((function(i){this.urlCache[s]=i,t.resolve(i)}).bind(this))):(o=this.getBlob(s),o&&o.then((function(i){a=n.createObjectURL(i),this.urlCache[s]=a,t.resolve(a)}).bind(this))),o||t.reject({message:"File not found in storage: "+s,stack:new Error().stack}),t.promise)}revokeUrl(s){var e=window.URL||window.webkitURL||window.mozURL,t=this.urlCache[s];t&&e.revokeObjectURL(t)}destroy(){var s=window.URL||window.webkitURL||window.mozURL;for(let e in this.urlCache)s.revokeObjectURL(e);this.urlCache={},this.removeListeners()}}xt($9.prototype);class Wr{constructor(s){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",s&&this.parse(s)}parse(s){if(!s)return this;const e=ye(s,"display_options");return e?(tn(e,"option").forEach(n=>{let a="";switch(n.childNodes.length&&(a=n.childNodes[0].nodeValue),n.attributes.name.value){case"interactive":this.interactive=a;break;case"fixed-layout":this.fixedLayout=a;break;case"open-to-spread":this.openToSpread=a;break;case"orientation-lock":this.orientationLock=a;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const tc="META-INF/container.xml",Yf="META-INF/com.apple.ibooks.display-options.xml",vt={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class bi{constructor(s,e){typeof e>"u"&&typeof s!="string"&&!(s instanceof Blob)&&!(s instanceof ArrayBuffer)&&(e=s,s=void 0),this.settings=Ue(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),Ue(this.settings,e),this.opening=new Gs,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new Gs,spine:new Gs,metadata:new Gs,cover:new Gs,navigation:new Gs,pageList:new Gs,resources:new Gs,displayOptions:new Gs},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||kl,this.spine=new yd,this.locations=new m9(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),s&&this.open(s,this.settings.openAs).catch(t=>{var n=new Error("Cannot load book at "+s);this.emit(Cs.BOOK.OPEN_FAILED,n)})}open(s,e){var t,n=e||this.determineType(s);return n===vt.BINARY?(this.archived=!0,this.url=new Et("/",""),t=this.openEpub(s)):n===vt.BASE64?(this.archived=!0,this.url=new Et("/",""),t=this.openEpub(s,n)):n===vt.EPUB?(this.archived=!0,this.url=new Et("/",""),t=this.request(s,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):n==vt.OPF?(this.url=new Et(s),t=this.openPackaging(this.url.Path.toString())):n==vt.MANIFEST?(this.url=new Et(s),t=this.openManifest(this.url.Path.toString())):(this.url=new Et(s),t=this.openContainer(tc).then(this.openPackaging.bind(this))),t}openEpub(s,e){return this.unarchive(s,e||this.settings.encoding).then(()=>this.openContainer(tc)).then(t=>this.openPackaging(t))}openContainer(s){return this.load(s).then(e=>(this.container=new dd(e),this.resolve(this.container.packagePath)))}openPackaging(s){return this.path=new nn(s),this.load(s).then(e=>(this.packaging=new Zp(e),this.unpack(this.packaging)))}openManifest(s){return this.path=new nn(s),this.load(s).then(e=>(this.packaging=new Zp,this.packaging.load(e),this.unpack(this.packaging)))}load(s){var e=this.resolve(s);return this.archived?this.archive.request(e):this.request(e,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(s,e){if(s){var t=s,n=s.indexOf("://")>-1;return n?s:(this.path&&(t=this.path.resolve(s)),e!=!1&&this.url&&(t=this.url.resolve(t)),t)}}canonical(s){var e=s;return s?(this.settings.canonical?e=this.settings.canonical(s):e=this.resolve(s,!0),e):""}determineType(s){var e,t,n;if(this.settings.encoding==="base64")return vt.BASE64;if(typeof s!="string")return vt.BINARY;if(e=new Et(s),t=e.path(),n=t.extension,n&&(n=n.replace(/\?.*$/,"")),!n)return vt.DIRECTORY;if(n==="epub")return vt.EPUB;if(n==="opf")return vt.OPF;if(n==="json")return vt.MANIFEST}unpack(s){this.package=s,this.packaging.metadata.layout===""?this.load(this.url.resolve(Yf)).then(e=>{this.displayOptions=new Wr(e),this.loading.displayOptions.resolve(this.displayOptions)}).catch(e=>{this.displayOptions=new Wr,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new Wr,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new Ed(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(e=>{console.error(e)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(s){let e=s.navPath||s.ncxPath,t=s.toc;return t?new Promise((n,a)=>{this.navigation=new Hr(t),s.pageList&&(this.pageList=new Vr(s.pageList)),n(this.navigation)}):e?this.load(e,"xml").then(n=>(this.navigation=new Hr(n),this.pageList=new Vr(n),this.navigation)):new Promise((n,a)=>{this.navigation=new Hr,this.pageList=new Vr,n(this.navigation)})}section(s){return this.spine.get(s)}renderTo(s,e){return this.rendition=new Ci(this,e),this.rendition.attachTo(s),this.rendition}setRequestCredentials(s){this.settings.requestCredentials=s}setRequestHeaders(s){this.settings.requestHeaders=s}unarchive(s,e){return this.archive=new Zf,this.archive.open(s,e)}store(s){let e=this.settings.replacements&&this.settings.replacements!=="none",t=this.url,n=this.settings.requestMethod||kl.bind(this);return this.storage=new $9(s,n,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let a=(o,r)=>{r.output=this.resources.substitute(o,r.url)};this.resources.settings.replacements=e||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new Et("/",""),this.spine.hooks.serialize.register(a)}),this.storage.on("online",()=>{this.url=t,this.spine.hooks.serialize.deregister(a)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((s,e)=>{e.output=this.resources.substitute(s,e.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(s){var e=new Ys(s),t=this.spine.get(e.spinePos),n=this.load.bind(this);return t?t.load(n).then(function(a){var o=e.toRange(t.document);return o}):new Promise((a,o)=>{o("CFI could not be found")})}key(s){var e=s||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${yr}:${e}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}xt(bi.prototype);function yl(l,s){return new bi(l,s)}yl.VERSION=yr;typeof global<"u"&&(global.EPUBJS_VERSION=yr);yl.Book=bi;yl.Rendition=Ci;yl.Contents=Di;yl.CFI=Ys;yl.utils=ad;function Xf(l,s){l.addEventListener("keyup",e=>{e.key==="ArrowUp"||e.key==="ArrowRight"?s("next"):(e.key==="ArrowDown"||e.key==="ArrowLeft")&&s("prev")},!1)}function Kf(l,s){let n=0,a;l.addEventListener("wheel",o=>{o.ignore||(o.ignore=!0,clearTimeout(a),n+=o.deltaY,a=setTimeout(()=>{if(Math.abs(n)>=750){let r=Math.sign(n)>0?"next":"prev";s(r),n=0}n=0},50))})}function Jf(l,s){let a,o,r;l.addEventListener("touchstart",i=>{i.ignore||(i.ignore=!0,a=i.changedTouches[0].pageX,o=i.changedTouches[0].pageY,r=Date.now())},!1),l.addEventListener("touchend",i=>{var f,h;if(i.ignore)return;i.ignore=!0;const p=i.changedTouches[0].pageX-a,c=i.changedTouches[0].pageY-o;Date.now()-r<=500&&(Math.abs(p)>=50&&Math.abs(c)<=200?s(p<0?"prev":"next"):Math.abs(c)>=50&&Math.abs(p)<=200?s(c<0?"up":"down"):((h=(f=l==null?void 0:l.defaultView)==null?void 0:f.getSelection())==null||h.removeAllRanges(),l.dispatchEvent(new MouseEvent("click",{clientX:a,clientY:o})),i.preventDefault()))},!1)}const Qf=l=>({}),nc=l=>({});function ac(l){let s,e;const t=l[16].loadingView,n=bn(t,l,l[15],nc),a=n||sh();return{c(){s=R("div"),a&&a.c()},l(o){s=I(o,"DIV",{});var r=Y(s);a&&a.l(r),r.forEach(B)},m(o,r){q(o,s,r),a&&a.m(s,null),e=!0},p(o,r){n&&n.p&&(!e||r&32768)&&Bn(n,t,o,o[15],e?wn(t,o[15],r,Qf):_n(o[15]),nc)},i(o){e||(ps(a,o),e=!0)},o(o){fs(a,o),e=!1},d(o){o&&B(s),a&&a.d(o)}}}function sh(l){let s,e="Loading…";return{c(){s=R("div"),s.textContent=e,this.h()},l(t){s=I(t,"DIV",{class:!0,"data-svelte-h":!0}),ss(s)!=="svelte-boy9zg"&&(s.textContent=e),this.h()},h(){x(s,"class","loadingView svelte-o9nyn5")},m(t,n){q(t,s,n)},p:Ns,d(t){t&&B(s)}}}function eh(l){let s,e,t,n,a,o=!l[1]&&ac(l);return{c(){s=R("div"),e=R("div"),t=R("div"),n=P(),o&&o.c(),this.h()},l(r){s=I(r,"DIV",{class:!0});var i=Y(s);e=I(i,"DIV",{class:!0});var p=Y(e);t=I(p,"DIV",{id:!0,style:!0,class:!0}),Y(t).forEach(B),n=z(p),o&&o.l(p),p.forEach(B),i.forEach(B),this.h()},h(){x(t,"id","viewer"),Ts(t,"display",l[1]?"":"none"),x(t,"class","svelte-o9nyn5"),x(e,"class","viewHolder svelte-o9nyn5"),x(s,"class","reader svelte-o9nyn5")},m(r,i){q(r,s,i),F(s,e),F(e,t),l[17](t),F(e,n),o&&o.m(e,null),a=!0},p(r,[i]){(!a||i&2)&&Ts(t,"display",r[1]?"":"none"),r[1]?o&&(Ft(),fs(o,1,1,()=>{o=null}),kt()):o?(o.p(r,i),i&2&&ps(o,1)):(o=ac(r),o.c(),ps(o,1),o.m(e,null))},i(r){a||(ps(o),a=!0)},o(r){fs(o),a=!1},d(r){r&&B(s),l[17](null),o&&o.d()}}}function th(l,s,e){let{$$slots:t={},$$scope:n}=s,{url:a=""}=s,{getRendition:o}=s,{location:r}=s,{tocChanged:i}=s,{handleTextSelected:p=()=>{}}=s,{handleKeyPress:c=()=>{}}=s,{epubInitOptions:u={}}=s,{epubOptions:f={}}=s,h;const g=bc();let m=null,d=null,v=null,A=!1,C=[];const b=()=>{m&&m.destroy(),a&&(m=h(a,u)),m.loaded.navigation.then(({toc:ls})=>{e(1,A=!0),C=ls,i&&i(ls),E()})},E=()=>{var ls;e(14,d=m.renderTo(v,{width:"100%",height:"100%",...f})),U(),o&&o(d),typeof r=="string"||typeof r=="number"?d.display(r):C.length>0&&((ls=C[0])!=null&&ls.href)?d.display(C[0].href):d.display()},D=ls=>{const hs=ls&&ls.start;r!==hs&&g("update:location",hs)},N=(ls,hs=500)=>{let gs;return function(...Es){const Ls=()=>{gs=null,ls(...Es)};clearTimeout(gs),gs=setTimeout(Ls,hs)}},O=ls=>{ls==="next"?H():ls==="prev"&&X()},U=()=>{d&&(d.on("rendered",(ls,hs)=>{var gs,vs;(gs=hs==null?void 0:hs.iframe)==null||gs.contentWindow.focus(),(vs=f==null?void 0:f.flow)!=null&&vs.includes("scrolled")||Kf(hs.document,O),Jf(hs.document,O),Xf(hs.document,O)}),d.on("locationChanged",D),d.on("displayError",()=>console.error("error rendering book")),p&&d.on("selected",p),c&&d.on("selected",c))},H=()=>{d==null||d.next()},X=()=>{d==null||d.prev()},es=ls=>{typeof ls=="string"&&d.display(ls),typeof ls=="number"&&d.display(ls)};V9(()=>{ru(()=>import("./index.d2a423ce.js"),[]).then(({default:ls})=>{e(13,h=ls),b()})});function us(ls){rr[ls?"unshift":"push"](()=>{v=ls,e(0,v)})}return l.$$set=ls=>{"url"in ls&&e(2,a=ls.url),"getRendition"in ls&&e(3,o=ls.getRendition),"location"in ls&&e(4,r=ls.location),"tocChanged"in ls&&e(5,i=ls.tocChanged),"handleTextSelected"in ls&&e(6,p=ls.handleTextSelected),"handleKeyPress"in ls&&e(7,c=ls.handleKeyPress),"epubInitOptions"in ls&&e(8,u=ls.epubInitOptions),"epubOptions"in ls&&e(9,f=ls.epubOptions),"$$scope"in ls&&e(15,n=ls.$$scope)},l.$$.update=()=>{l.$$.dirty&16400&&r&&N(hs=>{typeof hs=="string"&&(d==null||d.display(hs)),typeof hs=="number"&&(d==null||d.display(hs))})(),l.$$.dirty&8196&&a&&h&&b()},[v,A,a,o,r,i,p,c,u,f,H,X,es,h,d,n,t,us]}class nh extends fe{constructor(s){super(),he(this,s,th,eh,de,{url:2,getRendition:3,location:4,tocChanged:5,handleTextSelected:6,handleKeyPress:7,epubInitOptions:8,epubOptions:9,nextPage:10,prevPage:11,setLocation:12})}get nextPage(){return this.$$.ctx[10]}get prevPage(){return this.$$.ctx[11]}get setLocation(){return this.$$.ctx[12]}}function lc(l,s,e){const t=l.slice();return t[25]=s[e],t[26]=s,t[27]=e,t}function oc(l,s,e){const t=l.slice();return t[28]=s[e],t[27]=e,t}const ah=l=>({}),rc=l=>({}),lh=l=>({}),ic=l=>({});function pc(l){let s,e='<span class="tocButtonBar svelte-f1s7r0" style="top: 35%"></span> <span class="tocButtonBar svelte-f1s7r0" style="top: 66%"></span>',t,n;return{c(){s=R("button"),s.innerHTML=e,this.h()},l(a){s=I(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ss(s)!=="svelte-1nhnnx9"&&(s.innerHTML=e),this.h()},h(){x(s,"class","tocButton svelte-f1s7r0"),x(s,"type","button"),Ke(s,"tocButtonExpanded",l[4])},m(a,o){q(a,s,o),t||(n=be(s,"click",l[10]),t=!0)},p(a,o){o&16&&Ke(s,"tocButtonExpanded",a[4])},d(a){a&&B(s),t=!1,n()}}}function oh(l){let s,e=(l[2]||l[3])+"",t;return{c(){s=R("div"),t=te(e),this.h()},l(n){s=I(n,"DIV",{class:!0});var a=Y(s);t=ne(a,e),a.forEach(B),this.h()},h(){x(s,"class","titleArea svelte-f1s7r0")},m(n,a){q(n,s,a),F(s,t)},p(n,a){a&12&&e!==(e=(n[2]||n[3])+"")&&Ye(t,e)},d(n){n&&B(s)}}}function rh(l){let s;const e=l[18].loadingView,t=bn(e,l,l[24],rc);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,a){t&&t.m(n,a),s=!0},p(n,a){t&&t.p&&(!s||a&16777216)&&Bn(t,e,n,n[24],s?wn(e,n[24],a,ah):_n(n[24]),rc)},i(n){s||(ps(t,n),s=!0)},o(n){fs(t,n),s=!1},d(n){t&&t.d(n)}}}function cc(l){let s,e,t,n=ct(l[7]),a=[];for(let r=0;r<n.length;r+=1)a[r]=fc(lc(l,n,r));let o=l[4]&&hc(l);return{c(){s=R("div");for(let r=0;r<a.length;r+=1)a[r].c();e=P(),o&&o.c(),t=Je(),this.h()},l(r){s=I(r,"DIV",{class:!0});var i=Y(s);for(let p=0;p<a.length;p+=1)a[p].l(i);i.forEach(B),e=z(r),o&&o.l(r),t=Je(),this.h()},h(){x(s,"class","tocArea svelte-f1s7r0")},m(r,i){q(r,s,i);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(s,null);q(r,e,i),o&&o.m(r,i),q(r,t,i)},p(r,i){if(i&2208){n=ct(r[7]);let p;for(p=0;p<n.length;p+=1){const c=lc(r,n,p);a[p]?a[p].p(c,i):(a[p]=fc(c),a[p].c(),a[p].m(s,null))}for(;p<a.length;p+=1)a[p].d(1);a.length=n.length}r[4]?o?o.p(r,i):(o=hc(r),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(r){r&&(B(s),B(e),B(t)),ir(a,r),o&&o.d(r)}}}function uc(l){let s,e,t;function n(...a){return l[21](l[25],l[26],l[27],...a)}return{c(){s=R("div"),this.h()},l(a){s=I(a,"DIV",{class:!0,style:!0}),Y(s).forEach(B),this.h()},h(){x(s,"class","expansion svelte-f1s7r0"),Ts(s,"transform",l[25].expansion?"rotate(180deg)":"rotate(0deg)")},m(a,o){q(a,s,o),e||(t=be(s,"click",j9(n)),e=!0)},p(a,o){l=a,o&128&&Ts(s,"transform",l[25].expansion?"rotate(180deg)":"rotate(0deg)")},d(a){a&&B(s),e=!1,t()}}}function yc(l){let s,e=ct(l[25].subitems),t=[];for(let n=0;n<e.length;n+=1)t[n]=dc(oc(l,e,n));return{c(){s=R("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){s=I(n,"DIV",{style:!0});var a=Y(s);for(let o=0;o<t.length;o+=1)t[o].l(a);a.forEach(B),this.h()},h(){Ts(s,"display",l[25].expansion?"none":"")},m(n,a){q(n,s,a);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(s,null)},p(n,a){if(a&2208){e=ct(n[25].subitems);let o;for(o=0;o<e.length;o+=1){const r=oc(n,e,o);t[o]?t[o].p(r,a):(t[o]=dc(r),t[o].c(),t[o].m(s,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=e.length}a&128&&Ts(s,"display",n[25].expansion?"none":"")},d(n){n&&B(s),ir(t,n)}}}function dc(l){let s,e=" ".repeat(4)+l[28].label+"",t,n,a,o;function r(){return l[23](l[28])}return{c(){s=R("button"),t=te(e),n=P(),this.h()},l(i){s=I(i,"BUTTON",{type:!0,class:!0});var p=Y(s);t=ne(p,e),n=z(p),p.forEach(B),this.h()},h(){x(s,"type","button"),x(s,"class","tocAreaButton svelte-f1s7r0"),Ke(s,"active",l[5]&&l[28].href.includes(l[5].start.href))},m(i,p){q(i,s,p),F(s,t),F(s,n),a||(o=be(s,"click",r),a=!0)},p(i,p){l=i,p&128&&e!==(e=" ".repeat(4)+l[28].label+"")&&Ye(t,e),p&160&&Ke(s,"active",l[5]&&l[28].href.includes(l[5].start.href))},d(i){i&&B(s),a=!1,o()}}}function fc(l){let s,e,t=l[25].label+"",n,a,o,r,i,p,c=l[25].subitems&&l[25].subitems.length>0&&uc(l);function u(){return l[22](l[25])}let f=l[25].subitems&&l[25].subitems.length>0&&yc(l);return{c(){s=R("div"),e=R("button"),n=te(t),a=P(),c&&c.c(),o=P(),f&&f.c(),r=P(),this.h()},l(h){s=I(h,"DIV",{});var g=Y(s);e=I(g,"BUTTON",{type:!0,class:!0});var m=Y(e);n=ne(m,t),a=z(m),c&&c.l(m),m.forEach(B),o=z(g),f&&f.l(g),r=z(g),g.forEach(B),this.h()},h(){x(e,"type","button"),x(e,"class","tocAreaButton svelte-f1s7r0"),Ke(e,"active",l[5]&&l[25].href.includes(l[5].start.href))},m(h,g){q(h,s,g),F(s,e),F(e,n),F(e,a),c&&c.m(e,null),F(s,o),f&&f.m(s,null),F(s,r),i||(p=be(e,"click",u),i=!0)},p(h,g){l=h,g&128&&t!==(t=l[25].label+"")&&Ye(n,t),l[25].subitems&&l[25].subitems.length>0?c?c.p(l,g):(c=uc(l),c.c(),c.m(e,null)):c&&(c.d(1),c=null),g&160&&Ke(e,"active",l[5]&&l[25].href.includes(l[5].start.href)),l[25].subitems&&l[25].subitems.length>0?f?f.p(l,g):(f=yc(l),f.c(),f.m(s,r)):f&&(f.d(1),f=null)},d(h){h&&B(s),c&&c.d(),f&&f.d(),i=!1,p()}}}function hc(l){let s,e,t;return{c(){s=R("div"),this.h()},l(n){s=I(n,"DIV",{class:!0}),Y(s).forEach(B),this.h()},h(){x(s,"class","tocBackground svelte-f1s7r0")},m(n,a){q(n,s,a),e||(t=be(s,"click",l[10]),e=!0)},p:Ns,d(n){n&&B(s),e=!1,t()}}}function ih(l){let s,e,t,n,a,o,r,i,p,c,u,f,h,g,m,d,v,A=l[0]&&pc(l);const C=l[18].title,b=bn(C,l,l[24],ic),E=b||oh(l),D=[{url:l[1]},l[15],{tocChanged:l[14]},{getRendition:l[9]}];let N={$$slots:{default:[rh]},$$scope:{ctx:l}};for(let U=0;U<D.length;U+=1)N=Zr(N,D[U]);a=new nh({props:N}),l[19](a),a.$on("update:location",l[20]);let O=l[0]&&cc(l);return{c(){s=R("div"),e=R("div"),A&&A.c(),t=P(),E&&E.c(),n=P(),Bs(a.$$.fragment),o=P(),r=R("button"),i=te("‹"),c=P(),u=R("button"),f=te("›"),g=P(),O&&O.c(),this.h()},l(U){s=I(U,"DIV",{class:!0});var H=Y(s);e=I(H,"DIV",{class:!0});var X=Y(e);A&&A.l(X),t=z(X),E&&E.l(X),n=z(X),ks(a.$$.fragment,X),o=z(X),r=I(X,"BUTTON",{class:!0});var es=Y(r);i=ne(es,"‹"),es.forEach(B),c=z(X),u=I(X,"BUTTON",{class:!0});var us=Y(u);f=ne(us,"›"),us.forEach(B),X.forEach(B),g=z(H),O&&O.l(H),H.forEach(B),this.h()},h(){var U,H;x(r,"class","arrow pre svelte-f1s7r0"),r.disabled=p=(U=l[5])==null?void 0:U.atStart,x(u,"class","arrow next svelte-f1s7r0"),u.disabled=h=(H=l[5])==null?void 0:H.atEnd,x(e,"class","readerArea svelte-f1s7r0"),Ke(e,"containerExpanded",l[4]),x(s,"class","container svelte-f1s7r0")},m(U,H){q(U,s,H),F(s,e),A&&A.m(e,null),F(e,t),E&&E.m(e,null),F(e,n),_s(a,e,null),F(e,o),F(e,r),F(r,i),F(e,c),F(e,u),F(u,f),F(s,g),O&&O.m(s,null),m=!0,d||(v=[be(r,"click",l[12]),be(u,"click",l[13])],d=!0)},p(U,[H]){var es,us;U[0]?A?A.p(U,H):(A=pc(U),A.c(),A.m(e,t)):A&&(A.d(1),A=null),b?b.p&&(!m||H&16777216)&&Bn(b,C,U,U[24],m?wn(C,U[24],H,lh):_n(U[24]),ic):E&&E.p&&(!m||H&12)&&E.p(U,m?H:-1);const X=H&49666?lu(D,[H&2&&{url:U[1]},H&32768&&ou(U[15]),H&16384&&{tocChanged:U[14]},H&512&&{getRendition:U[9]}]):{};H&16777216&&(X.$$scope={dirty:H,ctx:U}),a.$set(X),(!m||H&32&&p!==(p=(es=U[5])==null?void 0:es.atStart))&&(r.disabled=p),(!m||H&32&&h!==(h=(us=U[5])==null?void 0:us.atEnd))&&(u.disabled=h),(!m||H&16)&&Ke(e,"containerExpanded",U[4]),U[0]?O?O.p(U,H):(O=cc(U),O.c(),O.m(s,null)):O&&(O.d(1),O=null)},i(U){m||(ps(E,U),ps(a.$$.fragment,U),m=!0)},o(U){fs(E,U),fs(a.$$.fragment,U),m=!1},d(U){U&&B(s),A&&A.d(),E&&E.d(U),l[19](null),ws(a),O&&O.d(),d=!1,Ta(v)}}}function ph(l,s,e){let{$$slots:t={},$$scope:n}=s;const a=bc();let{showToc:o=!0}=s,{url:r=""}=s,{title:i=""}=s,{getRendition:p}=s,{tocChanged:c}=s,u="",f=!1,h=null,g=null,m=[];const d=X=>{p&&p(X),X.on("relocated",us=>{e(5,h=us)});const es=X.book;es.ready.then(()=>{const us=es.package.metadata;e(3,u=us.title)})},v=()=>{e(4,f=!f)},A=X=>{g==null||g.setLocation(X),e(4,f=!1)},C=()=>{g.prevPage()},b=()=>{g.nextPage()},E=X=>{e(7,m=X.map(es=>({...es,expansion:!1}))),c&&c(X)};function D(X){rr[X?"unshift":"push"](()=>{g=X,e(6,g)})}const N=X=>a("update:location",X.detail),O=(X,es,us,ls)=>e(7,es[us].expansion=!X.expansion,m),U=X=>A(X.href),H=X=>A(X.href);return l.$$set=X=>{e(15,s=Zr(Zr({},s),up(X))),"showToc"in X&&e(0,o=X.showToc),"url"in X&&e(1,r=X.url),"title"in X&&e(2,i=X.title),"getRendition"in X&&e(16,p=X.getRendition),"tocChanged"in X&&e(17,c=X.tocChanged),"$$scope"in X&&e(24,n=X.$$scope)},s=up(s),[o,r,i,u,f,h,g,m,a,d,v,A,C,b,E,s,p,c,t,D,N,O,U,H,n]}class yt extends fe{constructor(s){super(),he(this,s,ph,ih,de,{showToc:0,url:1,title:2,getRendition:16,tocChanged:17})}}function ch(l){let s,e,t;return e=new yt({props:{url:mt+"/files/啼笑因缘.epub"}}),{c(){s=R("div"),Bs(e.$$.fragment),this.h()},l(n){s=I(n,"DIV",{style:!0});var a=Y(s);ks(e.$$.fragment,a),a.forEach(B),this.h()},h(){Ts(s,"height","100vh")},m(n,a){q(n,s,a),_s(e,s,null),t=!0},p:Ns,i(n){t||(ps(e.$$.fragment,n),t=!0)},o(n){fs(e.$$.fragment,n),t=!1},d(n){n&&B(s),ws(e)}}}class uh extends fe{constructor(s){super(),he(this,s,null,ch,de,{})}}function yh(l){let s,e,t;return e=new yt({props:{url:mt+"/files/啼笑因缘.epub",location:l[0]}}),e.$on("update:location",l[1]),{c(){s=R("div"),Bs(e.$$.fragment),this.h()},l(n){s=I(n,"DIV",{style:!0});var a=Y(s);ks(e.$$.fragment,a),a.forEach(B),this.h()},h(){Ts(s,"height","100vh")},m(n,a){q(n,s,a),_s(e,s,null),t=!0},p(n,[a]){const o={};a&1&&(o.location=n[0]),e.$set(o)},i(n){t||(ps(e.$$.fragment,n),t=!0)},o(n){fs(e.$$.fragment,n),t=!1},d(n){n&&B(s),ws(e)}}}function dh(l,s,e){let t=localStorage.getItem("book-progress")||null,n=!1;return[t,o=>{const r=o.detail;if(!n)return e(0,t=localStorage.getItem("book-progress")),n=!0;localStorage.setItem("book-progress",r),e(0,t=r)}]}class fh extends fe{constructor(s){super(),he(this,s,dh,yh,de,{})}}function hh(l){let s,e,t,n,a,o,r;return t=new yt({props:{url:mt+"/files/啼笑因缘.epub",getRendition:l[2],tocChanged:l[4]}}),t.$on("update:location",l[3]),{c(){s=R("div"),e=R("div"),Bs(t.$$.fragment),n=P(),a=R("div"),o=te(l[1]),this.h()},l(i){s=I(i,"DIV",{style:!0});var p=Y(s);e=I(p,"DIV",{style:!0});var c=Y(e);ks(t.$$.fragment,c),c.forEach(B),n=z(p),a=I(p,"DIV",{class:!0});var u=Y(a);o=ne(u,l[1]),u.forEach(B),p.forEach(B),this.h()},h(){Ts(e,"height","100vh"),x(a,"class","page svelte-ut49mg"),Ts(s,"position","relative")},m(i,p){q(i,s,p),F(s,e),_s(t,e,null),F(s,n),F(s,a),F(a,o),r=!0},p(i,[p]){const c={};p&1&&(c.tocChanged=i[4]),t.$set(c),(!r||p&2)&&Ye(o,i[1])},i(i){r||(ps(t.$$.fragment,i),r=!0)},o(i){fs(t.$$.fragment,i),r=!1},d(i){i&&B(s),ws(t)}}}function vh(l,s,e){let t=null,n=[],a="";const o=c=>t=c,r=(c,u)=>{let f="n/a";return c.some(h=>{if(h.subitems.length>0){const g=r(h.subitems,u);if(g!=="n/a")return f=g,!0}else if(h.href.includes(u))return f=h.label,!0}),f};return[n,a,o,c=>{if(c.detail){const{displayed:f,href:h}=t.location.start;if(h!=="titlepage.xhtml"){const g=r(n,h);e(1,a=`${f.page}/${f.total} ${g}`)}}},c=>e(0,n=c)]}class Eh extends fe{constructor(s){super(),he(this,s,vh,hh,de,{})}}function Ah(l){let s,e,t,n,a,o,r="-",i,p,c,u,f,h,g,m="+",d,v,A;return t=new yt({props:{url:mt+"/files/啼笑因缘.epub",getRendition:l[2]}}),{c(){s=R("div"),e=R("div"),Bs(t.$$.fragment),n=P(),a=R("div"),o=R("button"),o.textContent=r,i=P(),p=R("span"),c=te("Current size: "),u=te(l[0]),f=te("%"),h=P(),g=R("button"),g.textContent=m,this.h()},l(C){s=I(C,"DIV",{style:!0});var b=Y(s);e=I(b,"DIV",{style:!0});var E=Y(e);ks(t.$$.fragment,E),E.forEach(B),n=z(b),a=I(b,"DIV",{class:!0});var D=Y(a);o=I(D,"BUTTON",{"data-svelte-h":!0}),ss(o)!=="svelte-1e7jsmn"&&(o.textContent=r),i=z(D),p=I(D,"SPAN",{});var N=Y(p);c=ne(N,"Current size: "),u=ne(N,l[0]),f=ne(N,"%"),N.forEach(B),h=z(D),g=I(D,"BUTTON",{"data-svelte-h":!0}),ss(g)!=="svelte-1dr4z3n"&&(g.textContent=m),D.forEach(B),b.forEach(B),this.h()},h(){Ts(e,"height","100vh"),x(a,"class","size svelte-1b00e0m"),Ts(s,"position","relative")},m(C,b){q(C,s,b),F(s,e),_s(t,e,null),F(s,n),F(s,a),F(a,o),F(a,i),F(a,p),F(p,c),F(p,u),F(p,f),F(a,h),F(a,g),d=!0,v||(A=[be(o,"click",l[3]),be(g,"click",l[4])],v=!0)},p(C,[b]){(!d||b&1)&&Ye(u,C[0])},i(C){d||(ps(t.$$.fragment,C),d=!0)},o(C){fs(t.$$.fragment,C),d=!1},d(C){C&&B(s),ws(t),v=!1,Ta(A)}}}function Dh(l,s,e){let t=null,n=100;const a=p=>{e(0,n=p),t.themes.fontSize(`${p}%`)};return[n,a,p=>{t=p,t.themes.fontSize(`${n}%`)},()=>a(Math.max(80,n-10)),()=>a(Math.min(130,n+10))]}class mh extends fe{constructor(s){super(),he(this,s,Dh,Ah,de,{})}}function gh(l){let s,e,t;return e=new yt({props:{url:mt+"/files/啼笑因缘.epub",getRendition:l[0]}}),{c(){s=R("div"),Bs(e.$$.fragment),this.h()},l(n){s=I(n,"DIV",{style:!0});var a=Y(s);ks(e.$$.fragment,a),a.forEach(B),this.h()},h(){Ts(s,"height","100vh")},m(n,a){q(n,s,a),_s(e,s,null),t=!0},p:Ns,i(n){t||(ps(e.$$.fragment,n),t=!0)},o(n){fs(e.$$.fragment,n),t=!1},d(n){n&&B(s),ws(e)}}}function Ch(l){return[e=>{e.themes.register("custom",{"*":{color:"#fff","background-color":"#252525"},image:{border:"1px solid red"},p:{"font-family":"Helvetica, sans-serif","font-weight":"400","font-size":"20px",border:"1px solid green"}}),e.themes.select("custom")}]}class bh extends fe{constructor(s){super(),he(this,s,Ch,gh,de,{})}}function vc(l,s,e){const t=l.slice();return t[7]=s[e].text,t[8]=s[e].cfiRange,t[10]=e,t}function Ec(l){let s,e=(l[7]||"")+"",t,n,a,o="show",r,i,p="x",c,u,f;function h(){return l[4](l[8])}function g(){return l[5](l[8],l[10])}return{c(){s=R("li"),t=te(e),n=P(),a=R("button"),a.textContent=o,r=P(),i=R("button"),i.textContent=p,c=P()},l(m){s=I(m,"LI",{});var d=Y(s);t=ne(d,e),n=z(d),a=I(d,"BUTTON",{"data-svelte-h":!0}),ss(a)!=="svelte-jji7yf"&&(a.textContent=o),r=z(d),i=I(d,"BUTTON",{"data-svelte-h":!0}),ss(i)!=="svelte-1po8xga"&&(i.textContent=p),c=z(d),d.forEach(B)},m(m,d){q(m,s,d),F(s,t),F(s,n),F(s,a),F(s,r),F(s,i),F(s,c),u||(f=[be(a,"click",h),be(i,"click",g)],u=!0)},p(m,d){l=m,d&2&&e!==(e=(l[7]||"")+"")&&Ye(t,e)},d(m){m&&B(s),u=!1,Ta(f)}}}function Bh(l){let s,e,t,n,a,o,r,i;t=new yt({props:{url:mt+"/files/啼笑因缘.epub",getRendition:l[2]}});let p=ct(l[1]),c=[];for(let u=0;u<p.length;u+=1)c[u]=Ec(vc(l,p,u));return{c(){s=R("div"),e=R("div"),Bs(t.$$.fragment),n=P(),a=R("div"),o=te(`Selection:
    `),r=R("ul");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){s=I(u,"DIV",{style:!0});var f=Y(s);e=I(f,"DIV",{style:!0});var h=Y(e);ks(t.$$.fragment,h),h.forEach(B),n=z(f),a=I(f,"DIV",{class:!0});var g=Y(a);o=ne(g,`Selection:
    `),r=I(g,"UL",{});var m=Y(r);for(let d=0;d<c.length;d+=1)c[d].l(m);m.forEach(B),g.forEach(B),f.forEach(B),this.h()},h(){Ts(e,"height","100vh"),x(a,"class","selection svelte-1s0tff2"),Ts(s,"position","relative")},m(u,f){q(u,s,f),F(s,e),_s(t,e,null),F(s,n),F(s,a),F(a,o),F(a,r);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(r,null);i=!0},p(u,[f]){if(f&11){p=ct(u[1]);let h;for(h=0;h<p.length;h+=1){const g=vc(u,p,h);c[h]?c[h].p(g,f):(c[h]=Ec(g),c[h].c(),c[h].m(r,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=p.length}},i(u){i||(ps(t.$$.fragment,u),i=!0)},o(u){fs(t.$$.fragment,u),i=!1},d(u){u&&B(s),ws(t),ir(c,u)}}}function _h(l,s,e){let t=null,n=[];const a=(c,u)=>{e(1,n=[...n,{text:t.getRange(c).toString(),cfiRange:c}]),t.annotations.add("highlight",c,{},null,"hl",{fill:"red","fill-opacity":"0.5","mix-blend-mode":"multiply"}),u.window.getSelection().removeAllRanges()},o=c=>{e(0,t=c),t.themes.default({"::selection":{background:"orange"}}),t.on("selected",a)},r=(c,u)=>{t.annotations.remove(c,"highlight"),e(1,n=n.filter((f,h)=>h!==u))};return[t,n,o,r,c=>t.display(c),(c,u)=>r(c,u)]}class wh extends fe{constructor(s){super(),he(this,s,_h,Bh,de,{})}}function Fh(l){let s,e,t;return e=new yt({props:{url:mt+"/files/啼笑因缘.epub",epubOptions:{flow:"scrolled",manager:"continuous"}}}),{c(){s=R("div"),Bs(e.$$.fragment),this.h()},l(n){s=I(n,"DIV",{style:!0});var a=Y(s);ks(e.$$.fragment,a),a.forEach(B),this.h()},h(){Ts(s,"height","100vh")},m(n,a){q(n,s,a),_s(e,s,null),t=!0},p:Ns,i(n){t||(ps(e.$$.fragment,n),t=!0)},o(n){fs(e.$$.fragment,n),t=!1},d(n){n&&B(s),ws(e)}}}class kh extends fe{constructor(s){super(),he(this,s,null,Fh,de,{})}}function xh(l){let s,e,t,n,a,o,r=l[1]?"cancel":"speak",i,p,c,u;return t=new yt({props:{url:mt+"/files/啼笑因缘.epub",getRendition:l[4]}}),t.$on("update:location",l[2]),{c(){s=R("div"),e=R("div"),Bs(t.$$.fragment),n=P(),a=R("div"),o=R("button"),i=te(r),this.h()},l(f){s=I(f,"DIV",{style:!0});var h=Y(s);e=I(h,"DIV",{style:!0});var g=Y(e);ks(t.$$.fragment,g),g.forEach(B),n=z(h),a=I(h,"DIV",{class:!0});var m=Y(a);o=I(m,"BUTTON",{class:!0});var d=Y(o);i=ne(d,r),d.forEach(B),m.forEach(B),h.forEach(B),this.h()},h(){Ts(e,"height","100vh"),x(o,"class","reader-button"),x(a,"class","speak svelte-lq6dic"),Ts(s,"position","relative")},m(f,h){q(f,s,h),F(s,e),_s(t,e,null),F(s,n),F(s,a),F(a,o),F(o,i),p=!0,c||(u=be(o,"click",l[5]),c=!0)},p(f,[h]){const g={};h&1&&(g.getRendition=f[4]),t.$set(g),(!p||h&2)&&r!==(r=f[1]?"cancel":"speak")&&Ye(i,r)},i(f){p||(ps(t.$$.fragment,f),p=!0)},o(f){fs(t.$$.fragment,f),p=!1},d(f){f&&B(s),ws(t),c=!1,u()}}}function Th(l,s,e){let t=!1,n="",a=null,o=!1;const r=()=>{const f=a.getRange(a.currentLocation().start.cfi),h=a.getRange(a.currentLocation().end.cfi);f.setEnd(h.startContainer,h.startOffset),n=f.toString().replace(/\s\s/g,"").replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"").replace(/\f/g,"")},i=f=>{f==="click"&&e(1,o=!o),o?p(n):(t=!1,window.speechSynthesis.cancel())},p=(f,h=1)=>{t=!0;const g=new SpeechSynthesisUtterance;g.text=f,g.voice=window.speechSynthesis.getVoices()[0],g.rate=h,window.speechSynthesis.speak(g),g.onerror=m=>{console.log(m)},g.onend=async m=>{!o&&!t||(a.next(),i())}};return[a,o,r,i,f=>e(0,a=f),()=>i("click")]}class Sh extends fe{constructor(s){super(),he(this,s,Th,xh,de,{})}}function Ac(l){let s,e,t,n,a,o,r,i=l[0].title+"",p,c,u,f,h=l[0].creator+"",g,m,d,v,A=l[0].publisher+"",C,b,E,D,N=l[0].language+"",O,U,H,X,es=l[0].pubdate+"",us,ls,hs,gs,vs=l[0].modified_date+"",Es,Ls,Ws,Hs,bs=l[0].description+"",Ps;return{c(){s=R("div"),e=R("img"),a=P(),o=R("p"),r=te("标题:"),p=te(i),c=P(),u=R("p"),f=te("作者:"),g=te(h),m=P(),d=R("p"),v=te("出版社:"),C=te(A),b=P(),E=R("p"),D=te("语言:"),O=te(N),U=P(),H=R("p"),X=te("出版日期:"),us=te(es),ls=P(),hs=R("p"),gs=te("修改日期:"),Es=te(vs),Ls=P(),Ws=R("p"),Hs=te("介绍:"),Ps=te(bs),this.h()},l(Rs){s=I(Rs,"DIV",{style:!0});var Is=Y(s);e=I(Is,"IMG",{src:!0,alt:!0,style:!0}),a=z(Is),o=I(Is,"P",{});var ae=Y(o);r=ne(ae,"标题:"),p=ne(ae,i),ae.forEach(B),c=z(Is),u=I(Is,"P",{});var Zs=Y(u);f=ne(Zs,"作者:"),g=ne(Zs,h),Zs.forEach(B),m=z(Is),d=I(Is,"P",{});var Os=Y(d);v=ne(Os,"出版社:"),C=ne(Os,A),Os.forEach(B),b=z(Is),E=I(Is,"P",{});var ve=Y(E);D=ne(ve,"语言:"),O=ne(ve,N),ve.forEach(B),U=z(Is),H=I(Is,"P",{});var le=Y(H);X=ne(le,"出版日期:"),us=ne(le,es),le.forEach(B),ls=z(Is),hs=I(Is,"P",{});var zs=Y(hs);gs=ne(zs,"修改日期:"),Es=ne(zs,vs),zs.forEach(B),Ls=z(Is),Ws=I(Is,"P",{});var Qs=Y(Ws);Hs=ne(Qs,"介绍:"),Ps=ne(Qs,bs),Qs.forEach(B),Is.forEach(B),this.h()},h(){yp(e.src,t=l[0].cover)||x(e,"src",t),x(e,"alt",n=l[0].title),Ts(e,"width","100px"),Ts(s,"color","#000")},m(Rs,Is){q(Rs,s,Is),F(s,e),F(s,a),F(s,o),F(o,r),F(o,p),F(s,c),F(s,u),F(u,f),F(u,g),F(s,m),F(s,d),F(d,v),F(d,C),F(s,b),F(s,E),F(E,D),F(E,O),F(s,U),F(s,H),F(H,X),F(H,us),F(s,ls),F(s,hs),F(hs,gs),F(hs,Es),F(s,Ls),F(s,Ws),F(Ws,Hs),F(Ws,Ps)},p(Rs,Is){Is&1&&!yp(e.src,t=Rs[0].cover)&&x(e,"src",t),Is&1&&n!==(n=Rs[0].title)&&x(e,"alt",n),Is&1&&i!==(i=Rs[0].title+"")&&Ye(p,i),Is&1&&h!==(h=Rs[0].creator+"")&&Ye(g,h),Is&1&&A!==(A=Rs[0].publisher+"")&&Ye(C,A),Is&1&&N!==(N=Rs[0].language+"")&&Ye(O,N),Is&1&&es!==(es=Rs[0].pubdate+"")&&Ye(us,es),Is&1&&vs!==(vs=Rs[0].modified_date+"")&&Ye(Es,vs),Is&1&&bs!==(bs=Rs[0].description+"")&&Ye(Ps,bs)},d(Rs){Rs&&B(s)}}}function Rh(l){let s,e,t,n;s=new yt({props:{url:mt+"/files/啼笑因缘.epub",getRendition:l[1]}});let a=l[0]&&Ac(l);return{c(){Bs(s.$$.fragment),e=P(),a&&a.c(),t=Je()},l(o){ks(s.$$.fragment,o),e=z(o),a&&a.l(o),t=Je()},m(o,r){_s(s,o,r),q(o,e,r),a&&a.m(o,r),q(o,t,r),n=!0},p(o,[r]){o[0]?a?a.p(o,r):(a=Ac(o),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i(o){n||(ps(s.$$.fragment,o),n=!0)},o(o){fs(s.$$.fragment,o),n=!1},d(o){o&&(B(e),B(t)),ws(s,o),a&&a.d(o)}}}function Ih(l,s,e){let t=null;return[t,a=>{const o=a.book;o.ready.then(()=>{o.loaded.metadata.then(async r=>{const i=await o.coverUrl();e(0,t={...r,cover:i})})})}]}class Lh extends fe{constructor(s){super(),he(this,s,Ih,Rh,de,{})}}function Dc(l){let s,e,t;return e=new yt({props:{url:l[0]}}),{c(){s=R("div"),Bs(e.$$.fragment),this.h()},l(n){s=I(n,"DIV",{style:!0});var a=Y(s);ks(e.$$.fragment,a),a.forEach(B),this.h()},h(){Ts(s,"height","100vh")},m(n,a){q(n,s,a),_s(e,s,null),t=!0},p(n,a){const o={};a&1&&(o.url=n[0]),e.$set(o)},i(n){t||(ps(e.$$.fragment,n),t=!0)},o(n){fs(e.$$.fragment,n),t=!1},d(n){n&&B(s),ws(e)}}}function Nh(l){let s,e,t,n,a,o,r=l[0]&&Dc(l);return{c(){s=R("div"),r&&r.c(),e=P(),t=R("input"),this.h()},l(i){s=I(i,"DIV",{style:!0});var p=Y(s);r&&r.l(p),e=z(p),t=I(p,"INPUT",{type:!0,accept:!0,class:!0}),p.forEach(B),this.h()},h(){x(t,"type","file"),t.multiple=!1,x(t,"accept",".epub"),x(t,"class","input svelte-1v0n5sd"),Ts(s,"position","relative"),Ts(s,"height","100vh")},m(i,p){q(i,s,p),r&&r.m(s,null),F(s,e),F(s,t),n=!0,a||(o=be(t,"change",l[1]),a=!0)},p(i,[p]){i[0]?r?(r.p(i,p),p&1&&ps(r,1)):(r=Dc(i),r.c(),ps(r,1),r.m(s,e)):r&&(Ft(),fs(r,1,1,()=>{r=null}),kt())},i(i){n||(ps(r),n=!0)},o(i){fs(r),n=!1},d(i){i&&B(s),r&&r.d(),a=!1,o()}}}function Oh(l,s,e){let t=null;return[t,a=>{const o=a.target.files[0];if(window.FileReader){var r=new FileReader;r.onloadend=i=>e(0,t=r.result),r.readAsArrayBuffer(o)}}]}class qh extends fe{constructor(s){super(),he(this,s,Oh,Nh,de,{})}}function $h(l){let s,e,t,n,a,o,r,i,p,c,u;return t=new yt({props:{getRendition:l[1],url:mt+"/files/啼笑因缘.epub"}}),{c(){s=R("div"),e=R("div"),Bs(t.$$.fragment),n=P(),a=R("div"),o=R("input"),r=te(`%
    `),i=R("input"),this.h()},l(f){s=I(f,"DIV",{style:!0});var h=Y(s);e=I(h,"DIV",{style:!0});var g=Y(e);ks(t.$$.fragment,g),g.forEach(B),n=z(h),a=I(h,"DIV",{class:!0});var m=Y(a);o=I(m,"INPUT",{type:!0,min:!0,max:!0,class:!0}),r=ne(m,`%
    `),i=I(m,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),m.forEach(B),h.forEach(B),this.h()},h(){Ts(e,"height","100vh"),x(o,"type","number"),o.value=l[0],x(o,"min",0),x(o,"max",100),x(o,"class","svelte-15anzw4"),x(i,"type","range"),i.value=l[0],x(i,"min",0),x(i,"max",100),x(i,"step",1),x(i,"class","svelte-15anzw4"),x(a,"class","progress svelte-15anzw4"),Ts(s,"position","relative")},m(f,h){q(f,s,h),F(s,e),_s(t,e,null),F(s,n),F(s,a),F(a,o),F(a,r),F(a,i),p=!0,c||(u=[be(o,"change",l[2]),be(i,"change",l[2])],c=!0)},p(f,[h]){(!p||h&1&&o.value!==f[0])&&(o.value=f[0]),(!p||h&1)&&(i.value=f[0])},i(f){p||(ps(t.$$.fragment,f),p=!0)},o(f){fs(t.$$.fragment,f),p=!1},d(f){f&&B(s),ws(t),c=!1,Ta(u)}}}function Ph(l,s,e){let t=0,n,a,o;return[t,p=>{n=p,a=n.book,o=n.display(),a.ready.then(()=>a.locations.generate(1600)).then(c=>{o.then(function(){var u=n.currentLocation();const f=a.locations.percentageFromCfi(u.start.cfi);e(0,t=f)}),n.on("relocated",u=>{const f=a.locations.percentageFromCfi(u.start.cfi),h=Math.floor(f*100);e(0,t=h)})})},p=>{const c=p.target.value;e(0,t=c);var u=a.locations.cfiFromPercentage(c/100);n.display(u)}]}class zh extends fe{constructor(s){super(),he(this,s,Ph,$h,de,{})}}function mc(l,s,e){const t=l.slice();return t[10]=s[e],t[12]=e,t}function gc(l){let s,e,t=l[10].excerpt.trim().replace(l[1],`<span style="color: orange">${l[1]}</span>`)+"",n,a;function o(...r){return l[8](l[10],...r)}return{c(){s=R("div"),e=new W9(!1),this.h()},l(r){s=I(r,"DIV",{class:!0});var i=Y(s);e=Z9(i,!1),i.forEach(B),this.h()},h(){e.a=null,x(s,"class","item svelte-11d5m3y")},m(r,i){q(r,s,i),e.m(t,s),n||(a=be(s,"click",o),n=!0)},p(r,i){l=r,i&6&&t!==(t=l[10].excerpt.trim().replace(l[1],`<span style="color: orange">${l[1]}</span>`)+"")&&e.p(t)},d(r){r&&B(s),n=!1,a()}}}function Cc(l){let s,e="Empty";return{c(){s=R("div"),s.textContent=e},l(t){s=I(t,"DIV",{"data-svelte-h":!0}),ss(s)!=="svelte-kvb9fj"&&(s.textContent=e)},m(t,n){q(t,s,n)},d(t){t&&B(s)}}}function Mh(l){let s,e,t,n,a,o,r,i,p,c,u,f;t=new yt({props:{url:mt+"/files/啼笑因缘.epub",getRendition:l[5]}});let h=ct(l[2]),g=[];for(let d=0;d<h.length;d+=1)g[d]=gc(mc(l,h,d));let m=!l[2].length&&Cc();return{c(){s=R("div"),e=R("div"),Bs(t.$$.fragment),n=P(),a=R("div"),o=R("input"),r=P(),i=R("div");for(let d=0;d<g.length;d+=1)g[d].c();p=P(),m&&m.c(),this.h()},l(d){s=I(d,"DIV",{style:!0});var v=Y(s);e=I(v,"DIV",{style:!0});var A=Y(e);ks(t.$$.fragment,A),A.forEach(B),n=z(v),a=I(v,"DIV",{class:!0});var C=Y(a);o=I(C,"INPUT",{type:!0,placeholder:!0}),r=z(C),i=I(C,"DIV",{class:!0});var b=Y(i);for(let E=0;E<g.length;E+=1)g[E].l(b);p=z(b),m&&m.l(b),b.forEach(B),C.forEach(B),v.forEach(B),this.h()},h(){Ts(e,"height","100vh"),o.value=l[1],x(o,"type","text"),x(o,"placeholder","search"),x(i,"class","searchResults svelte-11d5m3y"),x(a,"class","search svelte-11d5m3y"),Ts(s,"position","relative")},m(d,v){q(d,s,v),F(s,e),_s(t,e,null),F(s,n),F(s,a),F(a,o),F(a,r),F(a,i);for(let A=0;A<g.length;A+=1)g[A]&&g[A].m(i,null);F(i,p),m&&m.m(i,null),c=!0,u||(f=[be(o,"input",l[6]),be(o,"keyup",l[7])],u=!0)},p(d,[v]){const A={};if(v&1&&(A.getRendition=d[5]),t.$set(A),(!c||v&2&&o.value!==d[1])&&(o.value=d[1]),v&22){h=ct(d[2]);let C;for(C=0;C<h.length;C+=1){const b=mc(d,h,C);g[C]?g[C].p(b,v):(g[C]=gc(b),g[C].c(),g[C].m(i,p))}for(;C<g.length;C+=1)g[C].d(1);g.length=h.length}d[2].length?m&&(m.d(1),m=null):m||(m=Cc(),m.c(),m.m(i,null))},i(d){c||(ps(t.$$.fragment,d),c=!0)},o(d){fs(t.$$.fragment,d),c=!1},d(d){d&&B(s),ws(t),ir(g,d),m&&m.d(),u=!1,Ta(f)}}}function Uh(l,s,e){let t=null,n="只在捻花一笑中",a=[];const o=async()=>{if(!n)return e(2,a=[]);const h=await r(n);e(2,a=h.slice(0,5))},r=h=>{const{book:g}=t;return Promise.all(g.spine.spineItems.map(m=>m.load(g.load.bind(g)).then(d=>{const v=m.find(h);return m.unload(),Promise.resolve(v)}))).then(m=>Promise.resolve([].concat.apply([],m)))},i=(h,g)=>{t.display(h),g.stopPropagation(),g.preventDefault()};return[t,n,a,o,i,h=>e(0,t=h),h=>e(1,n=h.target.value),h=>h.key==="Enter"&&o(),(h,g)=>i(h.cfi,g)]}class Hh extends fe{constructor(s){super(),he(this,s,Uh,Mh,de,{})}}function Vh(l){let s,e,t,n,a='<code><span class="line"><span style="color: #59873A">npm</span><span style="color: #393A34"> </span><span style="color: #B56959">install</span><span style="color: #393A34"> </span><span style="color: #B56959">svelte-reader</span></span></code>',o,r,i='<code><span class="line"><span style="color: #82AAFF; font-style: italic">npm</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">install</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">svelte-reader</span></span></code>',p,c,u="sh",f,h,g;return h=new He({}),{c(){s=R("div"),e=R("div"),t=R("div"),n=R("pre"),n.innerHTML=a,o=P(),r=R("pre"),r.innerHTML=i,p=P(),c=R("div"),c.textContent=u,f=P(),Bs(h.$$.fragment),this.h()},l(m){s=I(m,"DIV",{slot:!0});var d=Y(s);e=I(d,"DIV",{class:!0});var v=Y(e);t=I(v,"DIV",{class:!0});var A=Y(t);n=I(A,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(n)!=="svelte-1h57dik"&&(n.innerHTML=a),o=z(A),r=I(A,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(r)!=="svelte-922uhf"&&(r.innerHTML=i),p=z(A),c=I(A,"DIV",{class:!0,"data-svelte-h":!0}),ss(c)!=="svelte-161hl8v"&&(c.textContent=u),f=z(A),ks(h.$$.fragment,A),A.forEach(B),v.forEach(B),d.forEach(B),this.h()},h(){x(n,"class","shiki vitesse-light"),Ts(n,"background-color","#ffffff"),x(n,"tabindex","0"),x(r,"class","shiki night-owl"),Ts(r,"background-color","#011627"),x(r,"tabindex","0"),x(c,"class","svp-code-block--lang"),x(t,"class","svp-code-block"),x(e,"class","svp-code-block-wrapper"),x(s,"slot","npm")},m(m,d){q(m,s,d),F(s,e),F(e,t),F(t,n),F(t,o),F(t,r),F(t,p),F(t,c),F(t,f),_s(h,t,null),g=!0},p:Ns,i(m){g||(ps(h.$$.fragment,m),g=!0)},o(m){fs(h.$$.fragment,m),g=!1},d(m){m&&B(s),ws(h)}}}function jh(l){let s,e,t,n,a='<code><span class="line"><span style="color: #59873A">yarn</span><span style="color: #393A34"> </span><span style="color: #B56959">install</span><span style="color: #393A34"> </span><span style="color: #B56959">svelte-reader</span></span></code>',o,r,i='<code><span class="line"><span style="color: #82AAFF; font-style: italic">yarn</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">install</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">svelte-reader</span></span></code>',p,c,u="sh",f,h,g;return h=new He({}),{c(){s=R("div"),e=R("div"),t=R("div"),n=R("pre"),n.innerHTML=a,o=P(),r=R("pre"),r.innerHTML=i,p=P(),c=R("div"),c.textContent=u,f=P(),Bs(h.$$.fragment),this.h()},l(m){s=I(m,"DIV",{slot:!0});var d=Y(s);e=I(d,"DIV",{class:!0});var v=Y(e);t=I(v,"DIV",{class:!0});var A=Y(t);n=I(A,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(n)!=="svelte-1hjzhdj"&&(n.innerHTML=a),o=z(A),r=I(A,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(r)!=="svelte-1wsgbs"&&(r.innerHTML=i),p=z(A),c=I(A,"DIV",{class:!0,"data-svelte-h":!0}),ss(c)!=="svelte-161hl8v"&&(c.textContent=u),f=z(A),ks(h.$$.fragment,A),A.forEach(B),v.forEach(B),d.forEach(B),this.h()},h(){x(n,"class","shiki vitesse-light"),Ts(n,"background-color","#ffffff"),x(n,"tabindex","0"),x(r,"class","shiki night-owl"),Ts(r,"background-color","#011627"),x(r,"tabindex","0"),x(c,"class","svp-code-block--lang"),x(t,"class","svp-code-block"),x(e,"class","svp-code-block-wrapper"),x(s,"slot","yarn")},m(m,d){q(m,s,d),F(s,e),F(e,t),F(t,n),F(t,o),F(t,r),F(t,p),F(t,c),F(t,f),_s(h,t,null),g=!0},p:Ns,i(m){g||(ps(h.$$.fragment,m),g=!0)},o(m){fs(h.$$.fragment,m),g=!1},d(m){m&&B(s),ws(h)}}}function Wh(l){let s,e,t,n,a='<code><span class="line"><span style="color: #59873A">pnpm</span><span style="color: #393A34"> </span><span style="color: #B56959">install</span><span style="color: #393A34"> </span><span style="color: #B56959">svelte-reader</span></span></code>',o,r,i='<code><span class="line"><span style="color: #82AAFF; font-style: italic">pnpm</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">install</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">svelte-reader</span></span></code>',p,c,u="sh",f,h,g;return h=new He({}),{c(){s=R("div"),e=R("div"),t=R("div"),n=R("pre"),n.innerHTML=a,o=P(),r=R("pre"),r.innerHTML=i,p=P(),c=R("div"),c.textContent=u,f=P(),Bs(h.$$.fragment),this.h()},l(m){s=I(m,"DIV",{slot:!0});var d=Y(s);e=I(d,"DIV",{class:!0});var v=Y(e);t=I(v,"DIV",{class:!0});var A=Y(t);n=I(A,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(n)!=="svelte-1gzeikk"&&(n.innerHTML=a),o=z(A),r=I(A,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(r)!=="svelte-oblqv7"&&(r.innerHTML=i),p=z(A),c=I(A,"DIV",{class:!0,"data-svelte-h":!0}),ss(c)!=="svelte-161hl8v"&&(c.textContent=u),f=z(A),ks(h.$$.fragment,A),A.forEach(B),v.forEach(B),d.forEach(B),this.h()},h(){x(n,"class","shiki vitesse-light"),Ts(n,"background-color","#ffffff"),x(n,"tabindex","0"),x(r,"class","shiki night-owl"),Ts(r,"background-color","#011627"),x(r,"tabindex","0"),x(c,"class","svp-code-block--lang"),x(t,"class","svp-code-block"),x(e,"class","svp-code-block-wrapper"),x(s,"slot","pnpm")},m(m,d){q(m,s,d),F(s,e),F(e,t),F(t,n),F(t,o),F(t,r),F(t,p),F(t,c),F(t,f),_s(h,t,null),g=!0},p:Ns,i(m){g||(ps(h.$$.fragment,m),g=!0)},o(m){fs(h.$$.fragment,m),g=!1},d(m){m&&B(s),ws(h)}}}function Zh(l){let s,e,t="basic-usage",n,a,o,r=`<code><span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">base</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">$app/paths</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">height: 100vh</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #B07D48">url</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">base</span><span style="color: #999999">}</span><span style="color: #B56959">/files/啼笑因缘.epub</span><span style="color: #B56959AA">&quot;</span><span style="color: #393A34"> </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span></code>`,i,p,c=`<code><span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { base } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">$app/paths</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">height: 100vh</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">url</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">base</span><span style="color: #D3423E">}</span><span style="color: #ECC48D">/files/啼笑因缘.epub</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA"> /&gt;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span></code>`,u,f,h="svelte",g,m,d,v,A='<div class="svp-code-block--line-number-item">1</div> <div class="svp-code-block--line-number-item">2</div> <div class="svp-code-block--line-number-item">3</div> <div class="svp-code-block--line-number-item">4</div> <div class="svp-code-block--line-number-item">5</div> <div class="svp-code-block--line-number-item">6</div> <div class="svp-code-block--line-number-item">7</div> <div class="svp-code-block--line-number-item">8</div>',C;return m=new He({}),{c(){s=R("div"),e=R("div"),e.textContent=t,n=P(),a=R("div"),o=R("pre"),o.innerHTML=r,i=P(),p=R("pre"),p.innerHTML=c,u=P(),f=R("div"),f.textContent=h,g=P(),Bs(m.$$.fragment),d=P(),v=R("div"),v.innerHTML=A,this.h()},l(b){s=I(b,"DIV",{class:!0});var E=Y(s);e=I(E,"DIV",{class:!0,"data-svelte-h":!0}),ss(e)!=="svelte-if44js"&&(e.textContent=t),n=z(E),a=I(E,"DIV",{class:!0});var D=Y(a);o=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(o)!=="svelte-1l1auxj"&&(o.innerHTML=r),i=z(D),p=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(p)!=="svelte-1k60au9"&&(p.innerHTML=c),u=z(D),f=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(f)!=="svelte-xa0fuv"&&(f.textContent=h),g=z(D),ks(m.$$.fragment,D),d=z(D),v=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(v)!=="svelte-40kpkf"&&(v.innerHTML=A),D.forEach(B),E.forEach(B),this.h()},h(){x(e,"class","svp-code-block--title"),x(o,"class","shiki vitesse-light"),Ts(o,"background-color","#ffffff"),x(o,"tabindex","0"),x(p,"class","shiki night-owl"),Ts(p,"background-color","#011627"),x(p,"tabindex","0"),x(f,"class","svp-code-block--lang"),x(v,"class","svp-code-block--line-numbers"),x(a,"class","svp-code-block svp-code-block--with-line-numbers"),x(s,"class","svp-code-block-wrapper")},m(b,E){q(b,s,E),F(s,e),F(s,n),F(s,a),F(a,o),F(a,i),F(a,p),F(a,u),F(a,f),F(a,g),_s(m,a,null),F(a,d),F(a,v),C=!0},p:Ns,i(b){C||(ps(m.$$.fragment,b),C=!0)},o(b){fs(m.$$.fragment,b),C=!1},d(b){b&&B(s),ws(m)}}}function Gh(l){let s,e,t="save-progress",n,a,o,r=`<code><span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">browser</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&#39;</span><span style="color: #B56959">$app/environment</span><span style="color: #B56959AA">&#39;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">base</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">$app/paths</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">location</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">browser</span><span style="color: #393A34"> </span><span style="color: #AB5959">&amp;&amp;</span><span style="color: #393A34"> </span><span style="color: #B07D48">localStorage</span><span style="color: #999999">.</span><span style="color: #59873A">getItem</span><span style="color: #999999">(</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">book-progress</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #AB5959">||</span><span style="color: #393A34"> </span><span style="color: #AB5959">null</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">firstRenderDone</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #1E754F">false</span><span style="color: #999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">locationChange</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">e</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">if</span><span style="color: #999999">(</span><span style="color: #AB5959">!</span><span style="color: #B07D48">browser</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #1E754F">return</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">epubcifi</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">e</span><span style="color: #999999">.</span><span style="color: #B07D48">detail</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #999999">    </span><span style="color: #A0ADA0">// Since this function is also called on initial rendering, we are using custom state</span></span>
<span class="line"><span style="color: #999999">    </span><span style="color: #A0ADA0">// logic to check if this is the initial render.</span></span>
<span class="line"><span style="color: #999999">    </span><span style="color: #A0ADA0">// If you block this function from running (i.e not letting it change the page on the first render) your app crashes.</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #AB5959">!</span><span style="color: #B07D48">firstRenderDone</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">location</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">localStorage</span><span style="color: #999999">.</span><span style="color: #59873A">getItem</span><span style="color: #999999">(</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">book-progress</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #1E754F">return</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">firstRenderDone</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #1E754F">true</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #999999">    </span><span style="color: #A0ADA0">// This is the code that runs everytime the page changes, after the initial render.</span></span>
<span class="line"><span style="color: #999999">    </span><span style="color: #A0ADA0">// Saving the current epubcifi on storage...</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">localStorage</span><span style="color: #999999">.</span><span style="color: #59873A">setItem</span><span style="color: #999999">(</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">book-progress</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">epubcifi</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #999999">    </span><span style="color: #A0ADA0">// And then rendering it.</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">location</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">epubcifi</span><span style="color: #999999">;</span><span style="color: #393A34"> </span><span style="color: #A0ADA0">// Or setLocation(localStorage.getItem(&quot;book-progress&quot;))</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">height: 100vh</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">url</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">base</span><span style="color: #999999">}</span><span style="color: #B56959">/files/啼笑因缘.epub</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">{location}</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">update</span><span style="color: #393A34">:</span><span style="color: #B07D48">location</span><span style="color: #999999">={</span><span style="color: #B07D48">locationChange</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span></code>`,i,p,c=`<code><span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { browser } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&#39;</span><span style="color: #ECC48D">$app/environment</span><span style="color: #D9F5DD">&#39;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { base } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">$app/paths</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">location</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">browser</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">&amp;&amp;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">localStorage</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">getItem</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">book-progress</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">||</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">null</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">firstRenderDone</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">false</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">locationChange</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">e</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">if</span><span style="color: #D6DEEB">(</span><span style="color: #C792EA">!</span><span style="color: #D7DBE0">browser</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic"> return</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">epubcifi</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">e</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">detail</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA">    </span><span style="color: #637777">//</span><span style="color: #637777; font-style: italic"> Since this function is also called on initial rendering, we are using custom state</span></span>
<span class="line"><span style="color: #C792EA">    </span><span style="color: #637777">//</span><span style="color: #637777; font-style: italic"> logic to check if this is the initial render.</span></span>
<span class="line"><span style="color: #C792EA">    </span><span style="color: #637777">//</span><span style="color: #637777; font-style: italic"> If you block this function from running (i.e not letting it change the page on the first render) your app crashes.</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">if</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">(</span><span style="color: #C792EA">!</span><span style="color: #D7DBE0">firstRenderDone</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #D7DBE0">location</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">localStorage</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">getItem</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">book-progress</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      return </span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">firstRenderDone</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">true</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">}</span></span>
<span class="line"><span style="color: #C792EA">    </span><span style="color: #637777">//</span><span style="color: #637777; font-style: italic"> This is the code that runs everytime the page changes, after the initial render.</span></span>
<span class="line"><span style="color: #C792EA">    </span><span style="color: #637777">//</span><span style="color: #637777; font-style: italic"> Saving the current epubcifi on storage...</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">localStorage</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">setItem</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">book-progress</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">epubcifi</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA">    </span><span style="color: #637777">//</span><span style="color: #637777; font-style: italic"> And then rendering it.</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">location</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">epubcifi</span><span style="color: #C792EA">;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #637777">//</span><span style="color: #637777; font-style: italic"> Or setLocation(localStorage.getItem(&quot;book-progress&quot;))</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">height: 100vh</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span></span>
<span class="line"><span style="color: #7FDBCA">    </span><span style="color: #C5E478; font-style: italic">url</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">base</span><span style="color: #D3423E">}</span><span style="color: #ECC48D">/files/啼笑因缘.epub</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">    </span><span style="color: #C5E478; font-style: italic">{</span><span style="color: #D6DEEB">location</span><span style="color: #C5E478; font-style: italic">}</span></span>
<span class="line"><span style="color: #7FDBCA">    </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:update:</span><span style="color: #C5E478; font-style: italic">location</span><span style="color: #7FDBCA">=</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">locationChange</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #7FDBCA">  /&gt;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span></code>`,u,f,h="svelte",g,m,d,v,A='<div class="svp-code-block--line-number-item">1</div> <div class="svp-code-block--line-number-item">2</div> <div class="svp-code-block--line-number-item">3</div> <div class="svp-code-block--line-number-item">4</div> <div class="svp-code-block--line-number-item">5</div> <div class="svp-code-block--line-number-item">6</div> <div class="svp-code-block--line-number-item">7</div> <div class="svp-code-block--line-number-item">8</div> <div class="svp-code-block--line-number-item">9</div> <div class="svp-code-block--line-number-item">10</div> <div class="svp-code-block--line-number-item">11</div> <div class="svp-code-block--line-number-item">12</div> <div class="svp-code-block--line-number-item">13</div> <div class="svp-code-block--line-number-item">14</div> <div class="svp-code-block--line-number-item">15</div> <div class="svp-code-block--line-number-item">16</div> <div class="svp-code-block--line-number-item">17</div> <div class="svp-code-block--line-number-item">18</div> <div class="svp-code-block--line-number-item">19</div> <div class="svp-code-block--line-number-item">20</div> <div class="svp-code-block--line-number-item">21</div> <div class="svp-code-block--line-number-item">22</div> <div class="svp-code-block--line-number-item">23</div> <div class="svp-code-block--line-number-item">24</div> <div class="svp-code-block--line-number-item">25</div> <div class="svp-code-block--line-number-item">26</div> <div class="svp-code-block--line-number-item">27</div> <div class="svp-code-block--line-number-item">28</div> <div class="svp-code-block--line-number-item">29</div> <div class="svp-code-block--line-number-item">30</div> <div class="svp-code-block--line-number-item">31</div> <div class="svp-code-block--line-number-item">32</div> <div class="svp-code-block--line-number-item">33</div>',C;return m=new He({}),{c(){s=R("div"),e=R("div"),e.textContent=t,n=P(),a=R("div"),o=R("pre"),o.innerHTML=r,i=P(),p=R("pre"),p.innerHTML=c,u=P(),f=R("div"),f.textContent=h,g=P(),Bs(m.$$.fragment),d=P(),v=R("div"),v.innerHTML=A,this.h()},l(b){s=I(b,"DIV",{class:!0});var E=Y(s);e=I(E,"DIV",{class:!0,"data-svelte-h":!0}),ss(e)!=="svelte-1jg7mrf"&&(e.textContent=t),n=z(E),a=I(E,"DIV",{class:!0});var D=Y(a);o=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(o)!=="svelte-d5ojwm"&&(o.innerHTML=r),i=z(D),p=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(p)!=="svelte-1cdzsn7"&&(p.innerHTML=c),u=z(D),f=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(f)!=="svelte-xa0fuv"&&(f.textContent=h),g=z(D),ks(m.$$.fragment,D),d=z(D),v=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(v)!=="svelte-5zy26t"&&(v.innerHTML=A),D.forEach(B),E.forEach(B),this.h()},h(){x(e,"class","svp-code-block--title"),x(o,"class","shiki vitesse-light"),Ts(o,"background-color","#ffffff"),x(o,"tabindex","0"),x(p,"class","shiki night-owl"),Ts(p,"background-color","#011627"),x(p,"tabindex","0"),x(f,"class","svp-code-block--lang"),x(v,"class","svp-code-block--line-numbers"),x(a,"class","svp-code-block svp-code-block--with-line-numbers"),x(s,"class","svp-code-block-wrapper")},m(b,E){q(b,s,E),F(s,e),F(s,n),F(s,a),F(a,o),F(a,i),F(a,p),F(a,u),F(a,f),F(a,g),_s(m,a,null),F(a,d),F(a,v),C=!0},p:Ns,i(b){C||(ps(m.$$.fragment,b),C=!0)},o(b){fs(m.$$.fragment,b),C=!1},d(b){b&&B(s),ws(m)}}}function Yh(l){let s,e,t="display-page",n,a,o,r=`<code><span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">base</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">$app/paths</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #AB5959">null</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">toc</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">[];</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">page</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">getRendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">val</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">rendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">val</span><span style="color: #999999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">getLabel</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">toc</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">href</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">label</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">n/a</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">toc</span><span style="color: #999999">.</span><span style="color: #59873A">some</span><span style="color: #999999">((</span><span style="color: #B07D48">item</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">item</span><span style="color: #999999">.</span><span style="color: #B07D48">subitems</span><span style="color: #999999">.</span><span style="color: #998418">length</span><span style="color: #393A34"> </span><span style="color: #AB5959">&gt;</span><span style="color: #393A34"> </span><span style="color: #2F798A">0</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">subChapter</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #59873A">getLabel</span><span style="color: #999999">(</span><span style="color: #B07D48">item</span><span style="color: #999999">.</span><span style="color: #B07D48">subitems</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">href</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">subChapter</span><span style="color: #393A34"> </span><span style="color: #AB5959">!==</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">n/a</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #B07D48">label</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">subChapter</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #1E754F">return</span><span style="color: #393A34"> </span><span style="color: #1E754F">true</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">else</span><span style="color: #393A34"> </span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">item</span><span style="color: #999999">.</span><span style="color: #B07D48">href</span><span style="color: #999999">.</span><span style="color: #59873A">includes</span><span style="color: #999999">(</span><span style="color: #B07D48">href</span><span style="color: #999999">))</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #B07D48">label</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">item</span><span style="color: #999999">.</span><span style="color: #B07D48">label</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #1E754F">return</span><span style="color: #393A34"> </span><span style="color: #1E754F">true</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">});</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">return</span><span style="color: #393A34"> </span><span style="color: #B07D48">label</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">locationChange</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">e</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">epubcifi</span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">e</span><span style="color: #999999">.</span><span style="color: #B07D48">detail</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">epubcifi</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">displayed</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">href</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #B07D48">location</span><span style="color: #999999">.</span><span style="color: #B07D48">start</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">href</span><span style="color: #393A34"> </span><span style="color: #AB5959">!==</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">titlepage.xhtml</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">label</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #59873A">getLabel</span><span style="color: #999999">(</span><span style="color: #B07D48">toc</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">href</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #B07D48">page</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B56959AA">\`</span><span style="color: #999999">\${</span><span style="color: #B56959">displayed</span><span style="color: #999999">.</span><span style="color: #B56959">page</span><span style="color: #999999">}</span><span style="color: #B56959">/</span><span style="color: #999999">\${</span><span style="color: #B56959">displayed</span><span style="color: #999999">.</span><span style="color: #B56959">total</span><span style="color: #999999">}</span><span style="color: #B56959"> </span><span style="color: #999999">\${</span><span style="color: #B56959">label</span><span style="color: #999999">}</span><span style="color: #B56959AA">\`</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&#39;</span><span style="color: #B56959">position: relative</span><span style="color: #B56959AA">&#39;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">height: 100vh</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">url</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">base</span><span style="color: #999999">}</span><span style="color: #B56959">/files/啼笑因缘.epub</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">{getRendition}</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">tocChanged</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">val</span><span style="color: #999999">=&gt;</span><span style="color: #B56959">toc</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B56959">val</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">update</span><span style="color: #393A34">:</span><span style="color: #B07D48">location</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">locationChange</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">class</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">page</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">page</span><span style="color: #393A34"> </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">.</span><span style="color: #B07D48">page</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">position</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">absolute</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">bottom</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">right</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">left</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">text-align</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">center</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">z-index</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">color</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #999999">#</span><span style="color: #A65E2B">000</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span></code>`,i,p,c=`<code><span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { base } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">$app/paths</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">rendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">null</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">toc</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB; font-style: italic"> </span><span style="color: #D6DEEB">[];</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">page</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">getRendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">val</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">rendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">val</span><span style="color: #D6DEEB">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">getLabel</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">toc</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0; font-style: italic">href</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">label</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">n/a</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">toc</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">some</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">item</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">if</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">(</span><span style="color: #7FDBCA; font-style: italic">item</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">subitems</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #7FDBCA; font-style: italic">length</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #F78C6C">0</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">subChapter</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">getLabel</span><span style="color: #D6DEEB">(</span><span style="color: #7FDBCA; font-style: italic">item</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">subitems</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">href</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #C792EA">if</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">subChapter</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">!==</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">n/a</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          </span><span style="color: #D7DBE0">label</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">subChapter</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          return </span><span style="color: #FF5874; font-style: italic">true</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #C792EA">}</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">}</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">else</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">if</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">(</span><span style="color: #7FDBCA; font-style: italic">item</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">href</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">includes</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">href</span><span style="color: #D6DEEB">))</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #D7DBE0">label</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">item</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">label</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        return </span><span style="color: #FF5874; font-style: italic">true</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">}</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    return </span><span style="color: #D7DBE0">label</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">locationChange</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">e</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">epubcifi</span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">e</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">detail</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">if</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">epubcifi</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">displayed</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">href</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">}</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">location</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">start</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">if</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">href</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">!==</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">titlepage.xhtml</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">label</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">getLabel</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">toc</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">href</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #D7DBE0">page</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">\`</span><span style="color: #D3423E">\${</span><span style="color: #7FDBCA; font-style: italic">displayed</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">page</span><span style="color: #D3423E">}</span><span style="color: #ECC48D; font-style: italic">/</span><span style="color: #D3423E">\${</span><span style="color: #7FDBCA; font-style: italic">displayed</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">total</span><span style="color: #D3423E">}</span><span style="color: #ECC48D; font-style: italic"> </span><span style="color: #D3423E">\${</span><span style="color: #D7DBE0">label</span><span style="color: #D3423E">}</span><span style="color: #D6DEEB">\`</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">}</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">}</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&#39;</span><span style="color: #ECC48D">position: relative</span><span style="color: #D9F5DD">&#39;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">height: 100vh</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">url</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">base</span><span style="color: #D3423E">}</span><span style="color: #ECC48D">/files/啼笑因缘.epub</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">{</span><span style="color: #D6DEEB">getRendition</span><span style="color: #C5E478; font-style: italic">}</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">tocChanged</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D7DBE0">val</span><span style="color: #C792EA">=&gt;</span><span style="color: #D6DEEB">toc</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">=</span><span style="color: #ECC48D"> </span><span style="color: #D6DEEB">val</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:update:</span><span style="color: #C5E478; font-style: italic">location</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">locationChange</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">    /&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">class</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">page</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #D3423E">{</span><span style="color: #D6DEEB"> page </span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">page</span><span style="color: #D6DEEB"> {</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">position</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">absolute</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">bottom</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">right</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">left</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">text-align</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">center</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">z-index</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">color</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">#</span><span style="color: #FFEB95">000</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  }</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span></code>`,u,f,h="svelte",g,m,d,v,A='<div class="svp-code-block--line-number-item">1</div> <div class="svp-code-block--line-number-item">2</div> <div class="svp-code-block--line-number-item">3</div> <div class="svp-code-block--line-number-item">4</div> <div class="svp-code-block--line-number-item">5</div> <div class="svp-code-block--line-number-item">6</div> <div class="svp-code-block--line-number-item">7</div> <div class="svp-code-block--line-number-item">8</div> <div class="svp-code-block--line-number-item">9</div> <div class="svp-code-block--line-number-item">10</div> <div class="svp-code-block--line-number-item">11</div> <div class="svp-code-block--line-number-item">12</div> <div class="svp-code-block--line-number-item">13</div> <div class="svp-code-block--line-number-item">14</div> <div class="svp-code-block--line-number-item">15</div> <div class="svp-code-block--line-number-item">16</div> <div class="svp-code-block--line-number-item">17</div> <div class="svp-code-block--line-number-item">18</div> <div class="svp-code-block--line-number-item">19</div> <div class="svp-code-block--line-number-item">20</div> <div class="svp-code-block--line-number-item">21</div> <div class="svp-code-block--line-number-item">22</div> <div class="svp-code-block--line-number-item">23</div> <div class="svp-code-block--line-number-item">24</div> <div class="svp-code-block--line-number-item">25</div> <div class="svp-code-block--line-number-item">26</div> <div class="svp-code-block--line-number-item">27</div> <div class="svp-code-block--line-number-item">28</div> <div class="svp-code-block--line-number-item">29</div> <div class="svp-code-block--line-number-item">30</div> <div class="svp-code-block--line-number-item">31</div> <div class="svp-code-block--line-number-item">32</div> <div class="svp-code-block--line-number-item">33</div> <div class="svp-code-block--line-number-item">34</div> <div class="svp-code-block--line-number-item">35</div> <div class="svp-code-block--line-number-item">36</div> <div class="svp-code-block--line-number-item">37</div> <div class="svp-code-block--line-number-item">38</div> <div class="svp-code-block--line-number-item">39</div> <div class="svp-code-block--line-number-item">40</div> <div class="svp-code-block--line-number-item">41</div> <div class="svp-code-block--line-number-item">42</div> <div class="svp-code-block--line-number-item">43</div> <div class="svp-code-block--line-number-item">44</div> <div class="svp-code-block--line-number-item">45</div> <div class="svp-code-block--line-number-item">46</div> <div class="svp-code-block--line-number-item">47</div> <div class="svp-code-block--line-number-item">48</div> <div class="svp-code-block--line-number-item">49</div> <div class="svp-code-block--line-number-item">50</div> <div class="svp-code-block--line-number-item">51</div> <div class="svp-code-block--line-number-item">52</div> <div class="svp-code-block--line-number-item">53</div> <div class="svp-code-block--line-number-item">54</div> <div class="svp-code-block--line-number-item">55</div> <div class="svp-code-block--line-number-item">56</div> <div class="svp-code-block--line-number-item">57</div> <div class="svp-code-block--line-number-item">58</div> <div class="svp-code-block--line-number-item">59</div> <div class="svp-code-block--line-number-item">60</div> <div class="svp-code-block--line-number-item">61</div> <div class="svp-code-block--line-number-item">62</div>',C;return m=new He({}),{c(){s=R("div"),e=R("div"),e.textContent=t,n=P(),a=R("div"),o=R("pre"),o.innerHTML=r,i=P(),p=R("pre"),p.innerHTML=c,u=P(),f=R("div"),f.textContent=h,g=P(),Bs(m.$$.fragment),d=P(),v=R("div"),v.innerHTML=A,this.h()},l(b){s=I(b,"DIV",{class:!0});var E=Y(s);e=I(E,"DIV",{class:!0,"data-svelte-h":!0}),ss(e)!=="svelte-1u1ww8o"&&(e.textContent=t),n=z(E),a=I(E,"DIV",{class:!0});var D=Y(a);o=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(o)!=="svelte-1tuwolm"&&(o.innerHTML=r),i=z(D),p=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(p)!=="svelte-17ck3za"&&(p.innerHTML=c),u=z(D),f=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(f)!=="svelte-xa0fuv"&&(f.textContent=h),g=z(D),ks(m.$$.fragment,D),d=z(D),v=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(v)!=="svelte-121hp1a"&&(v.innerHTML=A),D.forEach(B),E.forEach(B),this.h()},h(){x(e,"class","svp-code-block--title"),x(o,"class","shiki vitesse-light"),Ts(o,"background-color","#ffffff"),x(o,"tabindex","0"),x(p,"class","shiki night-owl"),Ts(p,"background-color","#011627"),x(p,"tabindex","0"),x(f,"class","svp-code-block--lang"),x(v,"class","svp-code-block--line-numbers"),x(a,"class","svp-code-block svp-code-block--with-line-numbers"),x(s,"class","svp-code-block-wrapper")},m(b,E){q(b,s,E),F(s,e),F(s,n),F(s,a),F(a,o),F(a,i),F(a,p),F(a,u),F(a,f),F(a,g),_s(m,a,null),F(a,d),F(a,v),C=!0},p:Ns,i(b){C||(ps(m.$$.fragment,b),C=!0)},o(b){fs(m.$$.fragment,b),C=!1},d(b){b&&B(s),ws(m)}}}function Xh(l){let s,e,t="change-font-size",n,a,o,r=`<code><span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">base</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">$app/paths</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #AB5959">null</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">size</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #2F798A">100</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">changeSize</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">val</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">size</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">val</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #B07D48">themes</span><span style="color: #999999">.</span><span style="color: #59873A">fontSize</span><span style="color: #999999">(</span><span style="color: #B56959AA">\`</span><span style="color: #999999">\${</span><span style="color: #B56959">val</span><span style="color: #999999">}</span><span style="color: #B56959">%</span><span style="color: #B56959AA">\`</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">getRendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">val</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">val</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #B07D48">themes</span><span style="color: #999999">.</span><span style="color: #59873A">fontSize</span><span style="color: #999999">(</span><span style="color: #B56959AA">\`</span><span style="color: #999999">\${</span><span style="color: #B56959">size</span><span style="color: #999999">}</span><span style="color: #B56959">%</span><span style="color: #B56959AA">\`</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&#39;</span><span style="color: #B56959">position: relative</span><span style="color: #B56959AA">&#39;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">height: 100vh</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #B07D48">url</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">base</span><span style="color: #999999">}</span><span style="color: #B56959">/files/啼笑因缘.epub</span><span style="color: #B56959AA">&quot;</span><span style="color: #393A34"> </span><span style="color: #B07D48">{getRendition}</span><span style="color: #393A34"> </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">class</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">size</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">button</span><span style="color: #393A34"> </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">click</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #999999">()</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #59873A">changeSize</span><span style="color: #999999">(</span><span style="color: #B56959">Math</span><span style="color: #999999">.</span><span style="color: #59873A">max</span><span style="color: #999999">(</span><span style="color: #2F798A">80</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B56959">size</span><span style="color: #393A34"> </span><span style="color: #AB5959">-</span><span style="color: #393A34"> </span><span style="color: #2F798A">10</span><span style="color: #999999">))</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span><span style="color: #393A34">-</span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">button</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">span</span><span style="color: #999999">&gt;</span><span style="color: #393A34">Current size: </span><span style="color: #999999">{</span><span style="color: #B07D48">size</span><span style="color: #999999">}</span><span style="color: #393A34">%</span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">span</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">button</span><span style="color: #393A34"> </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">click</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #999999">()</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #59873A">changeSize</span><span style="color: #999999">(</span><span style="color: #B56959">Math</span><span style="color: #999999">.</span><span style="color: #59873A">min</span><span style="color: #999999">(</span><span style="color: #2F798A">130</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B56959">size</span><span style="color: #393A34"> </span><span style="color: #AB5959">+</span><span style="color: #393A34"> </span><span style="color: #2F798A">10</span><span style="color: #999999">))</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span><span style="color: #393A34">+</span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">button</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">.</span><span style="color: #B07D48">size</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">position</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">absolute</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">bottom</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">right</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">left</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">z-index</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">text-align</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">center</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">color</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #999999">#</span><span style="color: #A65E2B">000</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span></code>`,i,p,c=`<code><span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { base } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">$app/paths</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">rendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">null</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">size</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #F78C6C">100</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">changeSize</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">val</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">size</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">val</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">themes</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">fontSize</span><span style="color: #D6DEEB">(</span><span style="color: #D6DEEB">\`</span><span style="color: #D3423E">\${</span><span style="color: #D7DBE0">val</span><span style="color: #D3423E">}</span><span style="color: #ECC48D; font-style: italic">%</span><span style="color: #D6DEEB">\`</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">getRendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">val</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">rendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">val</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">themes</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">fontSize</span><span style="color: #D6DEEB">(</span><span style="color: #D6DEEB">\`</span><span style="color: #D3423E">\${</span><span style="color: #D7DBE0">size</span><span style="color: #D3423E">}</span><span style="color: #ECC48D; font-style: italic">%</span><span style="color: #D6DEEB">\`</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&#39;</span><span style="color: #ECC48D">position: relative</span><span style="color: #D9F5DD">&#39;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">height: 100vh</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">url</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">base</span><span style="color: #D3423E">}</span><span style="color: #ECC48D">/files/啼笑因缘.epub</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">{</span><span style="color: #D6DEEB">getRendition</span><span style="color: #C5E478; font-style: italic">}</span><span style="color: #7FDBCA"> /&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">class</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">size</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">button</span><span style="color: #7FDBCA"> </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:click=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D9F5DD">()</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #ECC48D"> </span><span style="color: #82AAFF; font-style: italic">changeSize</span><span style="color: #D6DEEB">(Math</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">max</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">80</span><span style="color: #ECC48D">, </span><span style="color: #D6DEEB">size</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">-</span><span style="color: #ECC48D"> </span><span style="color: #F78C6C">10</span><span style="color: #D6DEEB">))</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span><span style="color: #D6DEEB">-</span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">button</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">span</span><span style="color: #7FDBCA">&gt;</span><span style="color: #D6DEEB">Current size: </span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">size</span><span style="color: #D3423E">}</span><span style="color: #D6DEEB">%</span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">span</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">button</span><span style="color: #7FDBCA"> </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:click=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D9F5DD">()</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #ECC48D"> </span><span style="color: #82AAFF; font-style: italic">changeSize</span><span style="color: #D6DEEB">(Math</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">min</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">130</span><span style="color: #ECC48D">, </span><span style="color: #D6DEEB">size</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">+</span><span style="color: #ECC48D"> </span><span style="color: #F78C6C">10</span><span style="color: #D6DEEB">))</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span><span style="color: #D6DEEB">+</span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">button</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">size</span><span style="color: #D6DEEB"> {</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">position</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">absolute</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">bottom</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">right</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">left</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">z-index</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">text-align</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">center</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">color</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">#</span><span style="color: #FFEB95">000</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  }</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span></code>`,u,f,h="svelte",g,m,d,v,A='<div class="svp-code-block--line-number-item">1</div> <div class="svp-code-block--line-number-item">2</div> <div class="svp-code-block--line-number-item">3</div> <div class="svp-code-block--line-number-item">4</div> <div class="svp-code-block--line-number-item">5</div> <div class="svp-code-block--line-number-item">6</div> <div class="svp-code-block--line-number-item">7</div> <div class="svp-code-block--line-number-item">8</div> <div class="svp-code-block--line-number-item">9</div> <div class="svp-code-block--line-number-item">10</div> <div class="svp-code-block--line-number-item">11</div> <div class="svp-code-block--line-number-item">12</div> <div class="svp-code-block--line-number-item">13</div> <div class="svp-code-block--line-number-item">14</div> <div class="svp-code-block--line-number-item">15</div> <div class="svp-code-block--line-number-item">16</div> <div class="svp-code-block--line-number-item">17</div> <div class="svp-code-block--line-number-item">18</div> <div class="svp-code-block--line-number-item">19</div> <div class="svp-code-block--line-number-item">20</div> <div class="svp-code-block--line-number-item">21</div> <div class="svp-code-block--line-number-item">22</div> <div class="svp-code-block--line-number-item">23</div> <div class="svp-code-block--line-number-item">24</div> <div class="svp-code-block--line-number-item">25</div> <div class="svp-code-block--line-number-item">26</div> <div class="svp-code-block--line-number-item">27</div> <div class="svp-code-block--line-number-item">28</div> <div class="svp-code-block--line-number-item">29</div> <div class="svp-code-block--line-number-item">30</div> <div class="svp-code-block--line-number-item">31</div> <div class="svp-code-block--line-number-item">32</div> <div class="svp-code-block--line-number-item">33</div> <div class="svp-code-block--line-number-item">34</div> <div class="svp-code-block--line-number-item">35</div> <div class="svp-code-block--line-number-item">36</div> <div class="svp-code-block--line-number-item">37</div> <div class="svp-code-block--line-number-item">38</div>',C;return m=new He({}),{c(){s=R("div"),e=R("div"),e.textContent=t,n=P(),a=R("div"),o=R("pre"),o.innerHTML=r,i=P(),p=R("pre"),p.innerHTML=c,u=P(),f=R("div"),f.textContent=h,g=P(),Bs(m.$$.fragment),d=P(),v=R("div"),v.innerHTML=A,this.h()},l(b){s=I(b,"DIV",{class:!0});var E=Y(s);e=I(E,"DIV",{class:!0,"data-svelte-h":!0}),ss(e)!=="svelte-mzgbwe"&&(e.textContent=t),n=z(E),a=I(E,"DIV",{class:!0});var D=Y(a);o=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(o)!=="svelte-1idhbhq"&&(o.innerHTML=r),i=z(D),p=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(p)!=="svelte-1jros6x"&&(p.innerHTML=c),u=z(D),f=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(f)!=="svelte-xa0fuv"&&(f.textContent=h),g=z(D),ks(m.$$.fragment,D),d=z(D),v=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(v)!=="svelte-bqu3bd"&&(v.innerHTML=A),D.forEach(B),E.forEach(B),this.h()},h(){x(e,"class","svp-code-block--title"),x(o,"class","shiki vitesse-light"),Ts(o,"background-color","#ffffff"),x(o,"tabindex","0"),x(p,"class","shiki night-owl"),Ts(p,"background-color","#011627"),x(p,"tabindex","0"),x(f,"class","svp-code-block--lang"),x(v,"class","svp-code-block--line-numbers"),x(a,"class","svp-code-block svp-code-block--with-line-numbers"),x(s,"class","svp-code-block-wrapper")},m(b,E){q(b,s,E),F(s,e),F(s,n),F(s,a),F(a,o),F(a,i),F(a,p),F(a,u),F(a,f),F(a,g),_s(m,a,null),F(a,d),F(a,v),C=!0},p:Ns,i(b){C||(ps(m.$$.fragment,b),C=!0)},o(b){fs(m.$$.fragment,b),C=!1},d(b){b&&B(s),ws(m)}}}function Kh(l){let s,e,t="custom-css",n,a,o,r=`<code><span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">base</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">$app/paths</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">getRendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">rendition</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #B07D48">themes</span><span style="color: #999999">.</span><span style="color: #59873A">register</span><span style="color: #999999">(</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">custom</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">*</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #998418">color</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">#fff</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">background-color</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">#252525</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">},</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">image</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #998418">border</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">1px solid red</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">},</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">p</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">font-family</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">Helvetica, sans-serif</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">font-weight</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">400</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">font-size</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">20px</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #998418">border</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">1px solid green</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">},</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">});</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #B07D48">themes</span><span style="color: #999999">.</span><span style="color: #59873A">select</span><span style="color: #999999">(</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">custom</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">height: 100vh</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #B07D48">url</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">base</span><span style="color: #999999">}</span><span style="color: #B56959">/files/啼笑因缘.epub</span><span style="color: #B56959AA">&quot;</span><span style="color: #393A34"> </span><span style="color: #B07D48">{getRendition}</span><span style="color: #393A34"> </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span></code>`,i,p,c=`<code><span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { base } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">$app/paths</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">getRendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">rendition</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">themes</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">register</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">custom</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">*</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        color</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">#fff</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">background-color</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">#252525</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">},</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      image</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        border</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">1px solid red</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">},</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      p</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">font-family</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">Helvetica, sans-serif</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">font-weight</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">400</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">font-size</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">20px</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        border</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">1px solid green</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">},</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">themes</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">select</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">custom</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">height: 100vh</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">url</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">base</span><span style="color: #D3423E">}</span><span style="color: #ECC48D">/files/啼笑因缘.epub</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">{</span><span style="color: #D6DEEB">getRendition</span><span style="color: #C5E478; font-style: italic">}</span><span style="color: #7FDBCA"> /&gt;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span></code>`,u,f,h="svelte",g,m,d,v,A='<div class="svp-code-block--line-number-item">1</div> <div class="svp-code-block--line-number-item">2</div> <div class="svp-code-block--line-number-item">3</div> <div class="svp-code-block--line-number-item">4</div> <div class="svp-code-block--line-number-item">5</div> <div class="svp-code-block--line-number-item">6</div> <div class="svp-code-block--line-number-item">7</div> <div class="svp-code-block--line-number-item">8</div> <div class="svp-code-block--line-number-item">9</div> <div class="svp-code-block--line-number-item">10</div> <div class="svp-code-block--line-number-item">11</div> <div class="svp-code-block--line-number-item">12</div> <div class="svp-code-block--line-number-item">13</div> <div class="svp-code-block--line-number-item">14</div> <div class="svp-code-block--line-number-item">15</div> <div class="svp-code-block--line-number-item">16</div> <div class="svp-code-block--line-number-item">17</div> <div class="svp-code-block--line-number-item">18</div> <div class="svp-code-block--line-number-item">19</div> <div class="svp-code-block--line-number-item">20</div> <div class="svp-code-block--line-number-item">21</div> <div class="svp-code-block--line-number-item">22</div> <div class="svp-code-block--line-number-item">23</div> <div class="svp-code-block--line-number-item">24</div> <div class="svp-code-block--line-number-item">25</div> <div class="svp-code-block--line-number-item">26</div> <div class="svp-code-block--line-number-item">27</div>',C;return m=new He({}),{c(){s=R("div"),e=R("div"),e.textContent=t,n=P(),a=R("div"),o=R("pre"),o.innerHTML=r,i=P(),p=R("pre"),p.innerHTML=c,u=P(),f=R("div"),f.textContent=h,g=P(),Bs(m.$$.fragment),d=P(),v=R("div"),v.innerHTML=A,this.h()},l(b){s=I(b,"DIV",{class:!0});var E=Y(s);e=I(E,"DIV",{class:!0,"data-svelte-h":!0}),ss(e)!=="svelte-15qyb6x"&&(e.textContent=t),n=z(E),a=I(E,"DIV",{class:!0});var D=Y(a);o=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(o)!=="svelte-68x5at"&&(o.innerHTML=r),i=z(D),p=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(p)!=="svelte-mylzs2"&&(p.innerHTML=c),u=z(D),f=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(f)!=="svelte-xa0fuv"&&(f.textContent=h),g=z(D),ks(m.$$.fragment,D),d=z(D),v=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(v)!=="svelte-gg0tqu"&&(v.innerHTML=A),D.forEach(B),E.forEach(B),this.h()},h(){x(e,"class","svp-code-block--title"),x(o,"class","shiki vitesse-light"),Ts(o,"background-color","#ffffff"),x(o,"tabindex","0"),x(p,"class","shiki night-owl"),Ts(p,"background-color","#011627"),x(p,"tabindex","0"),x(f,"class","svp-code-block--lang"),x(v,"class","svp-code-block--line-numbers"),x(a,"class","svp-code-block svp-code-block--with-line-numbers"),x(s,"class","svp-code-block-wrapper")},m(b,E){q(b,s,E),F(s,e),F(s,n),F(s,a),F(a,o),F(a,i),F(a,p),F(a,u),F(a,f),F(a,g),_s(m,a,null),F(a,d),F(a,v),C=!0},p:Ns,i(b){C||(ps(m.$$.fragment,b),C=!0)},o(b){fs(m.$$.fragment,b),C=!1},d(b){b&&B(s),ws(m)}}}function Jh(l){let s,e,t="hightlight",n,a,o,r=`<code><span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">onDestroy</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">base</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">$app/paths</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #AB5959">null</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">selections</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #999999">[]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">setRenderSelection</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">cfiRange</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">contents</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">selections</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">[...</span><span style="color: #B07D48">selections</span><span style="color: #999999">,{</span><span style="color: #998418">text</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #59873A">getRange</span><span style="color: #999999">(</span><span style="color: #B07D48">cfiRange</span><span style="color: #999999">).</span><span style="color: #59873A">toString</span><span style="color: #999999">(),</span><span style="color: #B07D48">cfiRange</span><span style="color: #999999">}];</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #B07D48">annotations</span><span style="color: #999999">.</span><span style="color: #59873A">add</span><span style="color: #999999">(</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">highlight</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">cfiRange</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #999999">{},</span><span style="color: #393A34"> </span><span style="color: #AB5959">null</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">hl</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #998418">fill</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">red</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">fill-opacity</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">0.5</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">mix-blend-mode</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">multiply</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">});</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">contents</span><span style="color: #999999">.</span><span style="color: #B07D48">window</span><span style="color: #999999">.</span><span style="color: #59873A">getSelection</span><span style="color: #999999">().</span><span style="color: #59873A">removeAllRanges</span><span style="color: #999999">();</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">getRendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">val</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">val</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #B07D48">themes</span><span style="color: #999999">.</span><span style="color: #59873A">default</span><span style="color: #999999">({</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">::selection</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #998418">background</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">orange</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">},</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">});</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #59873A">on</span><span style="color: #999999">(</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">selected</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">setRenderSelection</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">remove</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">cfiRange</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">index</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #B07D48">annotations</span><span style="color: #999999">.</span><span style="color: #59873A">remove</span><span style="color: #999999">(</span><span style="color: #B07D48">cfiRange</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">highlight</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">selections</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">selections</span><span style="color: #999999">.</span><span style="color: #59873A">filter</span><span style="color: #999999">((</span><span style="color: #B07D48">item</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">j</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #B07D48">j</span><span style="color: #393A34"> </span><span style="color: #AB5959">!==</span><span style="color: #393A34"> </span><span style="color: #B07D48">index</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&#39;</span><span style="color: #B56959">position: relative</span><span style="color: #B56959AA">&#39;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">height: 100vh</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #B07D48">url</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">base</span><span style="color: #999999">}</span><span style="color: #B56959">/files/啼笑因缘.epub</span><span style="color: #B56959AA">&quot;</span><span style="color: #393A34"> </span><span style="color: #B07D48">getRendition</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">getRendition</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span><span style="color: #393A34"> </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">class</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">selection</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    Selection:</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">ul</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">{#</span><span style="color: #1E754F">each</span><span style="color: #393A34"> </span><span style="color: #B07D48">selections</span><span style="color: #393A34"> </span><span style="color: #1E754F">as</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">text</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">cfiRange</span><span style="color: #393A34"> </span><span style="color: #999999">},</span><span style="color: #393A34"> </span><span style="color: #B07D48">index</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">li</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #999999">{</span><span style="color: #B07D48">text</span><span style="color: #393A34"> </span><span style="color: #AB5959">||</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;&quot;</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">button</span><span style="color: #393A34"> </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">click</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #999999">()</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #B56959">rendition</span><span style="color: #999999">.</span><span style="color: #59873A">display</span><span style="color: #999999">(</span><span style="color: #B56959">cfiRange</span><span style="color: #999999">)</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span><span style="color: #393A34">show</span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">button</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">button</span><span style="color: #393A34"> </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">click</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #999999">()</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #59873A">remove</span><span style="color: #999999">(</span><span style="color: #B56959">cfiRange</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B56959">index</span><span style="color: #999999">)</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span><span style="color: #393A34">x</span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">button</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">li</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">{/</span><span style="color: #1E754F">each</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">ul</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">.</span><span style="color: #B07D48">selection</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">position</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">absolute</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">bottom</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">right</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">left</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">z-index</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">background-color</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">white</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">color</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #999999">#</span><span style="color: #A65E2B">000</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span></code>`,i,p,c=`<code><span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { onDestroy } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { base } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">$app/paths</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">rendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">null</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">selections</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB">[]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">setRenderSelection</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">cfiRange</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0; font-style: italic">contents</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">selections</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB; font-style: italic"> </span><span style="color: #D6DEEB">[</span><span style="color: #7FDBCA">...</span><span style="color: #D7DBE0">selections</span><span style="color: #D6DEEB">,{</span><span style="color: #D6DEEB; font-style: italic">text</span><span style="color: #D6DEEB">:</span><span style="color: #D6DEEB; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">getRange</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">cfiRange</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">toString</span><span style="color: #D6DEEB">(),</span><span style="color: #D7DBE0">cfiRange</span><span style="color: #D6DEEB">}]</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">annotations</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">add</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">highlight</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">cfiRange</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{},</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">null</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">hl</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      fill</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">red</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">fill-opacity</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">0.5</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">mix-blend-mode</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">multiply</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">contents</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">window</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">getSelection</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">removeAllRanges</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">getRendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">val</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">rendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">val</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">themes</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">default</span><span style="color: #D6DEEB">(</span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">::selection</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        background</span><span style="color: #C792EA">:</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">orange</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">},</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">on</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">selected</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">setRenderSelection</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">remove</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">cfiRange</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0; font-style: italic">index</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">annotations</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">remove</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">cfiRange</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">highlight</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">selections</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">selections</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">filter</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">item</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0; font-style: italic">j</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">j</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">!==</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">index</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&#39;</span><span style="color: #ECC48D">position: relative</span><span style="color: #D9F5DD">&#39;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">height: 100vh</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">url</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">base</span><span style="color: #D3423E">}</span><span style="color: #ECC48D">/files/啼笑因缘.epub</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">getRendition</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">getRendition</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA"> /&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">class</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">selection</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    Selection:</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">ul</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">      {#</span><span style="color: #C792EA; font-style: italic">each</span><span style="color: #D6DEEB"> selections </span><span style="color: #C792EA; font-style: italic">as</span><span style="color: #D6DEEB"> { text, cfiRange }, index}</span></span>
<span class="line"><span style="color: #D6DEEB">        </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">li</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">          </span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">text </span><span style="color: #C792EA">||</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;&quot;</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #D6DEEB">          </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">button</span><span style="color: #7FDBCA"> </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:click=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D9F5DD">()</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #ECC48D"> </span><span style="color: #D6DEEB">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">display</span><span style="color: #D6DEEB">(cfiRange)</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span><span style="color: #D6DEEB">show</span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">button</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">          </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">button</span><span style="color: #7FDBCA"> </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:click=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D9F5DD">()</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #ECC48D"> </span><span style="color: #82AAFF; font-style: italic">remove</span><span style="color: #D6DEEB">(cfiRange</span><span style="color: #ECC48D">, </span><span style="color: #D6DEEB">index)</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span><span style="color: #D6DEEB">x</span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">button</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">        </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">li</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">      {/</span><span style="color: #C792EA; font-style: italic">each</span><span style="color: #D6DEEB">}</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">ul</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">selection</span><span style="color: #D6DEEB"> {</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">position</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">absolute</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">bottom</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">right</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">left</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">z-index</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">background-color</span><span style="color: #D6DEEB">: </span><span style="color: #7FDBCA">white</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">color</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">#</span><span style="color: #FFEB95">000</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  }</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span></code>`,u,f,h="svelte",g,m,d,v,A='<div class="svp-code-block--line-number-item">1</div> <div class="svp-code-block--line-number-item">2</div> <div class="svp-code-block--line-number-item">3</div> <div class="svp-code-block--line-number-item">4</div> <div class="svp-code-block--line-number-item">5</div> <div class="svp-code-block--line-number-item">6</div> <div class="svp-code-block--line-number-item">7</div> <div class="svp-code-block--line-number-item">8</div> <div class="svp-code-block--line-number-item">9</div> <div class="svp-code-block--line-number-item">10</div> <div class="svp-code-block--line-number-item">11</div> <div class="svp-code-block--line-number-item">12</div> <div class="svp-code-block--line-number-item">13</div> <div class="svp-code-block--line-number-item">14</div> <div class="svp-code-block--line-number-item">15</div> <div class="svp-code-block--line-number-item">16</div> <div class="svp-code-block--line-number-item">17</div> <div class="svp-code-block--line-number-item">18</div> <div class="svp-code-block--line-number-item">19</div> <div class="svp-code-block--line-number-item">20</div> <div class="svp-code-block--line-number-item">21</div> <div class="svp-code-block--line-number-item">22</div> <div class="svp-code-block--line-number-item">23</div> <div class="svp-code-block--line-number-item">24</div> <div class="svp-code-block--line-number-item">25</div> <div class="svp-code-block--line-number-item">26</div> <div class="svp-code-block--line-number-item">27</div> <div class="svp-code-block--line-number-item">28</div> <div class="svp-code-block--line-number-item">29</div> <div class="svp-code-block--line-number-item">30</div> <div class="svp-code-block--line-number-item">31</div> <div class="svp-code-block--line-number-item">32</div> <div class="svp-code-block--line-number-item">33</div> <div class="svp-code-block--line-number-item">34</div> <div class="svp-code-block--line-number-item">35</div> <div class="svp-code-block--line-number-item">36</div> <div class="svp-code-block--line-number-item">37</div> <div class="svp-code-block--line-number-item">38</div> <div class="svp-code-block--line-number-item">39</div> <div class="svp-code-block--line-number-item">40</div> <div class="svp-code-block--line-number-item">41</div> <div class="svp-code-block--line-number-item">42</div> <div class="svp-code-block--line-number-item">43</div> <div class="svp-code-block--line-number-item">44</div> <div class="svp-code-block--line-number-item">45</div> <div class="svp-code-block--line-number-item">46</div> <div class="svp-code-block--line-number-item">47</div> <div class="svp-code-block--line-number-item">48</div> <div class="svp-code-block--line-number-item">49</div> <div class="svp-code-block--line-number-item">50</div> <div class="svp-code-block--line-number-item">51</div> <div class="svp-code-block--line-number-item">52</div> <div class="svp-code-block--line-number-item">53</div> <div class="svp-code-block--line-number-item">54</div> <div class="svp-code-block--line-number-item">55</div> <div class="svp-code-block--line-number-item">56</div> <div class="svp-code-block--line-number-item">57</div> <div class="svp-code-block--line-number-item">58</div> <div class="svp-code-block--line-number-item">59</div> <div class="svp-code-block--line-number-item">60</div> <div class="svp-code-block--line-number-item">61</div> <div class="svp-code-block--line-number-item">62</div> <div class="svp-code-block--line-number-item">63</div>',C;return m=new He({}),{c(){s=R("div"),e=R("div"),e.textContent=t,n=P(),a=R("div"),o=R("pre"),o.innerHTML=r,i=P(),p=R("pre"),p.innerHTML=c,u=P(),f=R("div"),f.textContent=h,g=P(),Bs(m.$$.fragment),d=P(),v=R("div"),v.innerHTML=A,this.h()},l(b){s=I(b,"DIV",{class:!0});var E=Y(s);e=I(E,"DIV",{class:!0,"data-svelte-h":!0}),ss(e)!=="svelte-1vg7siq"&&(e.textContent=t),n=z(E),a=I(E,"DIV",{class:!0});var D=Y(a);o=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(o)!=="svelte-ndsg1j"&&(o.innerHTML=r),i=z(D),p=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(p)!=="svelte-1d6c6e4"&&(p.innerHTML=c),u=z(D),f=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(f)!=="svelte-xa0fuv"&&(f.textContent=h),g=z(D),ks(m.$$.fragment,D),d=z(D),v=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(v)!=="svelte-f3dw2i"&&(v.innerHTML=A),D.forEach(B),E.forEach(B),this.h()},h(){x(e,"class","svp-code-block--title"),x(o,"class","shiki vitesse-light"),Ts(o,"background-color","#ffffff"),x(o,"tabindex","0"),x(p,"class","shiki night-owl"),Ts(p,"background-color","#011627"),x(p,"tabindex","0"),x(f,"class","svp-code-block--lang"),x(v,"class","svp-code-block--line-numbers"),x(a,"class","svp-code-block svp-code-block--with-line-numbers"),x(s,"class","svp-code-block-wrapper")},m(b,E){q(b,s,E),F(s,e),F(s,n),F(s,a),F(a,o),F(a,i),F(a,p),F(a,u),F(a,f),F(a,g),_s(m,a,null),F(a,d),F(a,v),C=!0},p:Ns,i(b){C||(ps(m.$$.fragment,b),C=!0)},o(b){fs(m.$$.fragment,b),C=!1},d(b){b&&B(s),ws(m)}}}function Qh(l){let s,e,t="display-scrolled",n,a,o,r=`<code><span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">base</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">$app/paths</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">height: 100vh</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">url</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">base</span><span style="color: #999999">}</span><span style="color: #B56959">/files/啼笑因缘.epub</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">epubOptions</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #999999">      </span><span style="color: #998418">flow</span><span style="color: #999999">: </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">scrolled</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #999999">      </span><span style="color: #998418">manager</span><span style="color: #999999">: </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">continuous</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #999999">    }</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span></code>`,i,p,c=`<code><span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { base } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">$app/paths</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">height: 100vh</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span></span>
<span class="line"><span style="color: #7FDBCA">    </span><span style="color: #C5E478; font-style: italic">url</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">base</span><span style="color: #D3423E">}</span><span style="color: #ECC48D">/files/啼笑因缘.epub</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">    </span><span style="color: #C5E478; font-style: italic">epubOptions</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #ECC48D">{</span></span>
<span class="line"><span style="color: #ECC48D">      flow: </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">scrolled</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">,</span></span>
<span class="line"><span style="color: #ECC48D">      manager: </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">continuous</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">,</span></span>
<span class="line"><span style="color: #ECC48D">    }</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">  /&gt;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span></code>`,u,f,h="svelte",g,m,d,v,A='<div class="svp-code-block--line-number-item">1</div> <div class="svp-code-block--line-number-item">2</div> <div class="svp-code-block--line-number-item">3</div> <div class="svp-code-block--line-number-item">4</div> <div class="svp-code-block--line-number-item">5</div> <div class="svp-code-block--line-number-item">6</div> <div class="svp-code-block--line-number-item">7</div> <div class="svp-code-block--line-number-item">8</div> <div class="svp-code-block--line-number-item">9</div> <div class="svp-code-block--line-number-item">10</div> <div class="svp-code-block--line-number-item">11</div> <div class="svp-code-block--line-number-item">12</div> <div class="svp-code-block--line-number-item">13</div> <div class="svp-code-block--line-number-item">14</div>',C;return m=new He({}),{c(){s=R("div"),e=R("div"),e.textContent=t,n=P(),a=R("div"),o=R("pre"),o.innerHTML=r,i=P(),p=R("pre"),p.innerHTML=c,u=P(),f=R("div"),f.textContent=h,g=P(),Bs(m.$$.fragment),d=P(),v=R("div"),v.innerHTML=A,this.h()},l(b){s=I(b,"DIV",{class:!0});var E=Y(s);e=I(E,"DIV",{class:!0,"data-svelte-h":!0}),ss(e)!=="svelte-1m75iyx"&&(e.textContent=t),n=z(E),a=I(E,"DIV",{class:!0});var D=Y(a);o=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(o)!=="svelte-6jjelx"&&(o.innerHTML=r),i=z(D),p=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(p)!=="svelte-qfdl21"&&(p.innerHTML=c),u=z(D),f=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(f)!=="svelte-xa0fuv"&&(f.textContent=h),g=z(D),ks(m.$$.fragment,D),d=z(D),v=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(v)!=="svelte-152hg6p"&&(v.innerHTML=A),D.forEach(B),E.forEach(B),this.h()},h(){x(e,"class","svp-code-block--title"),x(o,"class","shiki vitesse-light"),Ts(o,"background-color","#ffffff"),x(o,"tabindex","0"),x(p,"class","shiki night-owl"),Ts(p,"background-color","#011627"),x(p,"tabindex","0"),x(f,"class","svp-code-block--lang"),x(v,"class","svp-code-block--line-numbers"),x(a,"class","svp-code-block svp-code-block--with-line-numbers"),x(s,"class","svp-code-block-wrapper")},m(b,E){q(b,s,E),F(s,e),F(s,n),F(s,a),F(a,o),F(a,i),F(a,p),F(a,u),F(a,f),F(a,g),_s(m,a,null),F(a,d),F(a,v),C=!0},p:Ns,i(b){C||(ps(m.$$.fragment,b),C=!0)},o(b){fs(m.$$.fragment,b),C=!1},d(b){b&&B(s),ws(m)}}}function s3(l){let s,e,t="speak-text",n,a,o,r=`<code><span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">base</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">$app/paths</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">isAudioOn</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #1E754F">false</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">text</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;&quot;</span><span style="color: #999999">,</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #AB5959">null</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">isReading</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #1E754F">false</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">locationChange</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">()</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">range</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #59873A">getRange</span><span style="color: #999999">(</span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #59873A">currentLocation</span><span style="color: #999999">().</span><span style="color: #B07D48">start</span><span style="color: #999999">.</span><span style="color: #B07D48">cfi</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">endRange</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #59873A">getRange</span><span style="color: #999999">(</span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #59873A">currentLocation</span><span style="color: #999999">().</span><span style="color: #B07D48">end</span><span style="color: #999999">.</span><span style="color: #B07D48">cfi</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">range</span><span style="color: #999999">.</span><span style="color: #59873A">setEnd</span><span style="color: #999999">(</span><span style="color: #B07D48">endRange</span><span style="color: #999999">.</span><span style="color: #B07D48">startContainer</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">endRange</span><span style="color: #999999">.</span><span style="color: #B07D48">startOffset</span><span style="color: #999999">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">text</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">range</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">.</span><span style="color: #59873A">toString</span><span style="color: #999999">()</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">.</span><span style="color: #59873A">replace</span><span style="color: #999999">(</span><span style="color: #B56959AA">/</span><span style="color: #A65E2B">\\s\\s</span><span style="color: #B56959AA">/</span><span style="color: #1E754F">g</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;&quot;</span><span style="color: #999999">)</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">.</span><span style="color: #59873A">replace</span><span style="color: #999999">(</span><span style="color: #B56959AA">/</span><span style="color: #A65E2B">\\r</span><span style="color: #B56959AA">/</span><span style="color: #1E754F">g</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;&quot;</span><span style="color: #999999">)</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">.</span><span style="color: #59873A">replace</span><span style="color: #999999">(</span><span style="color: #B56959AA">/</span><span style="color: #A65E2B">\\n</span><span style="color: #B56959AA">/</span><span style="color: #1E754F">g</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;&quot;</span><span style="color: #999999">)</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">.</span><span style="color: #59873A">replace</span><span style="color: #999999">(</span><span style="color: #B56959AA">/</span><span style="color: #A65E2B">\\t</span><span style="color: #B56959AA">/</span><span style="color: #1E754F">g</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;&quot;</span><span style="color: #999999">)</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">.</span><span style="color: #59873A">replace</span><span style="color: #999999">(</span><span style="color: #B56959AA">/</span><span style="color: #A65E2B">\\f</span><span style="color: #B56959AA">/</span><span style="color: #1E754F">g</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;&quot;</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">speak</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">type</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">type</span><span style="color: #393A34"> </span><span style="color: #AB5959">===</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">click</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #B07D48">isReading</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #AB5959">!</span><span style="color: #B07D48">isReading</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">isReading</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #59873A">voice</span><span style="color: #999999">(</span><span style="color: #B07D48">text</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">else</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">isAudioOn</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #1E754F">false</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">window</span><span style="color: #999999">.</span><span style="color: #B07D48">speechSynthesis</span><span style="color: #999999">.</span><span style="color: #59873A">cancel</span><span style="color: #999999">();</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">voice</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">text</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">rate</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">isAudioOn</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #1E754F">true</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">msg</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #AB5959">new</span><span style="color: #393A34"> </span><span style="color: #59873A">SpeechSynthesisUtterance</span><span style="color: #999999">();</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">msg</span><span style="color: #999999">.</span><span style="color: #B07D48">text</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">text</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">msg</span><span style="color: #999999">.</span><span style="color: #B07D48">voice</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">window</span><span style="color: #999999">.</span><span style="color: #B07D48">speechSynthesis</span><span style="color: #999999">.</span><span style="color: #59873A">getVoices</span><span style="color: #999999">()[</span><span style="color: #2F798A">0</span><span style="color: #999999">];</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">msg</span><span style="color: #999999">.</span><span style="color: #B07D48">rate</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">rate</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">window</span><span style="color: #999999">.</span><span style="color: #B07D48">speechSynthesis</span><span style="color: #999999">.</span><span style="color: #59873A">speak</span><span style="color: #999999">(</span><span style="color: #B07D48">msg</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">msg</span><span style="color: #999999">.</span><span style="color: #59873A">onerror</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">err</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">console</span><span style="color: #999999">.</span><span style="color: #59873A">log</span><span style="color: #999999">(</span><span style="color: #B07D48">err</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">};</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">msg</span><span style="color: #999999">.</span><span style="color: #59873A">onend</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #AB5959">async</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">event</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #AB5959">!</span><span style="color: #B07D48">isReading</span><span style="color: #393A34"> </span><span style="color: #AB5959">&amp;&amp;</span><span style="color: #393A34"> </span><span style="color: #AB5959">!</span><span style="color: #B07D48">isAudioOn</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #1E754F">return</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #59873A">next</span><span style="color: #999999">();</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #59873A">speak</span><span style="color: #999999">();</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">};</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">position: relative</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">height: 100vh</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">url</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">base</span><span style="color: #999999">}</span><span style="color: #B56959">/files/啼笑因缘.epub</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">getRendition</span><span style="color: #999999">={(</span><span style="color: #B07D48">val</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">rendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">val</span><span style="color: #999999">)}</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">update</span><span style="color: #393A34">:</span><span style="color: #B07D48">location</span><span style="color: #999999">={</span><span style="color: #B07D48">locationChange</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">class</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">speak</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">button</span><span style="color: #393A34"> </span><span style="color: #B07D48">class</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">reader-button</span><span style="color: #B56959AA">&quot;</span><span style="color: #393A34"> </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">click</span><span style="color: #999999">={()</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #59873A">speak</span><span style="color: #999999">(</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">click</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">)}&gt;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">{</span><span style="color: #B07D48">isReading</span><span style="color: #393A34"> </span><span style="color: #AB5959">?</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">cancel</span><span style="color: #B56959AA">&quot;</span><span style="color: #393A34"> </span><span style="color: #AB5959">:</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">speak</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">button</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">.</span><span style="color: #B07D48">speak</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">position</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">absolute</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">bottom</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">right</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">left</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">z-index</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">text-align</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">center</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span></code>`,i,p,c=`<code><span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { base } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">$app/paths</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">isAudioOn</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">false</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">text</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;&quot;</span><span style="color: #C792EA">,</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">rendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">null</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">isReading</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">false</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">locationChange</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">()</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">range</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">getRange</span><span style="color: #D6DEEB">(</span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">currentLocation</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">start</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">cfi</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">endRange</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">getRange</span><span style="color: #D6DEEB">(</span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">currentLocation</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">end</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">cfi</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">range</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">setEnd</span><span style="color: #D6DEEB">(</span><span style="color: #7FDBCA; font-style: italic">endRange</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">startContainer</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">endRange</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">startOffset</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">text</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">range</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      .</span><span style="color: #82AAFF; font-style: italic">toString</span><span style="color: #D6DEEB">()</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      .</span><span style="color: #82AAFF; font-style: italic">replace</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">/</span><span style="color: #82AAFF; font-style: italic">\\s\\s</span><span style="color: #D9F5DD">/</span><span style="color: #5CA7E4">g</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;&quot;</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      .</span><span style="color: #82AAFF; font-style: italic">replace</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">/</span><span style="color: #82AAFF; font-style: italic">\\r</span><span style="color: #D9F5DD">/</span><span style="color: #5CA7E4">g</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;&quot;</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      .</span><span style="color: #82AAFF; font-style: italic">replace</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">/</span><span style="color: #82AAFF; font-style: italic">\\n</span><span style="color: #D9F5DD">/</span><span style="color: #5CA7E4">g</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;&quot;</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      .</span><span style="color: #82AAFF; font-style: italic">replace</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">/</span><span style="color: #82AAFF; font-style: italic">\\t</span><span style="color: #D9F5DD">/</span><span style="color: #5CA7E4">g</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;&quot;</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      .</span><span style="color: #82AAFF; font-style: italic">replace</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">/</span><span style="color: #82AAFF; font-style: italic">\\f</span><span style="color: #D9F5DD">/</span><span style="color: #5CA7E4">g</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;&quot;</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">speak</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">type</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">if</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">type</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">===</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">click</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">isReading</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">!</span><span style="color: #D7DBE0">isReading</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">if</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">isReading</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #82AAFF; font-style: italic">voice</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">text</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">}</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">else</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #D7DBE0">isAudioOn</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">false</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #7FDBCA; font-style: italic">window</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">speechSynthesis</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">cancel</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">}</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">voice</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">text</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0; font-style: italic">rate</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #F78C6C">1</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">isAudioOn</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">true</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">msg</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA">new</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">SpeechSynthesisUtterance</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">msg</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">text</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">text</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">msg</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">voice</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">window</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">speechSynthesis</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">getVoices</span><span style="color: #D6DEEB">()[</span><span style="color: #F78C6C">0</span><span style="color: #D6DEEB">]</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">msg</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">rate</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">rate</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">window</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">speechSynthesis</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">speak</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">msg</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">msg</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">onerror</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">err</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #7FDBCA; font-style: italic">console</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">log</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">err</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">};</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">msg</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">onend</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> async </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">event</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">if</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">(</span><span style="color: #C792EA">!</span><span style="color: #D7DBE0">isReading</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">&amp;&amp;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">!</span><span style="color: #D7DBE0">isAudioOn</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic"> return</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">next</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #82AAFF; font-style: italic">speak</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">};</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">position: relative</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">height: 100vh</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">url</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">base</span><span style="color: #D3423E">}</span><span style="color: #ECC48D">/files/啼笑因缘.epub</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">getRendition</span><span style="color: #7FDBCA">=</span><span style="color: #D3423E">{</span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0">val</span><span style="color: #D9F5DD">)</span><span style="color: #7FDBCA"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #7FDBCA"> </span><span style="color: #D6DEEB">(rendition</span><span style="color: #7FDBCA"> </span><span style="color: #C792EA">=</span><span style="color: #7FDBCA"> </span><span style="color: #D6DEEB">val)</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:update:</span><span style="color: #C5E478; font-style: italic">location</span><span style="color: #7FDBCA">=</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">locationChange</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #7FDBCA">    /&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">class</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">speak</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">button</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">class</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">reader-button</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA"> </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:click=</span><span style="color: #D3423E">{</span><span style="color: #D9F5DD">()</span><span style="color: #7FDBCA"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #7FDBCA"> </span><span style="color: #82AAFF; font-style: italic">speak</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">click</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">)</span><span style="color: #D3423E">}</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">      </span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">isReading </span><span style="color: #C792EA">?</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">cancel</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB"> </span><span style="color: #C792EA">:</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">speak</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">button</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">speak</span><span style="color: #D6DEEB"> {</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">position</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">absolute</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">bottom</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">right</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">left</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">z-index</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">text-align</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">center</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  }</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span></code>`,u,f,h="svelte",g,m,d,v,A='<div class="svp-code-block--line-number-item">1</div> <div class="svp-code-block--line-number-item">2</div> <div class="svp-code-block--line-number-item">3</div> <div class="svp-code-block--line-number-item">4</div> <div class="svp-code-block--line-number-item">5</div> <div class="svp-code-block--line-number-item">6</div> <div class="svp-code-block--line-number-item">7</div> <div class="svp-code-block--line-number-item">8</div> <div class="svp-code-block--line-number-item">9</div> <div class="svp-code-block--line-number-item">10</div> <div class="svp-code-block--line-number-item">11</div> <div class="svp-code-block--line-number-item">12</div> <div class="svp-code-block--line-number-item">13</div> <div class="svp-code-block--line-number-item">14</div> <div class="svp-code-block--line-number-item">15</div> <div class="svp-code-block--line-number-item">16</div> <div class="svp-code-block--line-number-item">17</div> <div class="svp-code-block--line-number-item">18</div> <div class="svp-code-block--line-number-item">19</div> <div class="svp-code-block--line-number-item">20</div> <div class="svp-code-block--line-number-item">21</div> <div class="svp-code-block--line-number-item">22</div> <div class="svp-code-block--line-number-item">23</div> <div class="svp-code-block--line-number-item">24</div> <div class="svp-code-block--line-number-item">25</div> <div class="svp-code-block--line-number-item">26</div> <div class="svp-code-block--line-number-item">27</div> <div class="svp-code-block--line-number-item">28</div> <div class="svp-code-block--line-number-item">29</div> <div class="svp-code-block--line-number-item">30</div> <div class="svp-code-block--line-number-item">31</div> <div class="svp-code-block--line-number-item">32</div> <div class="svp-code-block--line-number-item">33</div> <div class="svp-code-block--line-number-item">34</div> <div class="svp-code-block--line-number-item">35</div> <div class="svp-code-block--line-number-item">36</div> <div class="svp-code-block--line-number-item">37</div> <div class="svp-code-block--line-number-item">38</div> <div class="svp-code-block--line-number-item">39</div> <div class="svp-code-block--line-number-item">40</div> <div class="svp-code-block--line-number-item">41</div> <div class="svp-code-block--line-number-item">42</div> <div class="svp-code-block--line-number-item">43</div> <div class="svp-code-block--line-number-item">44</div> <div class="svp-code-block--line-number-item">45</div> <div class="svp-code-block--line-number-item">46</div> <div class="svp-code-block--line-number-item">47</div> <div class="svp-code-block--line-number-item">48</div> <div class="svp-code-block--line-number-item">49</div> <div class="svp-code-block--line-number-item">50</div> <div class="svp-code-block--line-number-item">51</div> <div class="svp-code-block--line-number-item">52</div> <div class="svp-code-block--line-number-item">53</div> <div class="svp-code-block--line-number-item">54</div> <div class="svp-code-block--line-number-item">55</div> <div class="svp-code-block--line-number-item">56</div> <div class="svp-code-block--line-number-item">57</div> <div class="svp-code-block--line-number-item">58</div> <div class="svp-code-block--line-number-item">59</div> <div class="svp-code-block--line-number-item">60</div> <div class="svp-code-block--line-number-item">61</div> <div class="svp-code-block--line-number-item">62</div> <div class="svp-code-block--line-number-item">63</div> <div class="svp-code-block--line-number-item">64</div> <div class="svp-code-block--line-number-item">65</div> <div class="svp-code-block--line-number-item">66</div> <div class="svp-code-block--line-number-item">67</div> <div class="svp-code-block--line-number-item">68</div> <div class="svp-code-block--line-number-item">69</div> <div class="svp-code-block--line-number-item">70</div> <div class="svp-code-block--line-number-item">71</div> <div class="svp-code-block--line-number-item">72</div> <div class="svp-code-block--line-number-item">73</div> <div class="svp-code-block--line-number-item">74</div> <div class="svp-code-block--line-number-item">75</div>',C;return m=new He({}),{c(){s=R("div"),e=R("div"),e.textContent=t,n=P(),a=R("div"),o=R("pre"),o.innerHTML=r,i=P(),p=R("pre"),p.innerHTML=c,u=P(),f=R("div"),f.textContent=h,g=P(),Bs(m.$$.fragment),d=P(),v=R("div"),v.innerHTML=A,this.h()},l(b){s=I(b,"DIV",{class:!0});var E=Y(s);e=I(E,"DIV",{class:!0,"data-svelte-h":!0}),ss(e)!=="svelte-1s0j06w"&&(e.textContent=t),n=z(E),a=I(E,"DIV",{class:!0});var D=Y(a);o=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(o)!=="svelte-1dt7udz"&&(o.innerHTML=r),i=z(D),p=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(p)!=="svelte-18gbozy"&&(p.innerHTML=c),u=z(D),f=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(f)!=="svelte-xa0fuv"&&(f.textContent=h),g=z(D),ks(m.$$.fragment,D),d=z(D),v=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(v)!=="svelte-aeqc2s"&&(v.innerHTML=A),D.forEach(B),E.forEach(B),this.h()},h(){x(e,"class","svp-code-block--title"),x(o,"class","shiki vitesse-light"),Ts(o,"background-color","#ffffff"),x(o,"tabindex","0"),x(p,"class","shiki night-owl"),Ts(p,"background-color","#011627"),x(p,"tabindex","0"),x(f,"class","svp-code-block--lang"),x(v,"class","svp-code-block--line-numbers"),x(a,"class","svp-code-block svp-code-block--with-line-numbers"),x(s,"class","svp-code-block-wrapper")},m(b,E){q(b,s,E),F(s,e),F(s,n),F(s,a),F(a,o),F(a,i),F(a,p),F(a,u),F(a,f),F(a,g),_s(m,a,null),F(a,d),F(a,v),C=!0},p:Ns,i(b){C||(ps(m.$$.fragment,b),C=!0)},o(b){fs(m.$$.fragment,b),C=!1},d(b){b&&B(s),ws(m)}}}function e3(l){let s,e,t="get-information",n,a,o,r=`<code><span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #B07D48">url</span><span style="color: #999999">=</span><span style="color: #B56959AA">&#39;</span><span style="color: #999999">{</span><span style="color: #B56959">base</span><span style="color: #999999">}</span><span style="color: #B56959">/files/啼笑因缘.epub</span><span style="color: #B56959AA">&#39;</span><span style="color: #393A34"> </span><span style="color: #B07D48">getRendition</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">getRendition</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;/</span><span style="color: #998418">SvelteReader</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">{#</span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #B07D48">information</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&#39;</span><span style="color: #B56959">color: #000</span><span style="color: #B56959AA">&#39;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">img</span><span style="color: #393A34"> </span><span style="color: #B07D48">src</span><span style="color: #999999">={</span><span style="color: #B07D48">information</span><span style="color: #999999">.</span><span style="color: #B07D48">cover</span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #B07D48">alt</span><span style="color: #999999">={</span><span style="color: #B07D48">information</span><span style="color: #999999">.</span><span style="color: #B07D48">title</span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">width: 100px</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span><span style="color: #393A34">标题:</span><span style="color: #999999">{</span><span style="color: #B07D48">information</span><span style="color: #999999">.</span><span style="color: #B07D48">title</span><span style="color: #393A34"> </span><span style="color: #999999">}&lt;/</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span><span style="color: #393A34">作者:</span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">information</span><span style="color: #999999">.</span><span style="color: #B07D48">creator</span><span style="color: #393A34"> </span><span style="color: #999999">}&lt;/</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span><span style="color: #393A34">出版社:</span><span style="color: #999999">{</span><span style="color: #B07D48">information</span><span style="color: #999999">.</span><span style="color: #B07D48">publisher</span><span style="color: #393A34"> </span><span style="color: #999999">}&lt;/</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span><span style="color: #393A34">语言:</span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">information</span><span style="color: #999999">.</span><span style="color: #B07D48">language</span><span style="color: #393A34"> </span><span style="color: #999999">}&lt;/</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span><span style="color: #393A34">出版日期:</span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">information</span><span style="color: #999999">.</span><span style="color: #B07D48">pubdate</span><span style="color: #393A34"> </span><span style="color: #999999">}&lt;/</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span><span style="color: #393A34">修改日期:</span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">information</span><span style="color: #999999">.</span><span style="color: #B07D48">modified_date</span><span style="color: #393A34"> </span><span style="color: #999999">}&lt;/</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span><span style="color: #393A34">介绍:</span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">information</span><span style="color: #999999">.</span><span style="color: #B07D48">description</span><span style="color: #393A34"> </span><span style="color: #999999">}&lt;/</span><span style="color: #1E754F">p</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #999999">{/</span><span style="color: #1E754F">if</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">    </span></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">base</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">$app/paths</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">information</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #AB5959">null</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">getRendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">rendition</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">book</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #B07D48">book</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">book</span><span style="color: #999999">.</span><span style="color: #B07D48">ready</span><span style="color: #999999">.</span><span style="color: #59873A">then</span><span style="color: #999999">(()</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #B07D48">book</span><span style="color: #999999">.</span><span style="color: #B07D48">loaded</span><span style="color: #999999">.</span><span style="color: #B07D48">metadata</span><span style="color: #999999">.</span><span style="color: #59873A">then</span><span style="color: #999999">(</span><span style="color: #AB5959">async</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">metadata</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">              </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">cover</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #1E754F">await</span><span style="color: #393A34"> </span><span style="color: #B07D48">book</span><span style="color: #999999">.</span><span style="color: #59873A">coverUrl</span><span style="color: #999999">()</span></span>
<span class="line"><span style="color: #393A34">              </span><span style="color: #B07D48">information</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #999999">...</span><span style="color: #B07D48">metadata</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">cover</span><span style="color: #393A34"> </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #999999">})</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">})</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span></code>`,i,p,c=`<code><span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">url</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&#39;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">base</span><span style="color: #D3423E">}</span><span style="color: #ECC48D">/files/啼笑因缘.epub</span><span style="color: #D9F5DD">&#39;</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">getRendition</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">getRendition</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #C5E478">SvelteReader</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">    {#</span><span style="color: #C792EA; font-style: italic">if</span><span style="color: #D6DEEB"> information}</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&#39;</span><span style="color: #ECC48D">color: #000</span><span style="color: #D9F5DD">&#39;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">        </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">img</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">src</span><span style="color: #7FDBCA">=</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">information</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2">cover</span><span style="color: #D3423E">}</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">alt</span><span style="color: #7FDBCA">=</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">information</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2">title</span><span style="color: #D3423E">}</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">width: 100px</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">        </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span><span style="color: #D6DEEB">标题:</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">information</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2">title</span><span style="color: #D6DEEB"> </span><span style="color: #D3423E">}</span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">        </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span><span style="color: #D6DEEB">作者:</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB"> information</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2">creator</span><span style="color: #D6DEEB"> </span><span style="color: #D3423E">}</span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">        </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span><span style="color: #D6DEEB">出版社:</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">information</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2">publisher</span><span style="color: #D6DEEB"> </span><span style="color: #D3423E">}</span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">        </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span><span style="color: #D6DEEB">语言:</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB"> information</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2">language</span><span style="color: #D6DEEB"> </span><span style="color: #D3423E">}</span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">        </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span><span style="color: #D6DEEB">出版日期:</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB"> information</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2">pubdate</span><span style="color: #D6DEEB"> </span><span style="color: #D3423E">}</span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">        </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span><span style="color: #D6DEEB">修改日期:</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB"> information</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2">modified_date</span><span style="color: #D6DEEB"> </span><span style="color: #D3423E">}</span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">        </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span><span style="color: #D6DEEB">介绍:</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB"> information</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2">description</span><span style="color: #D6DEEB"> </span><span style="color: #D3423E">}</span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">p</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">{/</span><span style="color: #C792EA; font-style: italic">if</span><span style="color: #D6DEEB">}</span></span>
<span class="line"><span style="color: #D6DEEB">    </span></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { base } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">$app/paths</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">information</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">null</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">getRendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">rendition</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">book</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">book</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #7FDBCA; font-style: italic">book</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">ready</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">then</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">()</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          </span><span style="color: #7FDBCA; font-style: italic">book</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">loaded</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">metadata</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">then</span><span style="color: #D6DEEB">(</span><span style="color: #C792EA; font-style: italic">async </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">metadata</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">              </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">cover</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> await </span><span style="color: #7FDBCA; font-style: italic">book</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">coverUrl</span><span style="color: #D6DEEB">()</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">              </span><span style="color: #D7DBE0">information</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA">...</span><span style="color: #D7DBE0">metadata</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">cover</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">}</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span></code>`,u,f,h="svelte",g,m,d,v,A='<div class="svp-code-block--line-number-item">1</div> <div class="svp-code-block--line-number-item">2</div> <div class="svp-code-block--line-number-item">3</div> <div class="svp-code-block--line-number-item">4</div> <div class="svp-code-block--line-number-item">5</div> <div class="svp-code-block--line-number-item">6</div> <div class="svp-code-block--line-number-item">7</div> <div class="svp-code-block--line-number-item">8</div> <div class="svp-code-block--line-number-item">9</div> <div class="svp-code-block--line-number-item">10</div> <div class="svp-code-block--line-number-item">11</div> <div class="svp-code-block--line-number-item">12</div> <div class="svp-code-block--line-number-item">13</div> <div class="svp-code-block--line-number-item">14</div> <div class="svp-code-block--line-number-item">15</div> <div class="svp-code-block--line-number-item">16</div> <div class="svp-code-block--line-number-item">17</div> <div class="svp-code-block--line-number-item">18</div> <div class="svp-code-block--line-number-item">19</div> <div class="svp-code-block--line-number-item">20</div> <div class="svp-code-block--line-number-item">21</div> <div class="svp-code-block--line-number-item">22</div> <div class="svp-code-block--line-number-item">23</div> <div class="svp-code-block--line-number-item">24</div> <div class="svp-code-block--line-number-item">25</div> <div class="svp-code-block--line-number-item">26</div> <div class="svp-code-block--line-number-item">27</div> <div class="svp-code-block--line-number-item">28</div> <div class="svp-code-block--line-number-item">29</div> <div class="svp-code-block--line-number-item">30</div> <div class="svp-code-block--line-number-item">31</div>',C;return m=new He({}),{c(){s=R("div"),e=R("div"),e.textContent=t,n=P(),a=R("div"),o=R("pre"),o.innerHTML=r,i=P(),p=R("pre"),p.innerHTML=c,u=P(),f=R("div"),f.textContent=h,g=P(),Bs(m.$$.fragment),d=P(),v=R("div"),v.innerHTML=A,this.h()},l(b){s=I(b,"DIV",{class:!0});var E=Y(s);e=I(E,"DIV",{class:!0,"data-svelte-h":!0}),ss(e)!=="svelte-drucd7"&&(e.textContent=t),n=z(E),a=I(E,"DIV",{class:!0});var D=Y(a);o=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(o)!=="svelte-1pdy6ku"&&(o.innerHTML=r),i=z(D),p=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(p)!=="svelte-1pocysl"&&(p.innerHTML=c),u=z(D),f=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(f)!=="svelte-xa0fuv"&&(f.textContent=h),g=z(D),ks(m.$$.fragment,D),d=z(D),v=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(v)!=="svelte-3osgl0"&&(v.innerHTML=A),D.forEach(B),E.forEach(B),this.h()},h(){x(e,"class","svp-code-block--title"),x(o,"class","shiki vitesse-light"),Ts(o,"background-color","#ffffff"),x(o,"tabindex","0"),x(p,"class","shiki night-owl"),Ts(p,"background-color","#011627"),x(p,"tabindex","0"),x(f,"class","svp-code-block--lang"),x(v,"class","svp-code-block--line-numbers"),x(a,"class","svp-code-block svp-code-block--with-line-numbers"),x(s,"class","svp-code-block-wrapper")},m(b,E){q(b,s,E),F(s,e),F(s,n),F(s,a),F(a,o),F(a,i),F(a,p),F(a,u),F(a,f),F(a,g),_s(m,a,null),F(a,d),F(a,v),C=!0},p:Ns,i(b){C||(ps(m.$$.fragment,b),C=!0)},o(b){fs(m.$$.fragment,b),C=!1},d(b){b&&B(s),ws(m)}}}function t3(l){let s,e,t="import-file",n,a,o,r=`<code><span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">url</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #AB5959">null</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">onchange</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">e</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">file</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">e</span><span style="color: #999999">.</span><span style="color: #B07D48">target</span><span style="color: #999999">.</span><span style="color: #B07D48">files</span><span style="color: #999999">[</span><span style="color: #2F798A">0</span><span style="color: #999999">];</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">window</span><span style="color: #999999">.</span><span style="color: #B07D48">FileReader</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #AB5959">var</span><span style="color: #393A34"> </span><span style="color: #B07D48">reader</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #AB5959">new</span><span style="color: #393A34"> </span><span style="color: #59873A">FileReader</span><span style="color: #999999">();</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">reader</span><span style="color: #999999">.</span><span style="color: #59873A">onloadend</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">e</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">url</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">reader</span><span style="color: #999999">.</span><span style="color: #B07D48">result</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">reader</span><span style="color: #999999">.</span><span style="color: #59873A">readAsArrayBuffer</span><span style="color: #999999">(</span><span style="color: #B07D48">file</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">position: relative;height: 100vh;</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">{#</span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #B07D48">url</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">height: 100vh</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #B07D48">{url}</span><span style="color: #393A34"> </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">{/</span><span style="color: #1E754F">if</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">input</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">type</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">file</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">multiple</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #1E754F">false</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">accept</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #2F798A">.epub</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">change</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">onchange</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">class</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">input</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">.</span><span style="color: #B07D48">input</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">position</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">absolute</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">bottom</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">right</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">left</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">z-index</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span></code>`,i,p,c=`<code><span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">url</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">null</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">onchange</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">e</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">file</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">e</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">target</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">files</span><span style="color: #D6DEEB">[</span><span style="color: #F78C6C">0</span><span style="color: #D6DEEB">]</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">if</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">(</span><span style="color: #7FDBCA; font-style: italic">window</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">FileReader</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">var</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">reader</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA">new</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">FileReader</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #7FDBCA; font-style: italic">reader</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">onloadend</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">e</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">url</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">reader</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">result</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #7FDBCA; font-style: italic">reader</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">readAsArrayBuffer</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">file</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">}</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">position: relative;height: 100vh;</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  {#</span><span style="color: #C792EA; font-style: italic">if</span><span style="color: #D6DEEB"> url}</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">height: 100vh</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">      </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">{</span><span style="color: #D6DEEB">url</span><span style="color: #C5E478; font-style: italic">}</span><span style="color: #7FDBCA"> /&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  {/</span><span style="color: #C792EA; font-style: italic">if</span><span style="color: #D6DEEB">}</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">input</span></span>
<span class="line"><span style="color: #7FDBCA">    </span><span style="color: #C5E478; font-style: italic">type</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">file</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">    </span><span style="color: #C5E478; font-style: italic">multiple</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #FF5874">false</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">    </span><span style="color: #C5E478; font-style: italic">accept</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #F78C6C">.epub</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">    </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:change=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">onchange</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">    </span><span style="color: #C5E478; font-style: italic">class</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">input</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">  /&gt;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">input</span><span style="color: #D6DEEB"> {</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">position</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">absolute</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">bottom</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">right</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">left</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">z-index</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  }</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span></code>`,u,f,h="svelte",g,m,d,v,A='<div class="svp-code-block--line-number-item">1</div> <div class="svp-code-block--line-number-item">2</div> <div class="svp-code-block--line-number-item">3</div> <div class="svp-code-block--line-number-item">4</div> <div class="svp-code-block--line-number-item">5</div> <div class="svp-code-block--line-number-item">6</div> <div class="svp-code-block--line-number-item">7</div> <div class="svp-code-block--line-number-item">8</div> <div class="svp-code-block--line-number-item">9</div> <div class="svp-code-block--line-number-item">10</div> <div class="svp-code-block--line-number-item">11</div> <div class="svp-code-block--line-number-item">12</div> <div class="svp-code-block--line-number-item">13</div> <div class="svp-code-block--line-number-item">14</div> <div class="svp-code-block--line-number-item">15</div> <div class="svp-code-block--line-number-item">16</div> <div class="svp-code-block--line-number-item">17</div> <div class="svp-code-block--line-number-item">18</div> <div class="svp-code-block--line-number-item">19</div> <div class="svp-code-block--line-number-item">20</div> <div class="svp-code-block--line-number-item">21</div> <div class="svp-code-block--line-number-item">22</div> <div class="svp-code-block--line-number-item">23</div> <div class="svp-code-block--line-number-item">24</div> <div class="svp-code-block--line-number-item">25</div> <div class="svp-code-block--line-number-item">26</div> <div class="svp-code-block--line-number-item">27</div> <div class="svp-code-block--line-number-item">28</div> <div class="svp-code-block--line-number-item">29</div> <div class="svp-code-block--line-number-item">30</div> <div class="svp-code-block--line-number-item">31</div> <div class="svp-code-block--line-number-item">32</div> <div class="svp-code-block--line-number-item">33</div> <div class="svp-code-block--line-number-item">34</div> <div class="svp-code-block--line-number-item">35</div> <div class="svp-code-block--line-number-item">36</div> <div class="svp-code-block--line-number-item">37</div> <div class="svp-code-block--line-number-item">38</div>',C;return m=new He({}),{c(){s=R("div"),e=R("div"),e.textContent=t,n=P(),a=R("div"),o=R("pre"),o.innerHTML=r,i=P(),p=R("pre"),p.innerHTML=c,u=P(),f=R("div"),f.textContent=h,g=P(),Bs(m.$$.fragment),d=P(),v=R("div"),v.innerHTML=A,this.h()},l(b){s=I(b,"DIV",{class:!0});var E=Y(s);e=I(E,"DIV",{class:!0,"data-svelte-h":!0}),ss(e)!=="svelte-u9yspy"&&(e.textContent=t),n=z(E),a=I(E,"DIV",{class:!0});var D=Y(a);o=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(o)!=="svelte-jfs3kl"&&(o.innerHTML=r),i=z(D),p=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(p)!=="svelte-ipex0o"&&(p.innerHTML=c),u=z(D),f=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(f)!=="svelte-xa0fuv"&&(f.textContent=h),g=z(D),ks(m.$$.fragment,D),d=z(D),v=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(v)!=="svelte-bqu3bd"&&(v.innerHTML=A),D.forEach(B),E.forEach(B),this.h()},h(){x(e,"class","svp-code-block--title"),x(o,"class","shiki vitesse-light"),Ts(o,"background-color","#ffffff"),x(o,"tabindex","0"),x(p,"class","shiki night-owl"),Ts(p,"background-color","#011627"),x(p,"tabindex","0"),x(f,"class","svp-code-block--lang"),x(v,"class","svp-code-block--line-numbers"),x(a,"class","svp-code-block svp-code-block--with-line-numbers"),x(s,"class","svp-code-block-wrapper")},m(b,E){q(b,s,E),F(s,e),F(s,n),F(s,a),F(a,o),F(a,i),F(a,p),F(a,u),F(a,f),F(a,g),_s(m,a,null),F(a,d),F(a,v),C=!0},p:Ns,i(b){C||(ps(m.$$.fragment,b),C=!0)},o(b){fs(m.$$.fragment,b),C=!1},d(b){b&&B(s),ws(m)}}}function n3(l){let s,e,t="current-progress",n,a,o,r=`<code><span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">base</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">$app/paths</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">current</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #2F798A">0</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">book</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">displayed</span><span style="color: #999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">getRendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">val</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">val</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">book</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #B07D48">book</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">displayed</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #59873A">display</span><span style="color: #999999">();</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">book</span><span style="color: #999999">.</span><span style="color: #B07D48">ready</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">.</span><span style="color: #59873A">then</span><span style="color: #999999">(()</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #1E754F">return</span><span style="color: #393A34"> </span><span style="color: #B07D48">book</span><span style="color: #999999">.</span><span style="color: #B07D48">locations</span><span style="color: #999999">.</span><span style="color: #59873A">generate</span><span style="color: #999999">(</span><span style="color: #2F798A">1600</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">})</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">.</span><span style="color: #59873A">then</span><span style="color: #999999">((</span><span style="color: #B07D48">locations</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #999999">        </span><span style="color: #A0ADA0">// Wait for book to be rendered to get current page</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #B07D48">displayed</span><span style="color: #999999">.</span><span style="color: #59873A">then</span><span style="color: #999999">(</span><span style="color: #AB5959">function</span><span style="color: #393A34"> </span><span style="color: #999999">()</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #999999">          </span><span style="color: #A0ADA0">// Get the current CFI</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #AB5959">var</span><span style="color: #393A34"> </span><span style="color: #B07D48">currentLocation</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #59873A">currentLocation</span><span style="color: #999999">();</span></span>
<span class="line"><span style="color: #999999">          </span><span style="color: #A0ADA0">// Get the Percentage (or location) from that CFI</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">currentPage</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">book</span><span style="color: #999999">.</span><span style="color: #B07D48">locations</span><span style="color: #999999">.</span><span style="color: #59873A">percentageFromCfi</span><span style="color: #999999">(</span></span>
<span class="line"><span style="color: #393A34">            </span><span style="color: #B07D48">currentLocation</span><span style="color: #999999">.</span><span style="color: #B07D48">start</span><span style="color: #999999">.</span><span style="color: #B07D48">cfi</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #B07D48">current</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">currentPage</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">});</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #59873A">on</span><span style="color: #999999">(</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">relocated</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">location</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">percent</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">book</span><span style="color: #999999">.</span><span style="color: #B07D48">locations</span><span style="color: #999999">.</span><span style="color: #59873A">percentageFromCfi</span><span style="color: #999999">(</span><span style="color: #B07D48">location</span><span style="color: #999999">.</span><span style="color: #B07D48">start</span><span style="color: #999999">.</span><span style="color: #B07D48">cfi</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">percentage</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">Math</span><span style="color: #999999">.</span><span style="color: #59873A">floor</span><span style="color: #999999">(</span><span style="color: #B07D48">percent</span><span style="color: #393A34"> </span><span style="color: #AB5959">*</span><span style="color: #393A34"> </span><span style="color: #2F798A">100</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #B07D48">current</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">percentage</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">});</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">});</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">change</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">e</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">value</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">e</span><span style="color: #999999">.</span><span style="color: #B07D48">target</span><span style="color: #999999">.</span><span style="color: #B07D48">value</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">current</span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">value</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #AB5959">var</span><span style="color: #393A34"> </span><span style="color: #B07D48">cfi</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">book</span><span style="color: #999999">.</span><span style="color: #B07D48">locations</span><span style="color: #999999">.</span><span style="color: #59873A">cfiFromPercentage</span><span style="color: #999999">(</span><span style="color: #B07D48">value</span><span style="color: #393A34"> </span><span style="color: #AB5959">/</span><span style="color: #393A34"> </span><span style="color: #2F798A">100</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #59873A">display</span><span style="color: #999999">(</span><span style="color: #B07D48">cfi</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">position: relative</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">height: 100vh</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">getRendition</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">getRendition</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">url</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">base</span><span style="color: #999999">}</span><span style="color: #B56959">/files/啼笑因缘.epub</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">class</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">progress</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">input</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">type</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">number</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">value</span><span style="color: #999999">={</span><span style="color: #B07D48">current</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">min</span><span style="color: #999999">={</span><span style="color: #2F798A">0</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">max</span><span style="color: #999999">={</span><span style="color: #2F798A">100</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">change</span><span style="color: #999999">={</span><span style="color: #B07D48">change</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">/&gt;</span><span style="color: #393A34">%</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">input</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">type</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">range</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">value</span><span style="color: #999999">={</span><span style="color: #B07D48">current</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">min</span><span style="color: #999999">={</span><span style="color: #2F798A">0</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">max</span><span style="color: #999999">={</span><span style="color: #2F798A">100</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">step</span><span style="color: #999999">={</span><span style="color: #2F798A">1</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">change</span><span style="color: #999999">={</span><span style="color: #B07D48">change</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">.</span><span style="color: #B07D48">progress</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">position</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">absolute</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">bottom</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">right</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">left</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">z-index</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">color</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #999999">#</span><span style="color: #A65E2B">000</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">display</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">flex</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">flex-wrap</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">wrap</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">justify-content</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">center</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">.</span><span style="color: #B07D48">progress</span><span style="color: #393A34"> </span><span style="color: #AB5959">&gt;</span><span style="color: #393A34"> </span><span style="color: #1E754F">input</span><span style="color: #999999">[</span><span style="color: #B07D48">type</span><span style="color: #AB5959">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">number</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">]</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">text-align</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">center</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">.</span><span style="color: #B07D48">progress</span><span style="color: #393A34"> </span><span style="color: #AB5959">&gt;</span><span style="color: #393A34"> </span><span style="color: #1E754F">input</span><span style="color: #999999">[</span><span style="color: #B07D48">type</span><span style="color: #AB5959">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">range</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">]</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">width</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">100</span><span style="color: #AB5959">%</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span></code>`,i,p,c=`<code><span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { base } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">$app/paths</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">current</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #F78C6C">0</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">rendition</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">book</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">displayed</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">getRendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">val</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">rendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">val</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">book</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">book</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">displayed</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">display</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">book</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">ready</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      .</span><span style="color: #82AAFF; font-style: italic">then</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">()</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        return </span><span style="color: #7FDBCA; font-style: italic">book</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">locations</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">generate</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1600</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      .</span><span style="color: #82AAFF; font-style: italic">then</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">locations</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA">        </span><span style="color: #637777">//</span><span style="color: #637777; font-style: italic"> Wait for book to be rendered to get current page</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #7FDBCA; font-style: italic">displayed</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">then</span><span style="color: #D6DEEB">(</span><span style="color: #C792EA">function</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">()</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA">          </span><span style="color: #637777">//</span><span style="color: #637777; font-style: italic"> Get the current CFI</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          </span><span style="color: #C792EA">var</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">currentLocation</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">currentLocation</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA">          </span><span style="color: #637777">//</span><span style="color: #637777; font-style: italic"> Get the Percentage (or location) from that CFI</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">currentPage</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">book</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">locations</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">percentageFromCfi</span><span style="color: #D6DEEB">(</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">            </span><span style="color: #7FDBCA; font-style: italic">currentLocation</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">start</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">cfi</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          </span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          </span><span style="color: #D7DBE0">current</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">currentPage</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">on</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">relocated</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">location</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">percent</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">book</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">locations</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">percentageFromCfi</span><span style="color: #D6DEEB">(</span><span style="color: #7FDBCA; font-style: italic">location</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">start</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">cfi</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">percentage</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">Math</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">floor</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">percent</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">*</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #F78C6C">100</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          </span><span style="color: #D7DBE0">current</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">percentage</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">change</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">e</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">value</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">e</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">target</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2; font-style: italic">value</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">current</span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">value</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">var</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">cfi</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">book</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">locations</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">cfiFromPercentage</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">value</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">/</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #F78C6C">100</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">display</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">cfi</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">position: relative</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">height: 100vh</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">getRendition</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">getRendition</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">url</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">base</span><span style="color: #D3423E">}</span><span style="color: #ECC48D">/files/啼笑因缘.epub</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">    /&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">class</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">progress</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">input</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">type</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">number</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">value</span><span style="color: #7FDBCA">=</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">current</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">min</span><span style="color: #7FDBCA">=</span><span style="color: #D3423E">{</span><span style="color: #F78C6C">0</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">max</span><span style="color: #7FDBCA">=</span><span style="color: #D3423E">{</span><span style="color: #F78C6C">100</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:change=</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">change</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #7FDBCA">    /&gt;</span><span style="color: #D6DEEB">%</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">input</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">type</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">range</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">value</span><span style="color: #7FDBCA">=</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">current</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">min</span><span style="color: #7FDBCA">=</span><span style="color: #D3423E">{</span><span style="color: #F78C6C">0</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">max</span><span style="color: #7FDBCA">=</span><span style="color: #D3423E">{</span><span style="color: #F78C6C">100</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">step</span><span style="color: #7FDBCA">=</span><span style="color: #D3423E">{</span><span style="color: #F78C6C">1</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:change=</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">change</span><span style="color: #D3423E">}</span></span>
<span class="line"><span style="color: #7FDBCA">    /&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">progress</span><span style="color: #D6DEEB"> {</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">position</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">absolute</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">bottom</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">right</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">left</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">z-index</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">color</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">#</span><span style="color: #FFEB95">000</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">display</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">flex</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">flex-wrap</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">wrap</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">justify-content</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">center</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">progress</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA">&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF6363">input</span><span style="color: #C792EA">[</span><span style="color: #C5E478; font-style: italic">type</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">number</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">]</span><span style="color: #D6DEEB"> {</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">text-align</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">center</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">progress</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA">&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF6363">input</span><span style="color: #C792EA">[</span><span style="color: #C5E478; font-style: italic">type</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">range</span><span style="color: #D9F5DD">&quot;</span><span style="color: #C792EA">]</span><span style="color: #D6DEEB"> {</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">width</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">100</span><span style="color: #FFEB95">%</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  }</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span></code>`,u,f,h="svelte",g,m,d,v,A='<div class="svp-code-block--line-number-item">1</div> <div class="svp-code-block--line-number-item">2</div> <div class="svp-code-block--line-number-item">3</div> <div class="svp-code-block--line-number-item">4</div> <div class="svp-code-block--line-number-item">5</div> <div class="svp-code-block--line-number-item">6</div> <div class="svp-code-block--line-number-item">7</div> <div class="svp-code-block--line-number-item">8</div> <div class="svp-code-block--line-number-item">9</div> <div class="svp-code-block--line-number-item">10</div> <div class="svp-code-block--line-number-item">11</div> <div class="svp-code-block--line-number-item">12</div> <div class="svp-code-block--line-number-item">13</div> <div class="svp-code-block--line-number-item">14</div> <div class="svp-code-block--line-number-item">15</div> <div class="svp-code-block--line-number-item">16</div> <div class="svp-code-block--line-number-item">17</div> <div class="svp-code-block--line-number-item">18</div> <div class="svp-code-block--line-number-item">19</div> <div class="svp-code-block--line-number-item">20</div> <div class="svp-code-block--line-number-item">21</div> <div class="svp-code-block--line-number-item">22</div> <div class="svp-code-block--line-number-item">23</div> <div class="svp-code-block--line-number-item">24</div> <div class="svp-code-block--line-number-item">25</div> <div class="svp-code-block--line-number-item">26</div> <div class="svp-code-block--line-number-item">27</div> <div class="svp-code-block--line-number-item">28</div> <div class="svp-code-block--line-number-item">29</div> <div class="svp-code-block--line-number-item">30</div> <div class="svp-code-block--line-number-item">31</div> <div class="svp-code-block--line-number-item">32</div> <div class="svp-code-block--line-number-item">33</div> <div class="svp-code-block--line-number-item">34</div> <div class="svp-code-block--line-number-item">35</div> <div class="svp-code-block--line-number-item">36</div> <div class="svp-code-block--line-number-item">37</div> <div class="svp-code-block--line-number-item">38</div> <div class="svp-code-block--line-number-item">39</div> <div class="svp-code-block--line-number-item">40</div> <div class="svp-code-block--line-number-item">41</div> <div class="svp-code-block--line-number-item">42</div> <div class="svp-code-block--line-number-item">43</div> <div class="svp-code-block--line-number-item">44</div> <div class="svp-code-block--line-number-item">45</div> <div class="svp-code-block--line-number-item">46</div> <div class="svp-code-block--line-number-item">47</div> <div class="svp-code-block--line-number-item">48</div> <div class="svp-code-block--line-number-item">49</div> <div class="svp-code-block--line-number-item">50</div> <div class="svp-code-block--line-number-item">51</div> <div class="svp-code-block--line-number-item">52</div> <div class="svp-code-block--line-number-item">53</div> <div class="svp-code-block--line-number-item">54</div> <div class="svp-code-block--line-number-item">55</div> <div class="svp-code-block--line-number-item">56</div> <div class="svp-code-block--line-number-item">57</div> <div class="svp-code-block--line-number-item">58</div> <div class="svp-code-block--line-number-item">59</div> <div class="svp-code-block--line-number-item">60</div> <div class="svp-code-block--line-number-item">61</div> <div class="svp-code-block--line-number-item">62</div> <div class="svp-code-block--line-number-item">63</div> <div class="svp-code-block--line-number-item">64</div> <div class="svp-code-block--line-number-item">65</div> <div class="svp-code-block--line-number-item">66</div> <div class="svp-code-block--line-number-item">67</div> <div class="svp-code-block--line-number-item">68</div> <div class="svp-code-block--line-number-item">69</div> <div class="svp-code-block--line-number-item">70</div> <div class="svp-code-block--line-number-item">71</div> <div class="svp-code-block--line-number-item">72</div> <div class="svp-code-block--line-number-item">73</div> <div class="svp-code-block--line-number-item">74</div> <div class="svp-code-block--line-number-item">75</div> <div class="svp-code-block--line-number-item">76</div> <div class="svp-code-block--line-number-item">77</div> <div class="svp-code-block--line-number-item">78</div> <div class="svp-code-block--line-number-item">79</div> <div class="svp-code-block--line-number-item">80</div> <div class="svp-code-block--line-number-item">81</div> <div class="svp-code-block--line-number-item">82</div> <div class="svp-code-block--line-number-item">83</div> <div class="svp-code-block--line-number-item">84</div> <div class="svp-code-block--line-number-item">85</div> <div class="svp-code-block--line-number-item">86</div> <div class="svp-code-block--line-number-item">87</div> <div class="svp-code-block--line-number-item">88</div> <div class="svp-code-block--line-number-item">89</div>',C;return m=new He({}),{c(){s=R("div"),e=R("div"),e.textContent=t,n=P(),a=R("div"),o=R("pre"),o.innerHTML=r,i=P(),p=R("pre"),p.innerHTML=c,u=P(),f=R("div"),f.textContent=h,g=P(),Bs(m.$$.fragment),d=P(),v=R("div"),v.innerHTML=A,this.h()},l(b){s=I(b,"DIV",{class:!0});var E=Y(s);e=I(E,"DIV",{class:!0,"data-svelte-h":!0}),ss(e)!=="svelte-ij8grv"&&(e.textContent=t),n=z(E),a=I(E,"DIV",{class:!0});var D=Y(a);o=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(o)!=="svelte-1yyijdv"&&(o.innerHTML=r),i=z(D),p=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(p)!=="svelte-17ydqqr"&&(p.innerHTML=c),u=z(D),f=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(f)!=="svelte-xa0fuv"&&(f.textContent=h),g=z(D),ks(m.$$.fragment,D),d=z(D),v=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(v)!=="svelte-1hcfflj"&&(v.innerHTML=A),D.forEach(B),E.forEach(B),this.h()},h(){x(e,"class","svp-code-block--title"),x(o,"class","shiki vitesse-light"),Ts(o,"background-color","#ffffff"),x(o,"tabindex","0"),x(p,"class","shiki night-owl"),Ts(p,"background-color","#011627"),x(p,"tabindex","0"),x(f,"class","svp-code-block--lang"),x(v,"class","svp-code-block--line-numbers"),x(a,"class","svp-code-block svp-code-block--with-line-numbers"),x(s,"class","svp-code-block-wrapper")},m(b,E){q(b,s,E),F(s,e),F(s,n),F(s,a),F(a,o),F(a,i),F(a,p),F(a,u),F(a,f),F(a,g),_s(m,a,null),F(a,d),F(a,v),C=!0},p:Ns,i(b){C||(ps(m.$$.fragment,b),C=!0)},o(b){fs(m.$$.fragment,b),C=!1},d(b){b&&B(s),ws(m)}}}function a3(l){let s,e,t="search-book",n,a,o,r=`<code><span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">base</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">$app/paths</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #AB5959">null</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">searchText</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">只在捻花一笑中</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">let</span><span style="color: #393A34"> </span><span style="color: #B07D48">searchResults</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">[];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">search</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #AB5959">async</span><span style="color: #393A34"> </span><span style="color: #999999">()</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #AB5959">!</span><span style="color: #B07D48">searchText</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #1E754F">return</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">searchResults</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">[]);</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">res</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #1E754F">await</span><span style="color: #393A34"> </span><span style="color: #59873A">doSearch</span><span style="color: #999999">(</span><span style="color: #B07D48">searchText</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">searchResults</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">res</span><span style="color: #999999">.</span><span style="color: #59873A">slice</span><span style="color: #999999">(</span><span style="color: #2F798A">0</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">5</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">doSearch</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">value</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">book</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">rendition</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">return</span><span style="color: #393A34"> </span><span style="color: #998418">Promise</span><span style="color: #999999">.</span><span style="color: #59873A">all</span><span style="color: #999999">(</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">book</span><span style="color: #999999">.</span><span style="color: #B07D48">spine</span><span style="color: #999999">.</span><span style="color: #B07D48">spineItems</span><span style="color: #999999">.</span><span style="color: #59873A">map</span><span style="color: #999999">((</span><span style="color: #B07D48">item</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #1E754F">return</span><span style="color: #393A34"> </span><span style="color: #B07D48">item</span><span style="color: #999999">.</span><span style="color: #59873A">load</span><span style="color: #999999">(</span><span style="color: #B07D48">book</span><span style="color: #999999">.</span><span style="color: #B07D48">load</span><span style="color: #999999">.</span><span style="color: #59873A">bind</span><span style="color: #999999">(</span><span style="color: #B07D48">book</span><span style="color: #999999">)).</span><span style="color: #59873A">then</span><span style="color: #999999">((</span><span style="color: #B07D48">doc</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #B07D48">res</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B07D48">item</span><span style="color: #999999">.</span><span style="color: #59873A">find</span><span style="color: #999999">(</span><span style="color: #B07D48">value</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #B07D48">item</span><span style="color: #999999">.</span><span style="color: #59873A">unload</span><span style="color: #999999">();</span></span>
<span class="line"><span style="color: #393A34">          </span><span style="color: #1E754F">return</span><span style="color: #393A34"> </span><span style="color: #998418">Promise</span><span style="color: #999999">.</span><span style="color: #59873A">resolve</span><span style="color: #999999">(</span><span style="color: #B07D48">res</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">});</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">})</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">).</span><span style="color: #59873A">then</span><span style="color: #999999">((</span><span style="color: #B07D48">res</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #998418">Promise</span><span style="color: #999999">.</span><span style="color: #59873A">resolve</span><span style="color: #999999">([].</span><span style="color: #B07D48">concat</span><span style="color: #999999">.</span><span style="color: #59873A">apply</span><span style="color: #999999">([],</span><span style="color: #393A34"> </span><span style="color: #B07D48">res</span><span style="color: #999999">)));</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #AB5959">const</span><span style="color: #393A34"> </span><span style="color: #59873A">go</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B07D48">href</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">e</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">rendition</span><span style="color: #999999">.</span><span style="color: #59873A">display</span><span style="color: #999999">(</span><span style="color: #B07D48">href</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">e</span><span style="color: #999999">.</span><span style="color: #59873A">stopPropagation</span><span style="color: #999999">();</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">e</span><span style="color: #999999">.</span><span style="color: #59873A">preventDefault</span><span style="color: #999999">();</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">};</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">position: relative</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">height: 100vh</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">url</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">base</span><span style="color: #999999">}</span><span style="color: #B56959">/files/啼笑因缘.epub</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">getRendition</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #999999">(</span><span style="color: #B56959">val</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B56959">rendition</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B56959">val</span><span style="color: #999999">)</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">class</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">search</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">input</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">value</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">searchText</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">input</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #999999">(</span><span style="color: #B56959">e</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #999999">(</span><span style="color: #B56959">searchText</span><span style="color: #393A34"> </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #B56959">e</span><span style="color: #999999">.</span><span style="color: #B56959">target</span><span style="color: #999999">.</span><span style="color: #B56959">value</span><span style="color: #999999">)</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">type</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">text</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #B07D48">placeholder</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">search</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">keyup</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #999999">(</span><span style="color: #B56959">e</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #B56959">e</span><span style="color: #999999">.</span><span style="color: #B56959">key</span><span style="color: #393A34"> </span><span style="color: #AB5959">===</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">Enter</span><span style="color: #B56959AA">&quot;</span><span style="color: #393A34"> </span><span style="color: #AB5959">&amp;&amp;</span><span style="color: #393A34"> </span><span style="color: #59873A">search</span><span style="color: #999999">()</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">class</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">searchResults</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">{#</span><span style="color: #1E754F">each</span><span style="color: #393A34"> </span><span style="color: #B07D48">searchResults</span><span style="color: #393A34"> </span><span style="color: #1E754F">as</span><span style="color: #393A34"> </span><span style="color: #B07D48">item</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">index</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">class</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">item</span><span style="color: #B56959AA">&quot;</span><span style="color: #393A34"> </span><span style="color: #1E754F">on</span><span style="color: #999999">:</span><span style="color: #2E808F">click</span><span style="color: #999999">={(</span><span style="color: #B07D48">e</span><span style="color: #999999">)</span><span style="color: #393A34"> </span><span style="color: #999999">=&gt;</span><span style="color: #393A34"> </span><span style="color: #59873A">go</span><span style="color: #999999">(</span><span style="color: #B07D48">item</span><span style="color: #999999">.</span><span style="color: #B07D48">cfi</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B07D48">e</span><span style="color: #999999">)}&gt;</span></span>
<span class="line"><span style="color: #393A34">            </span><span style="color: #999999">{@</span><span style="color: #1E754F">html</span><span style="color: #393A34"> </span><span style="color: #B07D48">item</span><span style="color: #999999">.</span><span style="color: #B07D48">excerpt</span><span style="color: #999999">.</span><span style="color: #59873A">trim</span><span style="color: #999999">().</span><span style="color: #59873A">replace</span><span style="color: #999999">(</span><span style="color: #B07D48">searchText</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #B56959AA">\`</span><span style="color: #B56959">&lt;span style=&quot;color: orange&quot;&gt;</span><span style="color: #999999">\${</span><span style="color: #B56959">searchText</span><span style="color: #999999">}</span><span style="color: #B56959">&lt;/span&gt;</span><span style="color: #B56959AA">\`</span><span style="color: #999999">)}</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">{/</span><span style="color: #1E754F">each</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">{#</span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #AB5959">!</span><span style="color: #B07D48">searchResults</span><span style="color: #999999">.</span><span style="color: #998418">length</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">        </span><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span><span style="color: #393A34">Empty</span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">      </span><span style="color: #999999">{/</span><span style="color: #1E754F">if</span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">.</span><span style="color: #B07D48">search</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">position</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">absolute</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">bottom</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">right</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">left</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">rem</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">text-align</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">center</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">z-index</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">color</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #999999">#</span><span style="color: #A65E2B">000</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">background</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #999999">#</span><span style="color: #A65E2B">fff</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">display</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">flex</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">align-items</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">center</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">justify-content</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">center</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">.</span><span style="color: #B07D48">search</span><span style="color: #393A34"> </span><span style="color: #999999">.</span><span style="color: #B07D48">searchResults</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">width</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">200</span><span style="color: #AB5959">px</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">.</span><span style="color: #B07D48">search</span><span style="color: #393A34"> </span><span style="color: #999999">.</span><span style="color: #B07D48">searchResults</span><span style="color: #393A34"> </span><span style="color: #999999">.</span><span style="color: #B07D48">item</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">cursor</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">pointer</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">border-radius</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">4</span><span style="color: #AB5959">px</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">overflow</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">hidden</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">white-space</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">nowrap</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">text-overflow</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #A65E2B">ellipsis</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">border-bottom</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #AB5959">px</span><span style="color: #393A34"> </span><span style="color: #A65E2B">solid</span><span style="color: #393A34"> </span><span style="color: #999999">#</span><span style="color: #A65E2B">000</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">.</span><span style="color: #B07D48">search</span><span style="color: #393A34"> </span><span style="color: #999999">.</span><span style="color: #B07D48">searchResults</span><span style="color: #393A34"> </span><span style="color: #999999">.</span><span style="color: #B07D48">item</span><span style="color: #999999">:</span><span style="color: #B07D48">hover</span><span style="color: #393A34"> </span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #998418">background</span><span style="color: #999999">:</span><span style="color: #393A34"> </span><span style="color: #998418">rgba</span><span style="color: #999999">(</span><span style="color: #2F798A">0</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">0</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">0</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">0.05</span><span style="color: #999999">);</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">}</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">style</span><span style="color: #999999">&gt;</span></span></code>`,i,p,c=`<code><span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { base } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">$app/paths</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">rendition</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #FF5874; font-style: italic">null</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">searchText</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">只在捻花一笑中</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">let</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">searchResults</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB; font-style: italic"> </span><span style="color: #D6DEEB">[];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">search</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> async </span><span style="color: #D9F5DD">()</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">if</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D6DEEB">(</span><span style="color: #C792EA">!</span><span style="color: #D7DBE0">searchText</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic"> return </span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">searchResults</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB; font-style: italic"> </span><span style="color: #D6DEEB">[])</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">res</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> await </span><span style="color: #82AAFF; font-style: italic">doSearch</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">searchText</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D7DBE0">searchResults</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">res</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">slice</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">0</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #F78C6C">5</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">doSearch</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">value</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">book</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">}</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">rendition</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    return </span><span style="color: #C5E478; font-style: italic">Promise</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">all</span><span style="color: #D6DEEB">(</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #7FDBCA; font-style: italic">book</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">spine</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">spineItems</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">map</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">item</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        return </span><span style="color: #7FDBCA; font-style: italic">item</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">load</span><span style="color: #D6DEEB">(</span><span style="color: #7FDBCA; font-style: italic">book</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">load</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">bind</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">book</span><span style="color: #D6DEEB">))</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">then</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">doc</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">res</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #7FDBCA; font-style: italic">item</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">find</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">value</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          </span><span style="color: #7FDBCA; font-style: italic">item</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">unload</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">          return </span><span style="color: #C5E478; font-style: italic">Promise</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">resolve</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">res</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">        </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">      </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #D6DEEB">)</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">then</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">res</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C5E478; font-style: italic">Promise</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">resolve</span><span style="color: #D6DEEB">([]</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">concat</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">apply</span><span style="color: #D6DEEB">([]</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0">res</span><span style="color: #D6DEEB">)))</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA">const</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #82AAFF; font-style: italic">go</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0; font-style: italic">href</span><span style="color: #C792EA">,</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #D7DBE0; font-style: italic">e</span><span style="color: #D9F5DD">)</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C792EA">{</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">rendition</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">display</span><span style="color: #D6DEEB">(</span><span style="color: #D7DBE0">href</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">e</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">stopPropagation</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">    </span><span style="color: #7FDBCA; font-style: italic">e</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">preventDefault</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA">;</span></span>
<span class="line"><span style="color: #C792EA; font-style: italic">  </span><span style="color: #C792EA">}</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">position: relative</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">height: 100vh</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">url</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">base</span><span style="color: #D3423E">}</span><span style="color: #ECC48D">/files/啼笑因缘.epub</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">getRendition</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0">val</span><span style="color: #D9F5DD">)</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #ECC48D"> </span><span style="color: #D6DEEB">(rendition</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">=</span><span style="color: #ECC48D"> </span><span style="color: #D6DEEB">val)</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">    /&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">class</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">search</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">input</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">value</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">searchText</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:input=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0">e</span><span style="color: #D9F5DD">)</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #ECC48D"> </span><span style="color: #D6DEEB">(searchText</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">=</span><span style="color: #ECC48D"> </span><span style="color: #D6DEEB">e</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">target</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2">value</span><span style="color: #D6DEEB">)</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">type</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">text</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C5E478; font-style: italic">placeholder</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">search</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">      </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:keyup=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0">e</span><span style="color: #D9F5DD">)</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #ECC48D"> </span><span style="color: #D6DEEB">e</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2">key</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">===</span><span style="color: #ECC48D"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">Enter</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D"> </span><span style="color: #C792EA">&amp;&amp;</span><span style="color: #ECC48D"> </span><span style="color: #82AAFF; font-style: italic">search</span><span style="color: #D6DEEB">()</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">    /&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">class</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">searchResults</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">      {#</span><span style="color: #C792EA; font-style: italic">each</span><span style="color: #D6DEEB"> searchResults </span><span style="color: #C792EA; font-style: italic">as</span><span style="color: #D6DEEB"> item, index}</span></span>
<span class="line"><span style="color: #D6DEEB">        </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">class</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">item</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA"> </span><span style="color: #C792EA; font-style: italic">on</span><span style="color: #7FDBCA">:click=</span><span style="color: #D3423E">{</span><span style="color: #D9F5DD">(</span><span style="color: #D7DBE0">e</span><span style="color: #D9F5DD">)</span><span style="color: #7FDBCA"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #7FDBCA"> </span><span style="color: #82AAFF; font-style: italic">go</span><span style="color: #D6DEEB">(item</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #BAEBE2">cfi</span><span style="color: #7FDBCA">, </span><span style="color: #D6DEEB">e)</span><span style="color: #D3423E">}</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">            {@</span><span style="color: #C792EA">html</span><span style="color: #D6DEEB"> item</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #FAF39F; font-style: italic">excerpt</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">trim</span><span style="color: #D6DEEB">()</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #82AAFF; font-style: italic">replace</span><span style="color: #D6DEEB">(searchText, </span><span style="color: #D6DEEB">\`</span><span style="color: #ECC48D">&lt;span style=&quot;color: orange&quot;&gt;</span><span style="color: #D3423E">\${</span><span style="color: #D6DEEB">searchText</span><span style="color: #D3423E">}</span><span style="color: #ECC48D">&lt;/span&gt;</span><span style="color: #D6DEEB">\`</span><span style="color: #D6DEEB">)}</span></span>
<span class="line"><span style="color: #D6DEEB">        </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">      {/</span><span style="color: #C792EA; font-style: italic">each</span><span style="color: #D6DEEB">}</span></span>
<span class="line"><span style="color: #D6DEEB">      {#</span><span style="color: #C792EA; font-style: italic">if</span><span style="color: #D6DEEB"> </span><span style="color: #C792EA">!</span><span style="color: #D6DEEB">searchResults</span><span style="color: #C792EA; font-style: italic">.</span><span style="color: #7FDBCA">length</span><span style="color: #D6DEEB">}</span></span>
<span class="line"><span style="color: #D6DEEB">        </span><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span><span style="color: #D6DEEB">Empty</span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">      {/</span><span style="color: #C792EA; font-style: italic">if</span><span style="color: #D6DEEB">}</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">search</span><span style="color: #D6DEEB"> {</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">position</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">absolute</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">bottom</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">right</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">left</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">rem</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">text-align</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">center</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">z-index</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">color</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">#</span><span style="color: #FFEB95">000</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">background</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">#</span><span style="color: #FFEB95">fff</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">display</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">flex</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">align-items</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">center</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">justify-content</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">center</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">search</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">searchResults</span><span style="color: #D6DEEB"> {</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">width</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">200</span><span style="color: #FFEB95">px</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">search</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">searchResults</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">item</span><span style="color: #D6DEEB"> {</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">cursor</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">pointer</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">border-radius</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">4</span><span style="color: #FFEB95">px</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">overflow</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">hidden</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">white-space</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">nowrap</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">text-overflow</span><span style="color: #D6DEEB">: </span><span style="color: #FF6363">ellipsis</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">border-bottom</span><span style="color: #D6DEEB">: </span><span style="color: #F78C6C">1</span><span style="color: #FFEB95">px</span><span style="color: #D6DEEB"> </span><span style="color: #FF6363">solid</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">#</span><span style="color: #FFEB95">000</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">search</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">searchResults</span><span style="color: #C792EA; font-style: italic"> </span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">item</span><span style="color: #C5E478">:</span><span style="color: #C5E478; font-style: italic">hover</span><span style="color: #D6DEEB"> {</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #80CBC4">background</span><span style="color: #D6DEEB">: </span><span style="color: #C5E478">rgba</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">0</span><span style="color: #D6DEEB">, </span><span style="color: #F78C6C">0</span><span style="color: #D6DEEB">, </span><span style="color: #F78C6C">0</span><span style="color: #D6DEEB">, </span><span style="color: #F78C6C">0.05</span><span style="color: #D6DEEB">);</span></span>
<span class="line"><span style="color: #D6DEEB">  }</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">style</span><span style="color: #7FDBCA">&gt;</span></span></code>`,u,f,h="svelte",g,m,d,v,A='<div class="svp-code-block--line-number-item">1</div> <div class="svp-code-block--line-number-item">2</div> <div class="svp-code-block--line-number-item">3</div> <div class="svp-code-block--line-number-item">4</div> <div class="svp-code-block--line-number-item">5</div> <div class="svp-code-block--line-number-item">6</div> <div class="svp-code-block--line-number-item">7</div> <div class="svp-code-block--line-number-item">8</div> <div class="svp-code-block--line-number-item">9</div> <div class="svp-code-block--line-number-item">10</div> <div class="svp-code-block--line-number-item">11</div> <div class="svp-code-block--line-number-item">12</div> <div class="svp-code-block--line-number-item">13</div> <div class="svp-code-block--line-number-item">14</div> <div class="svp-code-block--line-number-item">15</div> <div class="svp-code-block--line-number-item">16</div> <div class="svp-code-block--line-number-item">17</div> <div class="svp-code-block--line-number-item">18</div> <div class="svp-code-block--line-number-item">19</div> <div class="svp-code-block--line-number-item">20</div> <div class="svp-code-block--line-number-item">21</div> <div class="svp-code-block--line-number-item">22</div> <div class="svp-code-block--line-number-item">23</div> <div class="svp-code-block--line-number-item">24</div> <div class="svp-code-block--line-number-item">25</div> <div class="svp-code-block--line-number-item">26</div> <div class="svp-code-block--line-number-item">27</div> <div class="svp-code-block--line-number-item">28</div> <div class="svp-code-block--line-number-item">29</div> <div class="svp-code-block--line-number-item">30</div> <div class="svp-code-block--line-number-item">31</div> <div class="svp-code-block--line-number-item">32</div> <div class="svp-code-block--line-number-item">33</div> <div class="svp-code-block--line-number-item">34</div> <div class="svp-code-block--line-number-item">35</div> <div class="svp-code-block--line-number-item">36</div> <div class="svp-code-block--line-number-item">37</div> <div class="svp-code-block--line-number-item">38</div> <div class="svp-code-block--line-number-item">39</div> <div class="svp-code-block--line-number-item">40</div> <div class="svp-code-block--line-number-item">41</div> <div class="svp-code-block--line-number-item">42</div> <div class="svp-code-block--line-number-item">43</div> <div class="svp-code-block--line-number-item">44</div> <div class="svp-code-block--line-number-item">45</div> <div class="svp-code-block--line-number-item">46</div> <div class="svp-code-block--line-number-item">47</div> <div class="svp-code-block--line-number-item">48</div> <div class="svp-code-block--line-number-item">49</div> <div class="svp-code-block--line-number-item">50</div> <div class="svp-code-block--line-number-item">51</div> <div class="svp-code-block--line-number-item">52</div> <div class="svp-code-block--line-number-item">53</div> <div class="svp-code-block--line-number-item">54</div> <div class="svp-code-block--line-number-item">55</div> <div class="svp-code-block--line-number-item">56</div> <div class="svp-code-block--line-number-item">57</div> <div class="svp-code-block--line-number-item">58</div> <div class="svp-code-block--line-number-item">59</div> <div class="svp-code-block--line-number-item">60</div> <div class="svp-code-block--line-number-item">61</div> <div class="svp-code-block--line-number-item">62</div> <div class="svp-code-block--line-number-item">63</div> <div class="svp-code-block--line-number-item">64</div> <div class="svp-code-block--line-number-item">65</div> <div class="svp-code-block--line-number-item">66</div> <div class="svp-code-block--line-number-item">67</div> <div class="svp-code-block--line-number-item">68</div> <div class="svp-code-block--line-number-item">69</div> <div class="svp-code-block--line-number-item">70</div> <div class="svp-code-block--line-number-item">71</div> <div class="svp-code-block--line-number-item">72</div> <div class="svp-code-block--line-number-item">73</div> <div class="svp-code-block--line-number-item">74</div> <div class="svp-code-block--line-number-item">75</div> <div class="svp-code-block--line-number-item">76</div> <div class="svp-code-block--line-number-item">77</div> <div class="svp-code-block--line-number-item">78</div> <div class="svp-code-block--line-number-item">79</div> <div class="svp-code-block--line-number-item">80</div> <div class="svp-code-block--line-number-item">81</div> <div class="svp-code-block--line-number-item">82</div> <div class="svp-code-block--line-number-item">83</div> <div class="svp-code-block--line-number-item">84</div> <div class="svp-code-block--line-number-item">85</div> <div class="svp-code-block--line-number-item">86</div> <div class="svp-code-block--line-number-item">87</div> <div class="svp-code-block--line-number-item">88</div> <div class="svp-code-block--line-number-item">89</div> <div class="svp-code-block--line-number-item">90</div> <div class="svp-code-block--line-number-item">91</div> <div class="svp-code-block--line-number-item">92</div> <div class="svp-code-block--line-number-item">93</div> <div class="svp-code-block--line-number-item">94</div>',C;return m=new He({}),{c(){s=R("div"),e=R("div"),e.textContent=t,n=P(),a=R("div"),o=R("pre"),o.innerHTML=r,i=P(),p=R("pre"),p.innerHTML=c,u=P(),f=R("div"),f.textContent=h,g=P(),Bs(m.$$.fragment),d=P(),v=R("div"),v.innerHTML=A,this.h()},l(b){s=I(b,"DIV",{class:!0});var E=Y(s);e=I(E,"DIV",{class:!0,"data-svelte-h":!0}),ss(e)!=="svelte-16kgxmi"&&(e.textContent=t),n=z(E),a=I(E,"DIV",{class:!0});var D=Y(a);o=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(o)!=="svelte-1ugh9xe"&&(o.innerHTML=r),i=z(D),p=I(D,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(p)!=="svelte-1g4rxyg"&&(p.innerHTML=c),u=z(D),f=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(f)!=="svelte-xa0fuv"&&(f.textContent=h),g=z(D),ks(m.$$.fragment,D),d=z(D),v=I(D,"DIV",{class:!0,"data-svelte-h":!0}),ss(v)!=="svelte-y0vhc1"&&(v.innerHTML=A),D.forEach(B),E.forEach(B),this.h()},h(){x(e,"class","svp-code-block--title"),x(o,"class","shiki vitesse-light"),Ts(o,"background-color","#ffffff"),x(o,"tabindex","0"),x(p,"class","shiki night-owl"),Ts(p,"background-color","#011627"),x(p,"tabindex","0"),x(f,"class","svp-code-block--lang"),x(v,"class","svp-code-block--line-numbers"),x(a,"class","svp-code-block svp-code-block--with-line-numbers"),x(s,"class","svp-code-block-wrapper")},m(b,E){q(b,s,E),F(s,e),F(s,n),F(s,a),F(a,o),F(a,i),F(a,p),F(a,u),F(a,f),F(a,g),_s(m,a,null),F(a,d),F(a,v),C=!0},p:Ns,i(b){C||(ps(m.$$.fragment,b),C=!0)},o(b){fs(m.$$.fragment,b),C=!1},d(b){b&&B(s),ws(m)}}}function l3(l){let s,e,t,n='<a href="#Svelte-Reader---an-easy-way-to-embed-a-ePub-into-your-webapp" class="svp-title-anchor" aria-label="Svelte Reader - an easy way to embed a ePub into your webapp"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Svelte Reader - an easy way to embed a ePub into your webapp',a,o,r="An svelte-reader for svelte powered by EpubJS",i,p,c,u,f='<a href="#Basic-usage" class="svp-title-anchor" aria-label="Basic usage"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Basic usage',h,g,m,d,v="And in your svelte-component...",A,C,b,E,D,N,O,U,H,X,es='<a href="#SvelteReader-Attributes" class="svp-title-anchor" aria-label="SvelteReader Attributes"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>SvelteReader Attributes',us,ls,hs="<thead><tr><th><strong>Name</strong></th> <th><strong>Description</strong></th> <th><strong>Type</strong></th> <th><strong>Default</strong></th></tr></thead> <tbody><tr><td>url</td> <td>book url or arrayBuffer</td> <td><code>string</code>/<code>ArrayBuffer</code></td> <td>—</td></tr> <tr><td>title</td> <td>the title of the book</td> <td><code>string</code></td> <td>—</td></tr> <tr><td>showToc</td> <td>whether to show the toc</td> <td><code>boolean</code></td> <td>true</td></tr></tbody>",gs,vs,Es,Ls,Ws='<a href="#SvelteReader-Slots" class="svp-title-anchor" aria-label="SvelteReader Slots"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>SvelteReader Slots',Hs,bs,Ps,Rs="<tr><th><strong>Name</strong></th> <th><strong>Description</strong></th></tr>",Is,ae,Zs,Os,ve="title",le,zs,Qs,Ms,ge,re,Re,Vs,Be='<a href="#SvelteReader-props-passed-to-inner-EpubView" class="svp-title-anchor" aria-label="SvelteReader props passed to inner EpubView"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>SvelteReader props passed to inner EpubView',Ve,De,_e,Xs,$s='<a href="#EpubView-Attributes" class="svp-title-anchor" aria-label="EpubView Attributes"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>EpubView Attributes',xe,Ne,Oe,qe="<tr><th><strong>Name</strong></th> <th><strong>Description</strong></th> <th><strong>Type</strong></th> <th><strong>Default</strong></th></tr>",et,se,Fe,at="<td>url</td> <td>the path or arrayBuffer of the book</td> <td><code>string</code>/<code>ArrayBuffer</code></td> <td>—</td>",We,Ee,ze="<td>location</td> <td>set / update location of the epub</td> <td><code>string</code>/<code>number</code></td> <td>—</td>",lt,S,as="<td>tocChanged</td> <td>when the reader has parsed the book you will receive an array of the chapters</td> <td><code>function(toc)</code></td> <td>—</td>",is,Ds,V="<td>handleKeyPress</td> <td>when press the key</td> <td><code>function(event)</code></td> <td></td>",ts,w,os="<td>handleTextSelected</td> <td>when select text</td> <td><code>function(cfiRange,contents)</code></td> <td></td>",Ss,y,J,Q="epubInitOptions",k,M,K,Fs,As,ms,Us="<code>object</code>",Ze,ee,js="—",Ae,oe,Ce,Tt="epubOptions",gt,ie,$e,ue,Ge,Ie,xn="<code>object</code>",dl,St,an="—",Sa,tt,Ol="<td>getRendition</td> <td>when epubjs has rendered the epub-file you can get access to the epubjs-rendition object here</td> <td><code>function(rendition)</code></td> <td>—</td>",Rt,dt,Ra,It,Ia='<a href="#EpubView-Events" class="svp-title-anchor" aria-label="EpubView Events"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>EpubView Events',La,Lt,T="<thead><tr><th><strong>Name</strong></th> <th><strong>Description</strong></th> <th><strong>Parameters</strong></th></tr></thead> <tbody><tr><td>update<div></div></td> <td>a function that receives the current location while user is reading. This function is called everytime the page changes, and also when it first renders.</td> <td>the updated location</td></tr></tbody>",$,L,W,G,j='<a href="#EpubView--Slots" class="svp-title-anchor" aria-label="EpubView  Slots"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>EpubView  Slots',ns,rs,ys="<thead><tr><th><strong>Name</strong></th> <th><strong>Description</strong></th></tr></thead> <tbody><tr><td>loadingView</td> <td>epub view loadingView</td></tr></tbody>",cs,ds,xs,qs,Js='<a href="#EpubView-Exposes" class="svp-title-anchor" aria-label="EpubView Exposes"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>EpubView Exposes',Ks,ce,me="<thead><tr><th><strong>Name</strong></th> <th><strong>Description</strong></th> <th><strong>Type</strong></th></tr></thead> <tbody><tr><td>nextPage</td> <td>display  next page</td> <td><code>function</code></td></tr> <tr><td>prevPage</td> <td>display  previous page</td> <td><code>function</code></td></tr> <tr><td>setLocation</td> <td>Set the page</td> <td><code>function(href)</code></td></tr></tbody>",Me,nt,ln,Nt,Na='<a href="#Recipes-and-tips" class="svp-title-anchor" aria-label="Recipes and tips"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Recipes and tips',fl,Ot,Oa,Ct,Bi='<a href="#Save-and-retrieve-progress-from-storage" class="svp-title-anchor" aria-label="Save and retrieve progress from storage"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Save and retrieve progress from storage',ql,Tn,_i="Saving the current page on storage is pretty simple, but we need to keep in mind that <code>locationChanged</code> also gets called on the very first render of our app.",$l,qt,qa,Sn,vr,on,Pl,Rn,zl,In,wi='<a href="#Display-page-number-for-current-chapter" class="svp-title-anchor" aria-label="Display page number for current chapter"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Display page number for current chapter',Ml,Ln,Fi="We store the epubjs rendition in a ref, and get the page numbers in the callback when location is changed. Note that in this example we also find them name of the current chapter from the toc. Also see limitation for pagination for the whole book.",Ul,$t,$a,Nn,Er,rn,Hl,On,Vl,qn,ki='<a href="#Change-font-size" class="svp-title-anchor" aria-label="Change font-size"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Change font-size',jl,$n,xi="Hooking into epubJS rendition object is the key for this also.",Wl,Pt,Pa,Pn,Ar,pn,Zl,zn,Gl,Mn,Ti='<a href="#Add---adjust-custom-css-for-the-epub-html" class="svp-title-anchor" aria-label="Add / adjust custom css for the epub-html"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Add / adjust custom css for the epub-html',Yl,Un,Si=`EpubJS render the epub-file inside a iframe so you will need to create a custom theme and apply it.<br/>
This is useful for when you want to set custom font families, custom background and text colors, and everything CSS related.`,Xl,zt,za,Hn,Dr,cn,Kl,Vn,Jl,jn,Ri='<a href="#Hightlight-selection-in-epub" class="svp-title-anchor" aria-label="Hightlight selection in epub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Hightlight selection in epub',Ql,Wn,Ii="This shows how to hook into epubJS annotations object and let the user highlight selection and store this in a list where user can go to a selection or delete it.",so,Mt,Ma,Zn,mr,un,eo,Gn,to,Yn,Li='<a href="#Handling-missing-mime-types-on-server" class="svp-title-anchor" aria-label="Handling missing mime-types on server"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Handling missing mime-types on server',no,Xn,Ni="EpubJS will try to parse the epub-file you pass to it, but if the server send wrong mine-types or the file does not contain <code>.epub</code> you can use the epubInitOptions prop to force reading it right.",ao,Kn,ot,Ut,Oi=`<code><span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">height: 100vh</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #B07D48">url</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">/my-epub-service</span><span style="color: #B56959AA">&quot;</span><span style="color: #393A34"> </span><span style="color: #B07D48">epubInitOptions</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #999999">{ </span><span style="color: #998418">openAs</span><span style="color: #999999">: </span><span style="color: #B56959AA">&#39;</span><span style="color: #B56959">epub</span><span style="color: #B56959AA">&#39;</span><span style="color: #999999"> }</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span><span style="color: #393A34"> </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span></code>`,gr,Ht,qi=`<code><span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">height: 100vh</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">url</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">/my-epub-service</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">epubInitOptions</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #ECC48D">{ openAs: </span><span style="color: #D9F5DD">&#39;</span><span style="color: #ECC48D">epub</span><span style="color: #D9F5DD">&#39;</span><span style="color: #ECC48D"> }</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA"> /&gt;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span></code>`,Cr,Jn,$i="svelte",br,Qn,lo,sa,oo,ea,Pi='<a href="#Display-a-scrolled-epub-view" class="svp-title-anchor" aria-label="Display a scrolled epub-view"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Display a scrolled epub-view',ro,ta,zi="Pass options for this into epubJS in the prop <code>epubOptions</code>",io,Vt,Ua,na,Br,yn,po,aa,co,la,Mi='<a href="#Enable-opening-links---running-scripts-inside-epubjs-iframe" class="svp-title-anchor" aria-label="Enable opening links / running scripts inside epubjs iframe"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Enable opening links / running scripts inside epubjs iframe',uo,oa,Ui="Epubjs is rendering the epub-content inside and iframe which defaults to <code>sandbox=&quot;allow-same-origin&quot;</code>, to enable opening links or running javascript in an epub, you will need to pass some extra params in the <code>epubOptions</code> prop.",yo,ra,rt,jt,Hi=`<code><span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">SvelteReader</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">svelte-reader</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #1E754F">import</span><span style="color: #393A34"> </span><span style="color: #999999">{</span><span style="color: #393A34"> </span><span style="color: #B07D48">base</span><span style="color: #393A34"> </span><span style="color: #999999">}</span><span style="color: #393A34"> </span><span style="color: #1E754F">from</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">$app/paths</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">script</span><span style="color: #999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #999999">&lt;</span><span style="color: #1E754F">div</span><span style="color: #393A34"> </span><span style="color: #B07D48">style</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">height: 100vh</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">&gt;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">&lt;</span><span style="color: #998418">SvelteReader</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">url</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #B56959">base</span><span style="color: #999999">}</span><span style="color: #B56959">/files/啼笑因缘.epub</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B07D48">epubOptions</span><span style="color: #999999">=</span><span style="color: #B56959AA">&quot;</span><span style="color: #999999">{</span><span style="color: #999999">{</span></span>
<span class="line"><span style="color: #999999">      </span><span style="color: #998418">allowPopups</span><span style="color: #999999">: </span><span style="color: #1E754F">true</span><span style="color: #999999">, </span><span style="color: #A0ADA0">// Adds \`allow-popups\` to sandbox-attribute</span></span>
<span class="line"><span style="color: #999999">      </span><span style="color: #998418">allowScriptedContent</span><span style="color: #999999">: </span><span style="color: #1E754F">true</span><span style="color: #999999">, </span><span style="color: #A0ADA0">// Adds \`allow-scripts\` to sandbox-attribute</span></span>
<span class="line"><span style="color: #999999">    }</span><span style="color: #999999">}</span><span style="color: #B56959AA">&quot;</span></span>
<span class="line"><span style="color: #393A34">  </span><span style="color: #999999">/&gt;</span></span>
<span class="line"><span style="color: #999999">&lt;/</span><span style="color: #1E754F">div</span><span style="color: #999999">&gt;</span></span></code>`,_r,Wt,Vi=`<code><span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { SvelteReader } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">svelte-reader</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> { base } </span><span style="color: #C792EA; font-style: italic">from</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">$app/paths</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB">;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">script</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7FDBCA">&lt;</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA"> </span><span style="color: #C5E478; font-style: italic">style</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">height: 100vh</span><span style="color: #D9F5DD">&quot;</span><span style="color: #7FDBCA">&gt;</span></span>
<span class="line"><span style="color: #D6DEEB">  </span><span style="color: #7FDBCA">&lt;</span><span style="color: #C5E478">SvelteReader</span></span>
<span class="line"><span style="color: #7FDBCA">    </span><span style="color: #C5E478; font-style: italic">url</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #D6DEEB">base</span><span style="color: #D3423E">}</span><span style="color: #ECC48D">/files/啼笑因缘.epub</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">    </span><span style="color: #C5E478; font-style: italic">epubOptions</span><span style="color: #7FDBCA">=</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D3423E">{</span><span style="color: #ECC48D">{</span></span>
<span class="line"><span style="color: #ECC48D">      allowPopups: </span><span style="color: #FF5874">true</span><span style="color: #ECC48D">, </span><span style="color: #637777">//</span><span style="color: #637777; font-style: italic"> Adds \`allow-popups\` to sandbox-attribute</span></span>
<span class="line"><span style="color: #ECC48D">      allowScriptedContent: </span><span style="color: #FF5874">true</span><span style="color: #ECC48D">, </span><span style="color: #637777">//</span><span style="color: #637777; font-style: italic"> Adds \`allow-scripts\` to sandbox-attribute</span></span>
<span class="line"><span style="color: #ECC48D">    }</span><span style="color: #D3423E">}</span><span style="color: #D9F5DD">&quot;</span></span>
<span class="line"><span style="color: #7FDBCA">  /&gt;</span></span>
<span class="line"><span style="color: #7FDBCA">&lt;/</span><span style="color: #CAECE6">div</span><span style="color: #7FDBCA">&gt;</span></span></code>`,wr,ia,ji="svelte",Fr,pa,fo,ca,ho,ua,Wi='<a href="#Speak-the-text" class="svp-title-anchor" aria-label="Speak the text"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Speak the text',vo,Zt,Ha,ya,kr,dn,Eo,da,Ao,fa,Zi='<a href="#Get-book-information" class="svp-title-anchor" aria-label="Get book information"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Get book information',Do,Gt,Va,ha,xr,fn,mo,va,go,Ea,Gi='<a href="#Import-file" class="svp-title-anchor" aria-label="Import file"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Import file',Co,Yt,ja,Aa,Tr,hn,bo,Da,Bo,ma,Yi='<a href="#Current-progress" class="svp-title-anchor" aria-label="Current progress"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Current progress',_o,Xt,Wa,ga,Sr,vn,wo,Ca,Fo,ba,Xi='<a href="#Search-in-the-book" class="svp-title-anchor" aria-label="Search in the book"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Search in the book',ko,Kt,Za,Ba,Rr,En,xo;return g=new Pu({props:{$$slots:{pnpm:[Wh],yarn:[jh],npm:[Vh]},$$scope:{ctx:l}}}),E=new uh({}),N=new it({props:{codeType:"svelte",title:"Click fold/expand code",reverse:!0,$$slots:{default:[Zh]},$$scope:{ctx:l}}}),Ms=new Ir({props:{to:"https://svelte.dev/docs/special-elements",label:"slot"}}),Fs=new Ir({props:{to:"http://epubjs.org/documentation/0.3/#epub",label:"epub.js"}}),ue=new Ir({props:{to:"http://epubjs.org/documentation/0.3/#rendition",label:"epub.js's book.renderTo function"}}),Sn=new fh({}),on=new it({props:{codeType:"svelte",title:"Click fold/expand code",reverse:!0,$$slots:{default:[Gh]},$$scope:{ctx:l}}}),Nn=new Eh({}),rn=new it({props:{codeType:"svelte",title:"Click fold/expand code",reverse:!0,$$slots:{default:[Yh]},$$scope:{ctx:l}}}),Pn=new mh({}),pn=new it({props:{codeType:"svelte",title:"Click fold/expand code",reverse:!0,$$slots:{default:[Xh]},$$scope:{ctx:l}}}),Hn=new bh({}),cn=new it({props:{codeType:"svelte",title:"Click fold/expand code",reverse:!0,$$slots:{default:[Kh]},$$scope:{ctx:l}}}),Zn=new wh({}),un=new it({props:{codeType:"svelte",title:"Click fold/expand code",reverse:!0,$$slots:{default:[Jh]},$$scope:{ctx:l}}}),Qn=new He({}),na=new kh({}),yn=new it({props:{codeType:"svelte",title:"Click fold/expand code",reverse:!0,$$slots:{default:[Qh]},$$scope:{ctx:l}}}),pa=new He({}),ya=new Sh({}),dn=new it({props:{codeType:"svelte",title:"Click fold/expand code",reverse:!0,$$slots:{default:[s3]},$$scope:{ctx:l}}}),ha=new Lh({}),fn=new it({props:{codeType:"svelte",title:"Click fold/expand code",reverse:!0,$$slots:{default:[e3]},$$scope:{ctx:l}}}),Aa=new qh({}),hn=new it({props:{codeType:"svelte",title:"Click fold/expand code",reverse:!0,$$slots:{default:[t3]},$$scope:{ctx:l}}}),ga=new zh({}),vn=new it({props:{codeType:"svelte",title:"Click fold/expand code",reverse:!0,$$slots:{default:[n3]},$$scope:{ctx:l}}}),Ba=new Hh({}),En=new it({props:{codeType:"svelte",title:"Click fold/expand code",reverse:!0,$$slots:{default:[a3]},$$scope:{ctx:l}}}),{c(){s=R("div"),e=P(),t=R("h1"),t.innerHTML=n,a=P(),o=R("p"),o.textContent=r,i=P(),p=R("div"),c=P(),u=R("h2"),u.innerHTML=f,h=P(),Bs(g.$$.fragment),m=P(),d=R("p"),d.textContent=v,A=P(),C=R("div"),b=R("div"),Bs(E.$$.fragment),D=P(),Bs(N.$$.fragment),O=P(),U=R("div"),H=P(),X=R("h2"),X.innerHTML=es,us=P(),ls=R("table"),ls.innerHTML=hs,gs=P(),vs=R("div"),Es=P(),Ls=R("h2"),Ls.innerHTML=Ws,Hs=P(),bs=R("table"),Ps=R("thead"),Ps.innerHTML=Rs,Is=P(),ae=R("tbody"),Zs=R("tr"),Os=R("td"),Os.textContent=ve,le=P(),zs=R("td"),Qs=te("You have access to title by "),Bs(Ms.$$.fragment),ge=P(),re=R("div"),Re=P(),Vs=R("h2"),Vs.innerHTML=Be,Ve=P(),De=R("div"),_e=P(),Xs=R("h2"),Xs.innerHTML=$s,xe=P(),Ne=R("table"),Oe=R("thead"),Oe.innerHTML=qe,et=P(),se=R("tbody"),Fe=R("tr"),Fe.innerHTML=at,We=P(),Ee=R("tr"),Ee.innerHTML=ze,lt=P(),S=R("tr"),S.innerHTML=as,is=P(),Ds=R("tr"),Ds.innerHTML=V,ts=P(),w=R("tr"),w.innerHTML=os,Ss=P(),y=R("tr"),J=R("td"),J.textContent=Q,k=P(),M=R("td"),K=te("pass custom properties to the epub init function, see "),Bs(Fs.$$.fragment),As=P(),ms=R("td"),ms.innerHTML=Us,Ze=P(),ee=R("td"),ee.textContent=js,Ae=P(),oe=R("tr"),Ce=R("td"),Ce.textContent=Tt,gt=P(),ie=R("td"),$e=te("pass custom properties to the epub rendition, see "),Bs(ue.$$.fragment),Ge=P(),Ie=R("td"),Ie.innerHTML=xn,dl=P(),St=R("td"),St.textContent=an,Sa=P(),tt=R("tr"),tt.innerHTML=Ol,Rt=P(),dt=R("div"),Ra=P(),It=R("h2"),It.innerHTML=Ia,La=P(),Lt=R("table"),Lt.innerHTML=T,$=P(),L=R("div"),W=P(),G=R("h2"),G.innerHTML=j,ns=P(),rs=R("table"),rs.innerHTML=ys,cs=P(),ds=R("div"),xs=P(),qs=R("h2"),qs.innerHTML=Js,Ks=P(),ce=R("table"),ce.innerHTML=me,Me=P(),nt=R("div"),ln=P(),Nt=R("h2"),Nt.innerHTML=Na,fl=P(),Ot=R("div"),Oa=P(),Ct=R("h2"),Ct.innerHTML=Bi,ql=P(),Tn=R("p"),Tn.innerHTML=_i,$l=P(),qt=R("div"),qa=R("div"),Bs(Sn.$$.fragment),vr=P(),Bs(on.$$.fragment),Pl=P(),Rn=R("div"),zl=P(),In=R("h2"),In.innerHTML=wi,Ml=P(),Ln=R("p"),Ln.textContent=Fi,Ul=P(),$t=R("div"),$a=R("div"),Bs(Nn.$$.fragment),Er=P(),Bs(rn.$$.fragment),Hl=P(),On=R("div"),Vl=P(),qn=R("h2"),qn.innerHTML=ki,jl=P(),$n=R("p"),$n.textContent=xi,Wl=P(),Pt=R("div"),Pa=R("div"),Bs(Pn.$$.fragment),Ar=P(),Bs(pn.$$.fragment),Zl=P(),zn=R("div"),Gl=P(),Mn=R("h2"),Mn.innerHTML=Ti,Yl=P(),Un=R("p"),Un.innerHTML=Si,Xl=P(),zt=R("div"),za=R("div"),Bs(Hn.$$.fragment),Dr=P(),Bs(cn.$$.fragment),Kl=P(),Vn=R("div"),Jl=P(),jn=R("h2"),jn.innerHTML=Ri,Ql=P(),Wn=R("p"),Wn.textContent=Ii,so=P(),Mt=R("div"),Ma=R("div"),Bs(Zn.$$.fragment),mr=P(),Bs(un.$$.fragment),eo=P(),Gn=R("div"),to=P(),Yn=R("h2"),Yn.innerHTML=Li,no=P(),Xn=R("p"),Xn.innerHTML=Ni,ao=P(),Kn=R("div"),ot=R("div"),Ut=R("pre"),Ut.innerHTML=Oi,gr=P(),Ht=R("pre"),Ht.innerHTML=qi,Cr=P(),Jn=R("div"),Jn.textContent=$i,br=P(),Bs(Qn.$$.fragment),lo=P(),sa=R("div"),oo=P(),ea=R("h2"),ea.innerHTML=Pi,ro=P(),ta=R("p"),ta.innerHTML=zi,io=P(),Vt=R("div"),Ua=R("div"),Bs(na.$$.fragment),Br=P(),Bs(yn.$$.fragment),po=P(),aa=R("div"),co=P(),la=R("h2"),la.innerHTML=Mi,uo=P(),oa=R("p"),oa.innerHTML=Ui,yo=P(),ra=R("div"),rt=R("div"),jt=R("pre"),jt.innerHTML=Hi,_r=P(),Wt=R("pre"),Wt.innerHTML=Vi,wr=P(),ia=R("div"),ia.textContent=ji,Fr=P(),Bs(pa.$$.fragment),fo=P(),ca=R("div"),ho=P(),ua=R("h2"),ua.innerHTML=Wi,vo=P(),Zt=R("div"),Ha=R("div"),Bs(ya.$$.fragment),kr=P(),Bs(dn.$$.fragment),Eo=P(),da=R("div"),Ao=P(),fa=R("h2"),fa.innerHTML=Zi,Do=P(),Gt=R("div"),Va=R("div"),Bs(ha.$$.fragment),xr=P(),Bs(fn.$$.fragment),mo=P(),va=R("div"),go=P(),Ea=R("h2"),Ea.innerHTML=Gi,Co=P(),Yt=R("div"),ja=R("div"),Bs(Aa.$$.fragment),Tr=P(),Bs(hn.$$.fragment),bo=P(),Da=R("div"),Bo=P(),ma=R("h2"),ma.innerHTML=Yi,_o=P(),Xt=R("div"),Wa=R("div"),Bs(ga.$$.fragment),Sr=P(),Bs(vn.$$.fragment),wo=P(),Ca=R("div"),Fo=P(),ba=R("h2"),ba.innerHTML=Xi,ko=P(),Kt=R("div"),Za=R("div"),Bs(Ba.$$.fragment),Rr=P(),Bs(En.$$.fragment),this.h()},l(_){s=I(_,"DIV",{id:!0,class:!0}),Y(s).forEach(B),e=z(_),t=I(_,"H1",{"data-svelte-h":!0}),ss(t)!=="svelte-ksnp8q"&&(t.innerHTML=n),a=z(_),o=I(_,"P",{"data-svelte-h":!0}),ss(o)!=="svelte-1jum016"&&(o.textContent=r),i=z(_),p=I(_,"DIV",{id:!0,class:!0}),Y(p).forEach(B),c=z(_),u=I(_,"H2",{"data-svelte-h":!0}),ss(u)!=="svelte-1s1o76g"&&(u.innerHTML=f),h=z(_),ks(g.$$.fragment,_),m=z(_),d=I(_,"P",{"data-svelte-h":!0}),ss(d)!=="svelte-xz378m"&&(d.textContent=v),A=z(_),C=I(_,"DIV",{class:!0});var Z=Y(C);b=I(Z,"DIV",{class:!0});var hl=Y(b);ks(E.$$.fragment,hl),hl.forEach(B),D=z(Z),ks(N.$$.fragment,Z),Z.forEach(B),O=z(_),U=I(_,"DIV",{id:!0,class:!0}),Y(U).forEach(B),H=z(_),X=I(_,"H2",{"data-svelte-h":!0}),ss(X)!=="svelte-1605ty6"&&(X.innerHTML=es),us=z(_),ls=I(_,"TABLE",{"data-svelte-h":!0}),ss(ls)!=="svelte-1d1248g"&&(ls.innerHTML=hs),gs=z(_),vs=I(_,"DIV",{id:!0,class:!0}),Y(vs).forEach(B),Es=z(_),Ls=I(_,"H2",{"data-svelte-h":!0}),ss(Ls)!=="svelte-1lq7ezq"&&(Ls.innerHTML=Ws),Hs=z(_),bs=I(_,"TABLE",{});var _a=Y(bs);Ps=I(_a,"THEAD",{"data-svelte-h":!0}),ss(Ps)!=="svelte-182qaci"&&(Ps.innerHTML=Rs),Is=z(_a),ae=I(_a,"TBODY",{});var vl=Y(ae);Zs=I(vl,"TR",{});var wa=Y(Zs);Os=I(wa,"TD",{"data-svelte-h":!0}),ss(Os)!=="svelte-18gaf8k"&&(Os.textContent=ve),le=z(wa),zs=I(wa,"TD",{});var Ga=Y(zs);Qs=ne(Ga,"You have access to title by "),ks(Ms.$$.fragment,Ga),Ga.forEach(B),wa.forEach(B),vl.forEach(B),_a.forEach(B),ge=z(_),re=I(_,"DIV",{id:!0,class:!0}),Y(re).forEach(B),Re=z(_),Vs=I(_,"H2",{"data-svelte-h":!0}),ss(Vs)!=="svelte-1cdycl3"&&(Vs.innerHTML=Be),Ve=z(_),De=I(_,"DIV",{id:!0,class:!0}),Y(De).forEach(B),_e=z(_),Xs=I(_,"H2",{"data-svelte-h":!0}),ss(Xs)!=="svelte-7os9j7"&&(Xs.innerHTML=$s),xe=z(_),Ne=I(_,"TABLE",{});var Fa=Y(Ne);Oe=I(Fa,"THEAD",{"data-svelte-h":!0}),ss(Oe)!=="svelte-1g1kqrn"&&(Oe.innerHTML=qe),et=z(Fa),se=I(Fa,"TBODY",{});var Le=Y(se);Fe=I(Le,"TR",{"data-svelte-h":!0}),ss(Fe)!=="svelte-1vgrk9z"&&(Fe.innerHTML=at),We=z(Le),Ee=I(Le,"TR",{"data-svelte-h":!0}),ss(Ee)!=="svelte-g9o08l"&&(Ee.innerHTML=ze),lt=z(Le),S=I(Le,"TR",{"data-svelte-h":!0}),ss(S)!=="svelte-1n2y1m1"&&(S.innerHTML=as),is=z(Le),Ds=I(Le,"TR",{"data-svelte-h":!0}),ss(Ds)!=="svelte-1343vxv"&&(Ds.innerHTML=V),ts=z(Le),w=I(Le,"TR",{"data-svelte-h":!0}),ss(w)!=="svelte-uk1qmc"&&(w.innerHTML=os),Ss=z(Le),y=I(Le,"TR",{});var ft=Y(y);J=I(ft,"TD",{"data-svelte-h":!0}),ss(J)!=="svelte-jyxp3s"&&(J.textContent=Q),k=z(ft),M=I(ft,"TD",{});var Ya=Y(M);K=ne(Ya,"pass custom properties to the epub init function, see "),ks(Fs.$$.fragment,Ya),Ya.forEach(B),As=z(ft),ms=I(ft,"TD",{"data-svelte-h":!0}),ss(ms)!=="svelte-1cr7pfm"&&(ms.innerHTML=Us),Ze=z(ft),ee=I(ft,"TD",{"data-svelte-h":!0}),ss(ee)!=="svelte-1nsl16q"&&(ee.textContent=js),ft.forEach(B),Ae=z(Le),oe=I(Le,"TR",{});var ht=Y(oe);Ce=I(ht,"TD",{"data-svelte-h":!0}),ss(Ce)!=="svelte-k8w8bm"&&(Ce.textContent=Tt),gt=z(ht),ie=I(ht,"TD",{});var Xa=Y(ie);$e=ne(Xa,"pass custom properties to the epub rendition, see "),ks(ue.$$.fragment,Xa),Xa.forEach(B),Ge=z(ht),Ie=I(ht,"TD",{"data-svelte-h":!0}),ss(Ie)!=="svelte-1cr7pfm"&&(Ie.innerHTML=xn),dl=z(ht),St=I(ht,"TD",{"data-svelte-h":!0}),ss(St)!=="svelte-1nsl16q"&&(St.textContent=an),ht.forEach(B),Sa=z(Le),tt=I(Le,"TR",{"data-svelte-h":!0}),ss(tt)!=="svelte-ok2us0"&&(tt.innerHTML=Ol),Le.forEach(B),Fa.forEach(B),Rt=z(_),dt=I(_,"DIV",{id:!0,class:!0}),Y(dt).forEach(B),Ra=z(_),It=I(_,"H2",{"data-svelte-h":!0}),ss(It)!=="svelte-aaxjub"&&(It.innerHTML=Ia),La=z(_),Lt=I(_,"TABLE",{"data-svelte-h":!0}),ss(Lt)!=="svelte-1vlvvis"&&(Lt.innerHTML=T),$=z(_),L=I(_,"DIV",{id:!0,class:!0}),Y(L).forEach(B),W=z(_),G=I(_,"H2",{"data-svelte-h":!0}),ss(G)!=="svelte-1bz25xk"&&(G.innerHTML=j),ns=z(_),rs=I(_,"TABLE",{"data-svelte-h":!0}),ss(rs)!=="svelte-m3nv5o"&&(rs.innerHTML=ys),cs=z(_),ds=I(_,"DIV",{id:!0,class:!0}),Y(ds).forEach(B),xs=z(_),qs=I(_,"H2",{"data-svelte-h":!0}),ss(qs)!=="svelte-1sm06f9"&&(qs.innerHTML=Js),Ks=z(_),ce=I(_,"TABLE",{"data-svelte-h":!0}),ss(ce)!=="svelte-7dwfya"&&(ce.innerHTML=me),Me=z(_),nt=I(_,"DIV",{id:!0,class:!0}),Y(nt).forEach(B),ln=z(_),Nt=I(_,"H2",{"data-svelte-h":!0}),ss(Nt)!=="svelte-1vinbne"&&(Nt.innerHTML=Na),fl=z(_),Ot=I(_,"DIV",{id:!0,class:!0}),Y(Ot).forEach(B),Oa=z(_),Ct=I(_,"H2",{"data-svelte-h":!0}),ss(Ct)!=="svelte-e7rmtj"&&(Ct.innerHTML=Bi),ql=z(_),Tn=I(_,"P",{"data-svelte-h":!0}),ss(Tn)!=="svelte-bneilj"&&(Tn.innerHTML=_i),$l=z(_),qt=I(_,"DIV",{class:!0});var ka=Y(qt);qa=I(ka,"DIV",{class:!0});var El=Y(qa);ks(Sn.$$.fragment,El),El.forEach(B),vr=z(ka),ks(on.$$.fragment,ka),ka.forEach(B),Pl=z(_),Rn=I(_,"DIV",{id:!0,class:!0}),Y(Rn).forEach(B),zl=z(_),In=I(_,"H2",{"data-svelte-h":!0}),ss(In)!=="svelte-1tpe7qa"&&(In.innerHTML=wi),Ml=z(_),Ln=I(_,"P",{"data-svelte-h":!0}),ss(Ln)!=="svelte-19517p0"&&(Ln.textContent=Fi),Ul=z(_),$t=I(_,"DIV",{class:!0});var To=Y($t);$a=I(To,"DIV",{class:!0});var Ki=Y($a);ks(Nn.$$.fragment,Ki),Ki.forEach(B),Er=z(To),ks(rn.$$.fragment,To),To.forEach(B),Hl=z(_),On=I(_,"DIV",{id:!0,class:!0}),Y(On).forEach(B),Vl=z(_),qn=I(_,"H2",{"data-svelte-h":!0}),ss(qn)!=="svelte-opm8p6"&&(qn.innerHTML=ki),jl=z(_),$n=I(_,"P",{"data-svelte-h":!0}),ss($n)!=="svelte-1g9ovst"&&($n.textContent=xi),Wl=z(_),Pt=I(_,"DIV",{class:!0});var So=Y(Pt);Pa=I(So,"DIV",{class:!0});var Ji=Y(Pa);ks(Pn.$$.fragment,Ji),Ji.forEach(B),Ar=z(So),ks(pn.$$.fragment,So),So.forEach(B),Zl=z(_),zn=I(_,"DIV",{id:!0,class:!0}),Y(zn).forEach(B),Gl=z(_),Mn=I(_,"H2",{"data-svelte-h":!0}),ss(Mn)!=="svelte-1d5hf9y"&&(Mn.innerHTML=Ti),Yl=z(_),Un=I(_,"P",{"data-svelte-h":!0}),ss(Un)!=="svelte-17nou6h"&&(Un.innerHTML=Si),Xl=z(_),zt=I(_,"DIV",{class:!0});var Ro=Y(zt);za=I(Ro,"DIV",{class:!0});var Qi=Y(za);ks(Hn.$$.fragment,Qi),Qi.forEach(B),Dr=z(Ro),ks(cn.$$.fragment,Ro),Ro.forEach(B),Kl=z(_),Vn=I(_,"DIV",{id:!0,class:!0}),Y(Vn).forEach(B),Jl=z(_),jn=I(_,"H2",{"data-svelte-h":!0}),ss(jn)!=="svelte-4pyub8"&&(jn.innerHTML=Ri),Ql=z(_),Wn=I(_,"P",{"data-svelte-h":!0}),ss(Wn)!=="svelte-nlgbgx"&&(Wn.textContent=Ii),so=z(_),Mt=I(_,"DIV",{class:!0});var Io=Y(Mt);Ma=I(Io,"DIV",{class:!0});var sp=Y(Ma);ks(Zn.$$.fragment,sp),sp.forEach(B),mr=z(Io),ks(un.$$.fragment,Io),Io.forEach(B),eo=z(_),Gn=I(_,"DIV",{id:!0,class:!0}),Y(Gn).forEach(B),to=z(_),Yn=I(_,"H2",{"data-svelte-h":!0}),ss(Yn)!=="svelte-1hwedqv"&&(Yn.innerHTML=Li),no=z(_),Xn=I(_,"P",{"data-svelte-h":!0}),ss(Xn)!=="svelte-1xkokrm"&&(Xn.innerHTML=Ni),ao=z(_),Kn=I(_,"DIV",{class:!0});var ep=Y(Kn);ot=I(ep,"DIV",{class:!0});var An=Y(ot);Ut=I(An,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(Ut)!=="svelte-zmqe4u"&&(Ut.innerHTML=Oi),gr=z(An),Ht=I(An,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(Ht)!=="svelte-1j12uly"&&(Ht.innerHTML=qi),Cr=z(An),Jn=I(An,"DIV",{class:!0,"data-svelte-h":!0}),ss(Jn)!=="svelte-xa0fuv"&&(Jn.textContent=$i),br=z(An),ks(Qn.$$.fragment,An),An.forEach(B),ep.forEach(B),lo=z(_),sa=I(_,"DIV",{id:!0,class:!0}),Y(sa).forEach(B),oo=z(_),ea=I(_,"H2",{"data-svelte-h":!0}),ss(ea)!=="svelte-d59sko"&&(ea.innerHTML=Pi),ro=z(_),ta=I(_,"P",{"data-svelte-h":!0}),ss(ta)!=="svelte-sks00v"&&(ta.innerHTML=zi),io=z(_),Vt=I(_,"DIV",{class:!0});var Lo=Y(Vt);Ua=I(Lo,"DIV",{class:!0});var tp=Y(Ua);ks(na.$$.fragment,tp),tp.forEach(B),Br=z(Lo),ks(yn.$$.fragment,Lo),Lo.forEach(B),po=z(_),aa=I(_,"DIV",{id:!0,class:!0}),Y(aa).forEach(B),co=z(_),la=I(_,"H2",{"data-svelte-h":!0}),ss(la)!=="svelte-1w9ulnd"&&(la.innerHTML=Mi),uo=z(_),oa=I(_,"P",{"data-svelte-h":!0}),ss(oa)!=="svelte-cvzaji"&&(oa.innerHTML=Ui),yo=z(_),ra=I(_,"DIV",{class:!0});var np=Y(ra);rt=I(np,"DIV",{class:!0});var Dn=Y(rt);jt=I(Dn,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(jt)!=="svelte-1iug07e"&&(jt.innerHTML=Hi),_r=z(Dn),Wt=I(Dn,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ss(Wt)!=="svelte-12b2gyy"&&(Wt.innerHTML=Vi),wr=z(Dn),ia=I(Dn,"DIV",{class:!0,"data-svelte-h":!0}),ss(ia)!=="svelte-xa0fuv"&&(ia.textContent=ji),Fr=z(Dn),ks(pa.$$.fragment,Dn),Dn.forEach(B),np.forEach(B),fo=z(_),ca=I(_,"DIV",{id:!0,class:!0}),Y(ca).forEach(B),ho=z(_),ua=I(_,"H2",{"data-svelte-h":!0}),ss(ua)!=="svelte-n9h8qu"&&(ua.innerHTML=Wi),vo=z(_),Zt=I(_,"DIV",{class:!0});var No=Y(Zt);Ha=I(No,"DIV",{class:!0});var ap=Y(Ha);ks(ya.$$.fragment,ap),ap.forEach(B),kr=z(No),ks(dn.$$.fragment,No),No.forEach(B),Eo=z(_),da=I(_,"DIV",{id:!0,class:!0}),Y(da).forEach(B),Ao=z(_),fa=I(_,"H2",{"data-svelte-h":!0}),ss(fa)!=="svelte-1v64bef"&&(fa.innerHTML=Zi),Do=z(_),Gt=I(_,"DIV",{class:!0});var Oo=Y(Gt);Va=I(Oo,"DIV",{class:!0});var lp=Y(Va);ks(ha.$$.fragment,lp),lp.forEach(B),xr=z(Oo),ks(fn.$$.fragment,Oo),Oo.forEach(B),mo=z(_),va=I(_,"DIV",{id:!0,class:!0}),Y(va).forEach(B),go=z(_),Ea=I(_,"H2",{"data-svelte-h":!0}),ss(Ea)!=="svelte-1ngs6ze"&&(Ea.innerHTML=Gi),Co=z(_),Yt=I(_,"DIV",{class:!0});var qo=Y(Yt);ja=I(qo,"DIV",{class:!0});var op=Y(ja);ks(Aa.$$.fragment,op),op.forEach(B),Tr=z(qo),ks(hn.$$.fragment,qo),qo.forEach(B),bo=z(_),Da=I(_,"DIV",{id:!0,class:!0}),Y(Da).forEach(B),Bo=z(_),ma=I(_,"H2",{"data-svelte-h":!0}),ss(ma)!=="svelte-1dzmvrl"&&(ma.innerHTML=Yi),_o=z(_),Xt=I(_,"DIV",{class:!0});var $o=Y(Xt);Wa=I($o,"DIV",{class:!0});var rp=Y(Wa);ks(ga.$$.fragment,rp),rp.forEach(B),Sr=z($o),ks(vn.$$.fragment,$o),$o.forEach(B),wo=z(_),Ca=I(_,"DIV",{id:!0,class:!0}),Y(Ca).forEach(B),Fo=z(_),ba=I(_,"H2",{"data-svelte-h":!0}),ss(ba)!=="svelte-1uar5gy"&&(ba.innerHTML=Xi),ko=z(_),Kt=I(_,"DIV",{class:!0});var Po=Y(Kt);Za=I(Po,"DIV",{class:!0});var ip=Y(Za);ks(Ba.$$.fragment,ip),ip.forEach(B),Rr=z(Po),ks(En.$$.fragment,Po),Po.forEach(B),this.h()},h(){x(s,"id","Svelte-Reader---an-easy-way-to-embed-a-ePub-into-your-webapp"),x(s,"class","svp-anchor-item"),x(p,"id","Basic-usage"),x(p,"class","svp-anchor-item"),x(b,"class","svp-live-code--demo"),x(C,"class","svp-live-code--container"),x(U,"id","SvelteReader-Attributes"),x(U,"class","svp-anchor-item"),x(vs,"id","SvelteReader-Slots"),x(vs,"class","svp-anchor-item"),x(re,"id","SvelteReader-props-passed-to-inner-EpubView"),x(re,"class","svp-anchor-item"),x(De,"id","EpubView-Attributes"),x(De,"class","svp-anchor-item"),x(dt,"id","EpubView-Events"),x(dt,"class","svp-anchor-item"),x(L,"id","EpubView--Slots"),x(L,"class","svp-anchor-item"),x(ds,"id","EpubView-Exposes"),x(ds,"class","svp-anchor-item"),x(nt,"id","Recipes-and-tips"),x(nt,"class","svp-anchor-item"),x(Ot,"id","Save-and-retrieve-progress-from-storage"),x(Ot,"class","svp-anchor-item"),x(qa,"class","svp-live-code--demo"),x(qt,"class","svp-live-code--container"),x(Rn,"id","Display-page-number-for-current-chapter"),x(Rn,"class","svp-anchor-item"),x($a,"class","svp-live-code--demo"),x($t,"class","svp-live-code--container"),x(On,"id","Change-font-size"),x(On,"class","svp-anchor-item"),x(Pa,"class","svp-live-code--demo"),x(Pt,"class","svp-live-code--container"),x(zn,"id","Add---adjust-custom-css-for-the-epub-html"),x(zn,"class","svp-anchor-item"),x(za,"class","svp-live-code--demo"),x(zt,"class","svp-live-code--container"),x(Vn,"id","Hightlight-selection-in-epub"),x(Vn,"class","svp-anchor-item"),x(Ma,"class","svp-live-code--demo"),x(Mt,"class","svp-live-code--container"),x(Gn,"id","Handling-missing-mime-types-on-server"),x(Gn,"class","svp-anchor-item"),x(Ut,"class","shiki vitesse-light"),Ts(Ut,"background-color","#ffffff"),x(Ut,"tabindex","0"),x(Ht,"class","shiki night-owl"),Ts(Ht,"background-color","#011627"),x(Ht,"tabindex","0"),x(Jn,"class","svp-code-block--lang"),x(ot,"class","svp-code-block"),x(Kn,"class","svp-code-block-wrapper"),x(sa,"id","Display-a-scrolled-epub-view"),x(sa,"class","svp-anchor-item"),x(Ua,"class","svp-live-code--demo"),x(Vt,"class","svp-live-code--container"),x(aa,"id","Enable-opening-links---running-scripts-inside-epubjs-iframe"),x(aa,"class","svp-anchor-item"),x(jt,"class","shiki vitesse-light"),Ts(jt,"background-color","#ffffff"),x(jt,"tabindex","0"),x(Wt,"class","shiki night-owl"),Ts(Wt,"background-color","#011627"),x(Wt,"tabindex","0"),x(ia,"class","svp-code-block--lang"),x(rt,"class","svp-code-block"),x(ra,"class","svp-code-block-wrapper"),x(ca,"id","Speak-the-text"),x(ca,"class","svp-anchor-item"),x(Ha,"class","svp-live-code--demo"),x(Zt,"class","svp-live-code--container"),x(da,"id","Get-book-information"),x(da,"class","svp-anchor-item"),x(Va,"class","svp-live-code--demo"),x(Gt,"class","svp-live-code--container"),x(va,"id","Import-file"),x(va,"class","svp-anchor-item"),x(ja,"class","svp-live-code--demo"),x(Yt,"class","svp-live-code--container"),x(Da,"id","Current-progress"),x(Da,"class","svp-anchor-item"),x(Wa,"class","svp-live-code--demo"),x(Xt,"class","svp-live-code--container"),x(Ca,"id","Search-in-the-book"),x(Ca,"class","svp-anchor-item"),x(Za,"class","svp-live-code--demo"),x(Kt,"class","svp-live-code--container")},m(_,Z){q(_,s,Z),q(_,e,Z),q(_,t,Z),q(_,a,Z),q(_,o,Z),q(_,i,Z),q(_,p,Z),q(_,c,Z),q(_,u,Z),q(_,h,Z),_s(g,_,Z),q(_,m,Z),q(_,d,Z),q(_,A,Z),q(_,C,Z),F(C,b),_s(E,b,null),F(C,D),_s(N,C,null),q(_,O,Z),q(_,U,Z),q(_,H,Z),q(_,X,Z),q(_,us,Z),q(_,ls,Z),q(_,gs,Z),q(_,vs,Z),q(_,Es,Z),q(_,Ls,Z),q(_,Hs,Z),q(_,bs,Z),F(bs,Ps),F(bs,Is),F(bs,ae),F(ae,Zs),F(Zs,Os),F(Zs,le),F(Zs,zs),F(zs,Qs),_s(Ms,zs,null),q(_,ge,Z),q(_,re,Z),q(_,Re,Z),q(_,Vs,Z),q(_,Ve,Z),q(_,De,Z),q(_,_e,Z),q(_,Xs,Z),q(_,xe,Z),q(_,Ne,Z),F(Ne,Oe),F(Ne,et),F(Ne,se),F(se,Fe),F(se,We),F(se,Ee),F(se,lt),F(se,S),F(se,is),F(se,Ds),F(se,ts),F(se,w),F(se,Ss),F(se,y),F(y,J),F(y,k),F(y,M),F(M,K),_s(Fs,M,null),F(y,As),F(y,ms),F(y,Ze),F(y,ee),F(se,Ae),F(se,oe),F(oe,Ce),F(oe,gt),F(oe,ie),F(ie,$e),_s(ue,ie,null),F(oe,Ge),F(oe,Ie),F(oe,dl),F(oe,St),F(se,Sa),F(se,tt),q(_,Rt,Z),q(_,dt,Z),q(_,Ra,Z),q(_,It,Z),q(_,La,Z),q(_,Lt,Z),q(_,$,Z),q(_,L,Z),q(_,W,Z),q(_,G,Z),q(_,ns,Z),q(_,rs,Z),q(_,cs,Z),q(_,ds,Z),q(_,xs,Z),q(_,qs,Z),q(_,Ks,Z),q(_,ce,Z),q(_,Me,Z),q(_,nt,Z),q(_,ln,Z),q(_,Nt,Z),q(_,fl,Z),q(_,Ot,Z),q(_,Oa,Z),q(_,Ct,Z),q(_,ql,Z),q(_,Tn,Z),q(_,$l,Z),q(_,qt,Z),F(qt,qa),_s(Sn,qa,null),F(qt,vr),_s(on,qt,null),q(_,Pl,Z),q(_,Rn,Z),q(_,zl,Z),q(_,In,Z),q(_,Ml,Z),q(_,Ln,Z),q(_,Ul,Z),q(_,$t,Z),F($t,$a),_s(Nn,$a,null),F($t,Er),_s(rn,$t,null),q(_,Hl,Z),q(_,On,Z),q(_,Vl,Z),q(_,qn,Z),q(_,jl,Z),q(_,$n,Z),q(_,Wl,Z),q(_,Pt,Z),F(Pt,Pa),_s(Pn,Pa,null),F(Pt,Ar),_s(pn,Pt,null),q(_,Zl,Z),q(_,zn,Z),q(_,Gl,Z),q(_,Mn,Z),q(_,Yl,Z),q(_,Un,Z),q(_,Xl,Z),q(_,zt,Z),F(zt,za),_s(Hn,za,null),F(zt,Dr),_s(cn,zt,null),q(_,Kl,Z),q(_,Vn,Z),q(_,Jl,Z),q(_,jn,Z),q(_,Ql,Z),q(_,Wn,Z),q(_,so,Z),q(_,Mt,Z),F(Mt,Ma),_s(Zn,Ma,null),F(Mt,mr),_s(un,Mt,null),q(_,eo,Z),q(_,Gn,Z),q(_,to,Z),q(_,Yn,Z),q(_,no,Z),q(_,Xn,Z),q(_,ao,Z),q(_,Kn,Z),F(Kn,ot),F(ot,Ut),F(ot,gr),F(ot,Ht),F(ot,Cr),F(ot,Jn),F(ot,br),_s(Qn,ot,null),q(_,lo,Z),q(_,sa,Z),q(_,oo,Z),q(_,ea,Z),q(_,ro,Z),q(_,ta,Z),q(_,io,Z),q(_,Vt,Z),F(Vt,Ua),_s(na,Ua,null),F(Vt,Br),_s(yn,Vt,null),q(_,po,Z),q(_,aa,Z),q(_,co,Z),q(_,la,Z),q(_,uo,Z),q(_,oa,Z),q(_,yo,Z),q(_,ra,Z),F(ra,rt),F(rt,jt),F(rt,_r),F(rt,Wt),F(rt,wr),F(rt,ia),F(rt,Fr),_s(pa,rt,null),q(_,fo,Z),q(_,ca,Z),q(_,ho,Z),q(_,ua,Z),q(_,vo,Z),q(_,Zt,Z),F(Zt,Ha),_s(ya,Ha,null),F(Zt,kr),_s(dn,Zt,null),q(_,Eo,Z),q(_,da,Z),q(_,Ao,Z),q(_,fa,Z),q(_,Do,Z),q(_,Gt,Z),F(Gt,Va),_s(ha,Va,null),F(Gt,xr),_s(fn,Gt,null),q(_,mo,Z),q(_,va,Z),q(_,go,Z),q(_,Ea,Z),q(_,Co,Z),q(_,Yt,Z),F(Yt,ja),_s(Aa,ja,null),F(Yt,Tr),_s(hn,Yt,null),q(_,bo,Z),q(_,Da,Z),q(_,Bo,Z),q(_,ma,Z),q(_,_o,Z),q(_,Xt,Z),F(Xt,Wa),_s(ga,Wa,null),F(Xt,Sr),_s(vn,Xt,null),q(_,wo,Z),q(_,Ca,Z),q(_,Fo,Z),q(_,ba,Z),q(_,ko,Z),q(_,Kt,Z),F(Kt,Za),_s(Ba,Za,null),F(Kt,Rr),_s(En,Kt,null),xo=!0},p(_,Z){const hl={};Z&2&&(hl.$$scope={dirty:Z,ctx:_}),g.$set(hl);const _a={};Z&2&&(_a.$$scope={dirty:Z,ctx:_}),N.$set(_a);const vl={};Z&2&&(vl.$$scope={dirty:Z,ctx:_}),on.$set(vl);const wa={};Z&2&&(wa.$$scope={dirty:Z,ctx:_}),rn.$set(wa);const Ga={};Z&2&&(Ga.$$scope={dirty:Z,ctx:_}),pn.$set(Ga);const Fa={};Z&2&&(Fa.$$scope={dirty:Z,ctx:_}),cn.$set(Fa);const Le={};Z&2&&(Le.$$scope={dirty:Z,ctx:_}),un.$set(Le);const ft={};Z&2&&(ft.$$scope={dirty:Z,ctx:_}),yn.$set(ft);const Ya={};Z&2&&(Ya.$$scope={dirty:Z,ctx:_}),dn.$set(Ya);const ht={};Z&2&&(ht.$$scope={dirty:Z,ctx:_}),fn.$set(ht);const Xa={};Z&2&&(Xa.$$scope={dirty:Z,ctx:_}),hn.$set(Xa);const ka={};Z&2&&(ka.$$scope={dirty:Z,ctx:_}),vn.$set(ka);const El={};Z&2&&(El.$$scope={dirty:Z,ctx:_}),En.$set(El)},i(_){xo||(ps(g.$$.fragment,_),ps(E.$$.fragment,_),ps(N.$$.fragment,_),ps(Ms.$$.fragment,_),ps(Fs.$$.fragment,_),ps(ue.$$.fragment,_),ps(Sn.$$.fragment,_),ps(on.$$.fragment,_),ps(Nn.$$.fragment,_),ps(rn.$$.fragment,_),ps(Pn.$$.fragment,_),ps(pn.$$.fragment,_),ps(Hn.$$.fragment,_),ps(cn.$$.fragment,_),ps(Zn.$$.fragment,_),ps(un.$$.fragment,_),ps(Qn.$$.fragment,_),ps(na.$$.fragment,_),ps(yn.$$.fragment,_),ps(pa.$$.fragment,_),ps(ya.$$.fragment,_),ps(dn.$$.fragment,_),ps(ha.$$.fragment,_),ps(fn.$$.fragment,_),ps(Aa.$$.fragment,_),ps(hn.$$.fragment,_),ps(ga.$$.fragment,_),ps(vn.$$.fragment,_),ps(Ba.$$.fragment,_),ps(En.$$.fragment,_),xo=!0)},o(_){fs(g.$$.fragment,_),fs(E.$$.fragment,_),fs(N.$$.fragment,_),fs(Ms.$$.fragment,_),fs(Fs.$$.fragment,_),fs(ue.$$.fragment,_),fs(Sn.$$.fragment,_),fs(on.$$.fragment,_),fs(Nn.$$.fragment,_),fs(rn.$$.fragment,_),fs(Pn.$$.fragment,_),fs(pn.$$.fragment,_),fs(Hn.$$.fragment,_),fs(cn.$$.fragment,_),fs(Zn.$$.fragment,_),fs(un.$$.fragment,_),fs(Qn.$$.fragment,_),fs(na.$$.fragment,_),fs(yn.$$.fragment,_),fs(pa.$$.fragment,_),fs(ya.$$.fragment,_),fs(dn.$$.fragment,_),fs(ha.$$.fragment,_),fs(fn.$$.fragment,_),fs(Aa.$$.fragment,_),fs(hn.$$.fragment,_),fs(ga.$$.fragment,_),fs(vn.$$.fragment,_),fs(Ba.$$.fragment,_),fs(En.$$.fragment,_),xo=!1},d(_){_&&(B(s),B(e),B(t),B(a),B(o),B(i),B(p),B(c),B(u),B(h),B(m),B(d),B(A),B(C),B(O),B(U),B(H),B(X),B(us),B(ls),B(gs),B(vs),B(Es),B(Ls),B(Hs),B(bs),B(ge),B(re),B(Re),B(Vs),B(Ve),B(De),B(_e),B(Xs),B(xe),B(Ne),B(Rt),B(dt),B(Ra),B(It),B(La),B(Lt),B($),B(L),B(W),B(G),B(ns),B(rs),B(cs),B(ds),B(xs),B(qs),B(Ks),B(ce),B(Me),B(nt),B(ln),B(Nt),B(fl),B(Ot),B(Oa),B(Ct),B(ql),B(Tn),B($l),B(qt),B(Pl),B(Rn),B(zl),B(In),B(Ml),B(Ln),B(Ul),B($t),B(Hl),B(On),B(Vl),B(qn),B(jl),B($n),B(Wl),B(Pt),B(Zl),B(zn),B(Gl),B(Mn),B(Yl),B(Un),B(Xl),B(zt),B(Kl),B(Vn),B(Jl),B(jn),B(Ql),B(Wn),B(so),B(Mt),B(eo),B(Gn),B(to),B(Yn),B(no),B(Xn),B(ao),B(Kn),B(lo),B(sa),B(oo),B(ea),B(ro),B(ta),B(io),B(Vt),B(po),B(aa),B(co),B(la),B(uo),B(oa),B(yo),B(ra),B(fo),B(ca),B(ho),B(ua),B(vo),B(Zt),B(Eo),B(da),B(Ao),B(fa),B(Do),B(Gt),B(mo),B(va),B(go),B(Ea),B(Co),B(Yt),B(bo),B(Da),B(Bo),B(ma),B(_o),B(Xt),B(wo),B(Ca),B(Fo),B(ba),B(ko),B(Kt)),ws(g,_),ws(E),ws(N),ws(Ms),ws(Fs),ws(ue),ws(Sn),ws(on),ws(Nn),ws(rn),ws(Pn),ws(pn),ws(Hn),ws(cn),ws(Zn),ws(un),ws(Qn),ws(na),ws(yn),ws(pa),ws(ya),ws(dn),ws(ha),ws(fn),ws(Aa),ws(hn),ws(ga),ws(vn),ws(Ba),ws(En)}}}function o3(l){let s,e;return s=new su({props:{fm:l[0],$$slots:{default:[l3]},$$scope:{ctx:l}}}),{c(){Bs(s.$$.fragment)},l(t){ks(s.$$.fragment,t)},m(t,n){_s(s,t,n),e=!0},p(t,[n]){const a={};n&2&&(a.$$scope={dirty:n,ctx:t}),s.$set(a)},i(t){e||(ps(s.$$.fragment,t),e=!0)},o(t){fs(s.$$.fragment,t),e=!1},d(t){ws(s,t)}}}function r3(l){return[{pageType:"md",lastUpdate:"2023/07/25 17:21:11",anchors:[{slugId:"Svelte-Reader---an-easy-way-to-embed-a-ePub-into-your-webapp",title:"Svelte Reader - an easy way to embed a ePub into your webapp",depth:1},{slugId:"Basic-usage",title:"Basic usage",depth:2},{slugId:"SvelteReader-Attributes",title:"SvelteReader Attributes",depth:2},{slugId:"SvelteReader-Slots",title:"SvelteReader Slots",depth:2},{slugId:"SvelteReader-props-passed-to-inner-EpubView",title:"SvelteReader props passed to inner EpubView",depth:2},{slugId:"EpubView-Attributes",title:"EpubView Attributes",depth:2},{slugId:"EpubView-Events",title:"EpubView Events",depth:2},{slugId:"EpubView--Slots",title:"EpubView  Slots",depth:2},{slugId:"EpubView-Exposes",title:"EpubView Exposes",depth:2},{slugId:"Recipes-and-tips",title:"Recipes and tips",depth:2},{slugId:"Save-and-retrieve-progress-from-storage",title:"Save and retrieve progress from storage",depth:2},{slugId:"Display-page-number-for-current-chapter",title:"Display page number for current chapter",depth:2},{slugId:"Change-font-size",title:"Change font-size",depth:2},{slugId:"Add---adjust-custom-css-for-the-epub-html",title:"Add / adjust custom css for the epub-html",depth:2},{slugId:"Hightlight-selection-in-epub",title:"Hightlight selection in epub",depth:2},{slugId:"Handling-missing-mime-types-on-server",title:"Handling missing mime-types on server",depth:2},{slugId:"Display-a-scrolled-epub-view",title:"Display a scrolled epub-view",depth:2},{slugId:"Enable-opening-links---running-scripts-inside-epubjs-iframe",title:"Enable opening links / running scripts inside epubjs iframe",depth:2},{slugId:"Speak-the-text",title:"Speak the text",depth:2},{slugId:"Get-book-information",title:"Get book information",depth:2},{slugId:"Import-file",title:"Import file",depth:2},{slugId:"Current-progress",title:"Current progress",depth:2},{slugId:"Search-in-the-book",title:"Search in the book",depth:2}]}]}class h3 extends fe{constructor(s){super(),he(this,s,r3,o3,de,{})}}export{bi as B,Di as C,Ys as E,g9 as L,h3 as P,Ci as R,yl as e};
